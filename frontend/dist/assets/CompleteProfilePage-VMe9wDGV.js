import{j as e}from"./query-Bv2YtT6Q.js";import{e as b,r as i}from"./vendor-DW262YiZ.js";import{d as g,v,S as N,e as w}from"./index-QTZiQ_WQ.js";import{F as u,I as k,R as y,B as P}from"./FormField-DcLSszBB.js";import"./supabase-BQbgwcOn.js";const C=[{value:"male",label:"Masculino",description:"Participarás en torneos de categoría masculina"},{value:"female",label:"Femenino",description:"Participarás en torneos de categoría femenina"}];function G(){const r=b(),{profile:s,updateProfile:c,isLoading:x,isUpdating:h,missingFields:a}=g(),[t,f]=i.useState((s==null?void 0:s.name)??""),[n,p]=i.useState((s==null?void 0:s.gender)??""),[o,d]=i.useState({}),j=i.useCallback(async l=>{l.preventDefault(),d({});const m=v(w,{name:t,gender:n});if(!m.success){d(m.errors??{});return}c({name:t,gender:n},{onSuccess:()=>{r("/dashboard",{replace:!0})}})},[t,n,c,r]);return x?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-surface-950",children:e.jsx(N,{size:"lg"})}):s!=null&&s.is_complete?(r("/dashboard",{replace:!0}),null):e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-surface-950 via-surface-900 to-surface-950",children:[e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:e.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-primary-500/10 to-transparent rounded-full blur-3xl"})}),e.jsxs("div",{className:"relative w-full max-w-lg",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-surface-400 mb-2",children:[e.jsx("span",{children:"Completando tu perfil"}),e.jsx("span",{className:"text-primary-400",children:"Paso 1 de 1"})]}),e.jsx("div",{className:"h-1 bg-surface-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full w-1/2 bg-gradient-to-r from-primary-500 to-primary-400 rounded-full"})})]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-amber-500 to-orange-500 shadow-lg shadow-amber-500/30 mb-4",children:e.jsx(S,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"¡Ya casi está!"}),e.jsx("p",{className:"text-surface-400",children:"Necesitamos algunos datos para que puedas inscribirte a torneos"})]}),a.length>0&&e.jsx("div",{className:"mb-6 p-4 bg-amber-500/10 border border-amber-500/30 rounded-xl",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(L,{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-amber-200 font-medium",children:"Completá estos campos para continuar:"}),e.jsxs("ul",{className:"mt-1 text-sm text-amber-300/80",children:[a.includes("name")&&e.jsx("li",{children:"• Tu nombre completo"}),a.includes("gender")&&e.jsx("li",{children:"• Tu género (para categorías)"}),a.includes("contact")&&e.jsx("li",{children:"• Email o teléfono de contacto"})]})]})]})}),e.jsx("div",{className:"bg-surface-900/80 backdrop-blur-xl border border-surface-800 rounded-2xl p-6 shadow-xl",children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsx(u,{label:"Nombre completo",error:o.name,required:!0,hint:"Así aparecerás en los torneos",children:e.jsx(k,{type:"text",value:t,onChange:l=>f(l.target.value),placeholder:"Juan Pérez",autoComplete:"name",autoFocus:!0,error:!!o.name})}),e.jsx(u,{label:"Género",error:o.gender,required:!0,children:e.jsx(y,{name:"gender",value:n,onChange:p,options:C,error:!!o.gender})}),e.jsx(P,{type:"submit",fullWidth:!0,isLoading:h,size:"lg",children:"Completar perfil"})]})}),e.jsxs("div",{className:"mt-6 p-4 bg-surface-800/50 rounded-xl border border-surface-700",children:[e.jsxs("h3",{className:"text-sm font-medium text-surface-200 mb-2 flex items-center gap-2",children:[e.jsx(z,{className:"w-4 h-4 text-primary-400"}),"¿Por qué pedimos estos datos?"]}),e.jsxs("ul",{className:"text-xs text-surface-400 space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Nombre:"})," Para identificarte en torneos y rankings"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Género:"})," Para asignarte a la categoría correcta"]})]})]})]})]})}function S({className:r}){return e.jsx("svg",{className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}function L({className:r}){return e.jsx("svg",{className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function z({className:r}){return e.jsx("svg",{className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}export{G as default};
//# sourceMappingURL=CompleteProfilePage-VMe9wDGV.js.map
