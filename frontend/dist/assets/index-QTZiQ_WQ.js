const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginPage-BdSZL3Di.js","assets/query-Bv2YtT6Q.js","assets/vendor-DW262YiZ.js","assets/useAuth-CpnnWU2w.js","assets/FormField-DcLSszBB.js","assets/supabase-BQbgwcOn.js","assets/VerifyOtpPage-rTu36Kra.js","assets/CompleteProfilePage-VMe9wDGV.js","assets/AuthCallbackPage-vvhxf1Cb.js","assets/EditProfilePage-C7wPzwJP.js","assets/DashboardPage-DhDIE7sg.js","assets/TournamentsPage-DcUgVCJ-.js","assets/TournamentDetailPage-xX4XiLUo.js","assets/MatchesPage-B7GboueC.js","assets/RankingsPage-FoV9InPV.js","assets/SettingsPage-Bf_1ICXS.js","assets/NotFoundPage-CH9p44GH.js"])))=>i.map(i=>d[i]);
var jr=Object.defineProperty;var Cr=(t,e,r)=>e in t?jr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var P=(t,e,r)=>Cr(t,typeof e!="symbol"?e+"":e,r);import{j as c,u as Nr,a as Tr,b as Rr,Q as Ir,c as Ar}from"./query-Bv2YtT6Q.js";import{a as Or,r as R,g as Lr,R as Mr,N as mt,O as Pr,u as zr,b as re,c as Dr,d as z,B as Zr}from"./vendor-DW262YiZ.js";import{c as $r}from"./supabase-BQbgwcOn.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();var Jt,gt=Or;Jt=gt.createRoot,gt.hydrateRoot;const Vr="modulepreload",Ur=function(t){return"/"+t},yt={},$=function(e,r,s){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=Promise.allSettled(r.map(l=>{if(l=Ur(l),l in yt)return;yt[l]=!0;const d=l.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":Vr,d||(v.as="script"),v.crossOrigin="",v.href=l,o&&v.setAttribute("nonce",o),document.head.appendChild(v),d)return new Promise((b,S)=>{v.addEventListener("load",b),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return n.then(i=>{for(const o of i||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},ke="8.55.0",W=globalThis;function tt(t,e,r){const s=W,n=s.__SENTRY__=s.__SENTRY__||{},a=n[ke]=n[ke]||{};return a[t]||(a[t]=e())}const Yt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Fr="Sentry Logger ",vt=["debug","info","warn","error","log","assert","trace"],_t={};function Br(t){if(!("console"in W))return t();const e=W.console,r={},s=Object.keys(_t);s.forEach(n=>{const a=_t[n];r[n]=e[n],e[n]=a});try{return t()}finally{s.forEach(n=>{e[n]=r[n]})}}function qr(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return Yt?vt.forEach(r=>{e[r]=(...s)=>{t&&Br(()=>{W.console[r](`${Fr}[${r}]:`,...s)})}}):vt.forEach(r=>{e[r]=()=>{}}),e}const Ae=tt("logger",qr);function rt(){return st(W),W}function st(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||ke,e[ke]=e[ke]||{}}const Wr=Object.prototype.toString;function Gr(t,e){return Wr.call(t)===`[object ${e}]`}function Hr(t){return Gr(t,"Object")}function Jr(t){return!!(t&&t.then&&typeof t.then=="function")}function Yr(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{Yt&&Ae.log(`Failed to add non-enumerable property "${e}" to object`,t)}}const Qt=1e3;function Kt(){return Date.now()/Qt}function Qr(){const{performance:t}=W;if(!t||!t.now)return Kt;const e=Date.now()-t.now(),r=t.timeOrigin==null?e:t.timeOrigin;return()=>(r+t.now())/Qt}const Kr=Qr();(()=>{const{performance:t}=W;if(!t||!t.now)return;const e=3600*1e3,r=t.now(),s=Date.now(),n=t.timeOrigin?Math.abs(t.timeOrigin+r-s):e,a=n<e,i=t.timing&&t.timing.navigationStart,l=typeof i=="number"?Math.abs(i+r-s):e,d=l<e;return a||d?n<=l?t.timeOrigin:i:s})();function oe(){const t=W,e=t.crypto||t.msCrypto;let r=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=()=>{const s=new Uint8Array(1);return e.getRandomValues(s),s[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,s=>(s^(r()&15)>>s/4).toString(16))}function Xr(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Kr(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:oe()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function bt(){return oe()}function xt(){return oe().substring(16)}function Xt(t,e,r=2){if(!e||typeof e!="object"||r<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;const s={...t};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=Xt(s[n],e[n],r-1));return s}const Ge="_sentrySpan";function wt(t,e){e?Yr(t,Ge,e):delete t[Ge]}function kt(t){return t[Ge]}const es=100;class nt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:bt(),spanId:xt()}}clone(){const e=new nt;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,wt(e,kt(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Xr(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const r=typeof e=="function"?e(this):e,[s,n]=r instanceof Se?[r.getScopeData(),r.getRequestSession()]:Hr(r)?[e,e.requestSession]:[],{tags:a,extra:i,user:o,contexts:l,level:d,fingerprint:f=[],propagationContext:v}=s||{};return this._tags={...this._tags,...a},this._extra={...this._extra,...i},this._contexts={...this._contexts,...l},o&&Object.keys(o).length&&(this._user=o),d&&(this._level=d),f.length&&(this._fingerprint=f),v&&(this._propagationContext=v),n&&(this._requestSession=n),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,wt(this,void 0),this._attachments=[],this.setPropagationContext({traceId:bt()}),this._notifyScopeListeners(),this}addBreadcrumb(e,r){const s=typeof r=="number"?r:es;if(s<=0)return this;const n={timestamp:Kt(),...e};return this._breadcrumbs.push(n),this._breadcrumbs.length>s&&(this._breadcrumbs=this._breadcrumbs.slice(-s),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:kt(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=Xt(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:xt(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,r){const s=r&&r.event_id?r.event_id:oe();if(!this._client)return Ae.warn("No client configured on scope - will not capture exception!"),s;const n=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:n,...r,event_id:s},this),s}captureMessage(e,r,s){const n=s&&s.event_id?s.event_id:oe();if(!this._client)return Ae.warn("No client configured on scope - will not capture message!"),n;const a=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:a,...s,event_id:n},this),n}captureEvent(e,r){const s=r&&r.event_id?r.event_id:oe();return this._client?(this._client.captureEvent(e,{...r,event_id:s},this),s):(Ae.warn("No client configured on scope - will not capture event!"),s)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}const Se=nt;function ts(){return tt("defaultCurrentScope",()=>new Se)}function rs(){return tt("defaultIsolationScope",()=>new Se)}class ss{constructor(e,r){let s;e?s=e:s=new Se;let n;r?n=r:n=new Se,this._stack=[{scope:s}],this._isolationScope=n}withScope(e){const r=this._pushScope();let s;try{s=e(r)}catch(n){throw this._popScope(),n}return Jr(s)?s.then(n=>(this._popScope(),n),n=>{throw this._popScope(),n}):(this._popScope(),s)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function le(){const t=rt(),e=st(t);return e.stack=e.stack||new ss(ts(),rs())}function ns(t){return le().withScope(t)}function as(t,e){const r=le();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}function St(t){return le().withScope(()=>t(le().getIsolationScope()))}function is(){return{withIsolationScope:St,withScope:ns,withSetScope:as,withSetIsolationScope:(t,e)=>St(e),getCurrentScope:()=>le().getScope(),getIsolationScope:()=>le().getIsolationScope()}}function er(t){const e=st(t);return e.acs?e.acs:is()}function os(){const t=rt();return er(t).getCurrentScope()}function cs(...t){const e=rt(),r=er(e);if(t.length===2){const[s,n]=t;return s?r.withSetScope(s,n):r.withScope(n)}return r.withScope(t[0])}function ls(t,e){return os().captureException(t,void 0)}const ds={},Et=t=>{let e;const r=new Set,s=(f,v)=>{const b=typeof f=="function"?f(e):f;if(!Object.is(b,e)){const S=e;e=v??(typeof b!="object"||b===null)?b:Object.assign({},e,b),r.forEach(T=>T(e,S))}},n=()=>e,l={setState:s,getState:n,getInitialState:()=>d,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(ds?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},d=e=t(s,n,l);return l},us=t=>t?Et(t):Et;var tr={exports:{}},rr={},sr={exports:{}},nr={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var de=R;function fs(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hs=typeof Object.is=="function"?Object.is:fs,ps=de.useState,ms=de.useEffect,gs=de.useLayoutEffect,ys=de.useDebugValue;function vs(t,e){var r=e(),s=ps({inst:{value:r,getSnapshot:e}}),n=s[0].inst,a=s[1];return gs(function(){n.value=r,n.getSnapshot=e,Be(n)&&a({inst:n})},[t,r,e]),ms(function(){return Be(n)&&a({inst:n}),t(function(){Be(n)&&a({inst:n})})},[t]),ys(r),r}function Be(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!hs(t,r)}catch{return!0}}function _s(t,e){return e()}var bs=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_s:vs;nr.useSyncExternalStore=de.useSyncExternalStore!==void 0?de.useSyncExternalStore:bs;sr.exports=nr;var xs=sr.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var De=R,ws=xs;function ks(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ss=typeof Object.is=="function"?Object.is:ks,Es=ws.useSyncExternalStore,js=De.useRef,Cs=De.useEffect,Ns=De.useMemo,Ts=De.useDebugValue;rr.useSyncExternalStoreWithSelector=function(t,e,r,s,n){var a=js(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=Ns(function(){function l(S){if(!d){if(d=!0,f=S,S=s(S),n!==void 0&&i.hasValue){var T=i.value;if(n(T,S))return v=T}return v=S}if(T=v,Ss(f,S))return T;var y=s(S);return n!==void 0&&n(T,y)?(f=S,T):(f=S,v=y)}var d=!1,f,v,b=r===void 0?null:r;return[function(){return l(e())},b===null?void 0:function(){return l(b())}]},[e,r,s,n]);var o=Es(t,a[0],a[1]);return Cs(function(){i.hasValue=!0,i.value=o},[o]),Ts(o),o};tr.exports=rr;var Rs=tr.exports;const Is=Lr(Rs),ar={},{useDebugValue:As}=Mr,{useSyncExternalStoreWithSelector:Os}=Is;let jt=!1;const Ls=t=>t;function Ms(t,e=Ls,r){(ar?"production":void 0)!=="production"&&r&&!jt&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),jt=!0);const s=Os(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return As(s),s}const Ct=t=>{(ar?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?us(t):t,r=(s,n)=>Ms(e,s,n);return Object.assign(r,e),r},at=t=>t?Ct(t):Ct,Ps={};function zs(t,e){let r;try{r=t()}catch{return}return{getItem:n=>{var a;const i=l=>l===null?null:JSON.parse(l,void 0),o=(a=r.getItem(n))!=null?a:null;return o instanceof Promise?o.then(i):i(o)},setItem:(n,a)=>r.setItem(n,JSON.stringify(a,void 0)),removeItem:n=>r.removeItem(n)}}const Ee=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(s){return Ee(s)(r)},catch(s){return this}}}catch(r){return{then(s){return this},catch(s){return Ee(s)(r)}}}},Ds=(t,e)=>(r,s,n)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:h=>h,version:0,merge:(h,j)=>({...j,...h}),...e},i=!1;const o=new Set,l=new Set;let d;try{d=a.getStorage()}catch{}if(!d)return t((...h)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...h)},s,n);const f=Ee(a.serialize),v=()=>{const h=a.partialize({...s()});let j;const _=f({state:h,version:a.version}).then(O=>d.setItem(a.name,O)).catch(O=>{j=O});if(j)throw j;return _},b=n.setState;n.setState=(h,j)=>{b(h,j),v()};const S=t((...h)=>{r(...h),v()},s,n);let T;const y=()=>{var h;if(!d)return;i=!1,o.forEach(_=>_(s()));const j=((h=a.onRehydrateStorage)==null?void 0:h.call(a,s()))||void 0;return Ee(d.getItem.bind(d))(a.name).then(_=>{if(_)return a.deserialize(_)}).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==a.version){if(a.migrate)return a.migrate(_.state,_.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return _.state}).then(_=>{var O;return T=a.merge(_,(O=s())!=null?O:S),r(T,!0),v()}).then(()=>{j==null||j(T,void 0),i=!0,l.forEach(_=>_(T))}).catch(_=>{j==null||j(void 0,_)})};return n.persist={setOptions:h=>{a={...a,...h},h.getStorage&&(d=h.getStorage())},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>y(),hasHydrated:()=>i,onHydrate:h=>(o.add(h),()=>{o.delete(h)}),onFinishHydration:h=>(l.add(h),()=>{l.delete(h)})},y(),T||S},Zs=(t,e)=>(r,s,n)=>{let a={storage:zs(()=>localStorage),partialize:y=>y,version:0,merge:(y,h)=>({...h,...y}),...e},i=!1;const o=new Set,l=new Set;let d=a.storage;if(!d)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...y)},s,n);const f=()=>{const y=a.partialize({...s()});return d.setItem(a.name,{state:y,version:a.version})},v=n.setState;n.setState=(y,h)=>{v(y,h),f()};const b=t((...y)=>{r(...y),f()},s,n);n.getInitialState=()=>b;let S;const T=()=>{var y,h;if(!d)return;i=!1,o.forEach(_=>{var O;return _((O=s())!=null?O:b)});const j=((h=a.onRehydrateStorage)==null?void 0:h.call(a,(y=s())!=null?y:b))||void 0;return Ee(d.getItem.bind(d))(a.name).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==a.version){if(a.migrate)return[!0,a.migrate(_.state,_.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,_.state];return[!1,void 0]}).then(_=>{var O;const[F,ae]=_;if(S=a.merge(ae,(O=s())!=null?O:b),r(S,!0),F)return f()}).then(()=>{j==null||j(S,void 0),S=s(),i=!0,l.forEach(_=>_(S))}).catch(_=>{j==null||j(void 0,_)})};return n.persist={setOptions:y=>{a={...a,...y},y.storage&&(d=y.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>T(),hasHydrated:()=>i,onHydrate:y=>(o.add(y),()=>{o.delete(y)}),onFinishHydration:y=>(l.add(y),()=>{l.delete(y)})},a.skipHydration||T(),S||b},$s=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((Ps?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Ds(t,e)):Zs(t,e),ir=$s,ne=at()(ir(t=>({user:null,session:null,isLoading:!0,isAuthenticated:!1,setUser:e=>t({user:e,isAuthenticated:!!e,isLoading:!1}),setSession:e=>t({session:e,user:(e==null?void 0:e.user)??null,isAuthenticated:!!e,isLoading:!1}),setLoading:e=>t({isLoading:e}),logout:()=>t({user:null,session:null,isAuthenticated:!1,isLoading:!1})}),{name:"auth-storage",partialize:t=>({isAuthenticated:t.isAuthenticated})})),ge=at()(ir((t,e)=>({currentTenant:null,currentMembership:null,availableTenants:[],isLoading:!0,get isAdmin(){var s;const r=(s=e().currentMembership)==null?void 0:s.role;return r==="admin"||r==="owner"},get isOwner(){var r;return((r=e().currentMembership)==null?void 0:r.role)==="owner"},get canManage(){var s;const r=(s=e().currentMembership)==null?void 0:s.role;return r==="admin"||r==="owner"},setCurrentTenant:(r,s=null)=>t({currentTenant:r,currentMembership:s,isLoading:!1}),setAvailableTenants:r=>t({availableTenants:r}),setLoading:r=>t({isLoading:r}),switchTenant:r=>{const n=e().availableTenants.find(a=>a.id===r);n&&t({currentTenant:n})},clear:()=>t({currentTenant:null,currentMembership:null,availableTenants:[],isLoading:!1})}),{name:"tenant-storage",partialize:t=>({currentTenant:t.currentTenant?{id:t.currentTenant.id}:null})})),Vs=()=>ge(t=>{var r;const e=(r=t.currentMembership)==null?void 0:r.role;return e==="admin"||e==="owner"}),ye=at((t,e)=>({sidebarOpen:!0,toggleSidebar:()=>t(r=>({sidebarOpen:!r.sidebarOpen})),setSidebarOpen:r=>t({sidebarOpen:r}),mobileMenuOpen:!1,toggleMobileMenu:()=>t(r=>({mobileMenuOpen:!r.mobileMenuOpen})),setMobileMenuOpen:r=>t({mobileMenuOpen:r}),toasts:[],addToast:r=>{const s=crypto.randomUUID(),n={...r,id:s};t(i=>({toasts:[...i.toasts,n]}));const a=r.duration??5e3;a>0&&setTimeout(()=>{e().removeToast(s)},a)},removeToast:r=>t(s=>({toasts:s.toasts.filter(n=>n.id!==r)})),clearToasts:()=>t({toasts:[]}),activeModal:null,modalData:null,openModal:(r,s=void 0)=>t({activeModal:r,modalData:s??null}),closeModal:()=>t({activeModal:null,modalData:null}),globalLoading:!1,setGlobalLoading:r=>t({globalLoading:r})})),Us=()=>{const t=ye(e=>e.addToast);return{success:(e,r)=>t({type:"success",title:e,message:r}),error:(e,r)=>t({type:"error",title:e,message:r}),warning:(e,r)=>t({type:"warning",title:e,message:r}),info:(e,r)=>t({type:"info",title:e,message:r})}};function or(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(r=or(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function Fs(){for(var t,e,r=0,s="",n=arguments.length;r<n;r++)(t=arguments[r])&&(e=or(t))&&(s&&(s+=" "),s+=e);return s}const it="-",Bs=t=>{const e=Ws(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:i=>{const o=i.split(it);return o[0]===""&&o.length!==1&&o.shift(),cr(o,e)||qs(i)},getConflictingClassGroupIds:(i,o)=>{const l=r[i]||[];return o&&s[i]?[...l,...s[i]]:l}}},cr=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),n=s?cr(t.slice(1),s):void 0;if(n)return n;if(e.validators.length===0)return;const a=t.join(it);return(i=e.validators.find(({validator:o})=>o(a)))==null?void 0:i.classGroupId},Nt=/^\[(.+)\]$/,qs=t=>{if(Nt.test(t)){const e=Nt.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Ws=t=>{const{theme:e,prefix:r}=t,s={nextPart:new Map,validators:[]};return Hs(Object.entries(t.classGroups),r).forEach(([a,i])=>{He(i,s,a,e)}),s},He=(t,e,r,s)=>{t.forEach(n=>{if(typeof n=="string"){const a=n===""?e:Tt(e,n);a.classGroupId=r;return}if(typeof n=="function"){if(Gs(n)){He(n(s),e,r,s);return}e.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([a,i])=>{He(i,Tt(e,a),r,s)})})},Tt=(t,e)=>{let r=t;return e.split(it).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},Gs=t=>t.isThemeGetter,Hs=(t,e)=>e?t.map(([r,s])=>{const n=s.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,o])=>[e+i,o])):a);return[r,n]}):t,Js=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,s=new Map;const n=(a,i)=>{r.set(a,i),e++,e>t&&(e=0,s=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=s.get(a))!==void 0)return n(a,i),i},set(a,i){r.has(a)?r.set(a,i):n(a,i)}}},lr="!",Ys=t=>{const{separator:e,experimentalParseClassName:r}=t,s=e.length===1,n=e[0],a=e.length,i=o=>{const l=[];let d=0,f=0,v;for(let h=0;h<o.length;h++){let j=o[h];if(d===0){if(j===n&&(s||o.slice(h,h+a)===e)){l.push(o.slice(f,h)),f=h+a;continue}if(j==="/"){v=h;continue}}j==="["?d++:j==="]"&&d--}const b=l.length===0?o:o.substring(f),S=b.startsWith(lr),T=S?b.substring(1):b,y=v&&v>f?v-f:void 0;return{modifiers:l,hasImportantModifier:S,baseClassName:T,maybePostfixModifierPosition:y}};return r?o=>r({className:o,parseClassName:i}):i},Qs=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(s=>{s[0]==="["?(e.push(...r.sort(),s),r=[]):r.push(s)}),e.push(...r.sort()),e},Ks=t=>({cache:Js(t.cacheSize),parseClassName:Ys(t),...Bs(t)}),Xs=/\s+/,en=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:n}=e,a=[],i=t.trim().split(Xs);let o="";for(let l=i.length-1;l>=0;l-=1){const d=i[l],{modifiers:f,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:S}=r(d);let T=!!S,y=s(T?b.substring(0,S):b);if(!y){if(!T){o=d+(o.length>0?" "+o:o);continue}if(y=s(b),!y){o=d+(o.length>0?" "+o:o);continue}T=!1}const h=Qs(f).join(":"),j=v?h+lr:h,_=j+y;if(a.includes(_))continue;a.push(_);const O=n(y,T);for(let F=0;F<O.length;++F){const ae=O[F];a.push(j+ae)}o=d+(o.length>0?" "+o:o)}return o};function tn(){let t=0,e,r,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=dr(e))&&(s&&(s+=" "),s+=r);return s}const dr=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=dr(t[s]))&&(r&&(r+=" "),r+=e);return r};function rn(t,...e){let r,s,n,a=i;function i(l){const d=e.reduce((f,v)=>v(f),t());return r=Ks(d),s=r.cache.get,n=r.cache.set,a=o,o(l)}function o(l){const d=s(l);if(d)return d;const f=en(l,r);return n(l,f),f}return function(){return a(tn.apply(null,arguments))}}const I=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},ur=/^\[(?:([a-z-]+):)?(.+)\]$/i,sn=/^\d+\/\d+$/,nn=new Set(["px","full","screen"]),an=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,on=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cn=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ln=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,q=t=>ce(t)||nn.has(t)||sn.test(t),H=t=>ve(t,"length",vn),ce=t=>!!t&&!Number.isNaN(Number(t)),qe=t=>ve(t,"number",ce),be=t=>!!t&&Number.isInteger(Number(t)),un=t=>t.endsWith("%")&&ce(t.slice(0,-1)),k=t=>ur.test(t),J=t=>an.test(t),fn=new Set(["length","size","percentage"]),hn=t=>ve(t,fn,fr),pn=t=>ve(t,"position",fr),mn=new Set(["image","url"]),gn=t=>ve(t,mn,bn),yn=t=>ve(t,"",_n),xe=()=>!0,ve=(t,e,r)=>{const s=ur.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):r(s[2]):!1},vn=t=>on.test(t)&&!cn.test(t),fr=()=>!1,_n=t=>ln.test(t),bn=t=>dn.test(t),xn=()=>{const t=I("colors"),e=I("spacing"),r=I("blur"),s=I("brightness"),n=I("borderColor"),a=I("borderRadius"),i=I("borderSpacing"),o=I("borderWidth"),l=I("contrast"),d=I("grayscale"),f=I("hueRotate"),v=I("invert"),b=I("gap"),S=I("gradientColorStops"),T=I("gradientColorStopPositions"),y=I("inset"),h=I("margin"),j=I("opacity"),_=I("padding"),O=I("saturate"),F=I("scale"),ae=I("sepia"),ct=I("skew"),lt=I("space"),dt=I("translate"),$e=()=>["auto","contain","none"],Ve=()=>["auto","hidden","clip","visible","scroll"],Ue=()=>["auto",k,e],A=()=>[k,e],ut=()=>["",q,H],Re=()=>["auto",ce,k],ft=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ie=()=>["solid","dashed","dotted","double","none"],ht=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Fe=()=>["start","end","center","between","around","evenly","stretch"],_e=()=>["","0",k],pt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[ce,k];return{cacheSize:500,separator:":",theme:{colors:[xe],spacing:[q,H],blur:["none","",J,k],brightness:B(),borderColor:[t],borderRadius:["none","","full",J,k],borderSpacing:A(),borderWidth:ut(),contrast:B(),grayscale:_e(),hueRotate:B(),invert:_e(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[un,H],inset:Ue(),margin:Ue(),opacity:B(),padding:A(),saturate:B(),scale:B(),sepia:_e(),skew:B(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",k]}],container:["container"],columns:[{columns:[J]}],"break-after":[{"break-after":pt()}],"break-before":[{"break-before":pt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ft(),k]}],overflow:[{overflow:Ve()}],"overflow-x":[{"overflow-x":Ve()}],"overflow-y":[{"overflow-y":Ve()}],overscroll:[{overscroll:$e()}],"overscroll-x":[{"overscroll-x":$e()}],"overscroll-y":[{"overscroll-y":$e()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",be,k]}],basis:[{basis:Ue()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",k]}],grow:[{grow:_e()}],shrink:[{shrink:_e()}],order:[{order:["first","last","none",be,k]}],"grid-cols":[{"grid-cols":[xe]}],"col-start-end":[{col:["auto",{span:["full",be,k]},k]}],"col-start":[{"col-start":Re()}],"col-end":[{"col-end":Re()}],"grid-rows":[{"grid-rows":[xe]}],"row-start-end":[{row:["auto",{span:[be,k]},k]}],"row-start":[{"row-start":Re()}],"row-end":[{"row-end":Re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",k]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",k]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...Fe()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Fe(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Fe(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[h]}],mx:[{mx:[h]}],my:[{my:[h]}],ms:[{ms:[h]}],me:[{me:[h]}],mt:[{mt:[h]}],mr:[{mr:[h]}],mb:[{mb:[h]}],ml:[{ml:[h]}],"space-x":[{"space-x":[lt]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[lt]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",k,e]}],"min-w":[{"min-w":[k,e,"min","max","fit"]}],"max-w":[{"max-w":[k,e,"none","full","min","max","fit","prose",{screen:[J]},J]}],h:[{h:[k,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[k,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[k,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[k,e,"auto","min","max","fit"]}],"font-size":[{text:["base",J,H]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qe]}],"font-family":[{font:[xe]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",k]}],"line-clamp":[{"line-clamp":["none",ce,qe]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",q,k]}],"list-image":[{"list-image":["none",k]}],"list-style-type":[{list:["none","disc","decimal",k]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",q,H]}],"underline-offset":[{"underline-offset":["auto",q,k]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",k]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",k]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ft(),pn]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hn]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gn]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...Ie(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:Ie()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...Ie()]}],"outline-offset":[{"outline-offset":[q,k]}],"outline-w":[{outline:[q,H]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:ut()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[q,H]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",J,yn]}],"shadow-color":[{shadow:[xe]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...ht(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ht()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",J,k]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[v]}],saturate:[{saturate:[O]}],sepia:[{sepia:[ae]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",k]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",k]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",k]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[F]}],"scale-x":[{"scale-x":[F]}],"scale-y":[{"scale-y":[F]}],rotate:[{rotate:[be,k]}],"translate-x":[{"translate-x":[dt]}],"translate-y":[{"translate-y":[dt]}],"skew-x":[{"skew-x":[ct]}],"skew-y":[{"skew-y":[ct]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",k]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",k]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",k]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[q,H,qe]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wn=rn(xn);function Z(...t){return wn(Fs(t))}const kn=[{name:"Dashboard",href:"/dashboard",icon:jn},{name:"Torneos",href:"/tournaments",icon:Cn},{name:"Partidos",href:"/matches",icon:Nn},{name:"Rankings",href:"/rankings",icon:Tn}],Sn=[{name:"ConfiguraciÃ³n",href:"/settings",icon:Rn}];function En(){const{sidebarOpen:t,toggleSidebar:e}=ye(),{currentTenant:r}=ge(),s=Vs();return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:Z("fixed inset-0 z-40 bg-black/50 lg:hidden transition-opacity",t?"opacity-100":"opacity-0 pointer-events-none"),onClick:e}),c.jsxs("aside",{className:Z("fixed top-0 left-0 z-50 h-full bg-surface-900 border-r border-surface-800","transition-all duration-300 ease-in-out","lg:translate-x-0",t?"w-64 translate-x-0":"w-20 -translate-x-full lg:translate-x-0"),children:[c.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-surface-800",children:[c.jsxs("div",{className:Z("flex items-center gap-3",!t&&"lg:justify-center"),children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-600 flex items-center justify-center",children:c.jsx("span",{className:"text-white font-bold",children:"P"})}),t&&c.jsx("span",{className:"font-display font-semibold text-surface-100",children:(r==null?void 0:r.name)??"Padel"})]}),c.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-surface-800 lg:hidden",children:c.jsx(In,{className:"w-5 h-5"})})]}),c.jsxs("nav",{className:"p-4 space-y-1",children:[kn.map(n=>c.jsxs(mt,{to:n.href,className:({isActive:a})=>Z("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors","text-surface-400 hover:text-surface-100 hover:bg-surface-800",a&&"bg-primary-600/10 text-primary-400",!t&&"lg:justify-center"),children:[c.jsx(n.icon,{className:"w-5 h-5 flex-shrink-0"}),t&&c.jsx("span",{children:n.name})]},n.name)),s&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"pt-4 mt-4 border-t border-surface-800",children:t&&c.jsx("span",{className:"px-3 text-xs font-medium text-surface-500 uppercase",children:"Admin"})}),Sn.map(n=>c.jsxs(mt,{to:n.href,className:({isActive:a})=>Z("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors","text-surface-400 hover:text-surface-100 hover:bg-surface-800",a&&"bg-primary-600/10 text-primary-400",!t&&"lg:justify-center"),children:[c.jsx(n.icon,{className:"w-5 h-5 flex-shrink-0"}),t&&c.jsx("span",{children:n.name})]},n.name))]})]})]})]})}function jn({className:t}){return c.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}function Cn({className:t}){return c.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}function Nn({className:t}){return c.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}function Tn({className:t}){return c.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}function Rn({className:t}){return c.jsxs("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}function In({className:t}){return c.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}const An=void 0,On=void 0;throw new Error("Missing Supabase environment variables");const ue=$r(An,On,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:localStorage},global:{headers:{"x-app-version":"dev"}}});function Ln(){var d,f,v;const{user:t}=ne(),{currentTenant:e,availableTenants:r,switchTenant:s}=ge(),{toggleSidebar:n}=ye(),[a,i]=R.useState(!1),o=R.useRef(null);R.useEffect(()=>{function b(S){o.current&&!o.current.contains(S.target)&&i(!1)}return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);async function l(){await ue.auth.signOut()}return c.jsx("header",{className:"h-16 border-b border-surface-800 bg-surface-900/50 backdrop-blur-sm sticky top-0 z-30",children:c.jsxs("div",{className:"h-full px-4 lg:px-8 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-surface-800 lg:hidden",children:c.jsx(Mn,{className:"w-5 h-5 text-surface-400"})}),r.length>1&&c.jsxs("div",{className:"relative",ref:o,children:[c.jsxs("button",{onClick:()=>i(!a),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-surface-800 hover:bg-surface-700 transition-colors",children:[c.jsx("span",{className:"text-sm font-medium",children:e==null?void 0:e.name}),c.jsx(Pn,{className:"w-4 h-4 text-surface-400"})]}),a&&c.jsx("div",{className:"absolute top-full left-0 mt-2 w-48 bg-surface-800 border border-surface-700 rounded-lg shadow-xl animate-fade-in",children:r.map(b=>c.jsx("button",{onClick:()=>{s(b.id),i(!1)},className:Z("w-full px-4 py-2 text-left text-sm hover:bg-surface-700 first:rounded-t-lg last:rounded-b-lg",b.id===(e==null?void 0:e.id)&&"bg-primary-600/10 text-primary-400"),children:b.name},b.id))})]})]}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("div",{className:"relative",ref:o,children:[c.jsxs("button",{onClick:()=>i(!a),className:"flex items-center gap-3 p-1.5 rounded-lg hover:bg-surface-800 transition-colors",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-600 flex items-center justify-center",children:c.jsx("span",{className:"text-sm font-medium text-white",children:((f=(d=t==null?void 0:t.email)==null?void 0:d[0])==null?void 0:f.toUpperCase())??"U"})}),c.jsx("span",{className:"hidden sm:block text-sm text-surface-300",children:t==null?void 0:t.email})]}),a&&c.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-surface-800 border border-surface-700 rounded-lg shadow-xl animate-fade-in",children:[c.jsxs("div",{className:"px-4 py-3 border-b border-surface-700",children:[c.jsx("p",{className:"text-sm font-medium text-surface-100",children:((v=t==null?void 0:t.user_metadata)==null?void 0:v.name)??"Usuario"}),c.jsx("p",{className:"text-xs text-surface-400 truncate",children:t==null?void 0:t.email})]}),c.jsx("button",{onClick:l,className:"w-full px-4 py-2 text-left text-sm text-red-400 hover:bg-surface-700 rounded-b-lg",children:"Cerrar sesiÃ³n"})]})]})})]})})}function Mn({className:t}){return c.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}function Pn({className:t}){return c.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}function zn(){const{sidebarOpen:t}=ye();return c.jsxs("div",{className:"min-h-screen bg-surface-950",children:[c.jsx(En,{}),c.jsxs("div",{className:Z("transition-all duration-300",t?"lg:pl-64":"lg:pl-20"),children:[c.jsx(Ln,{}),c.jsx("main",{className:"p-4 lg:p-8",children:c.jsx(Pr,{})})]})]})}function Ze(){return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-surface-950",children:c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"}),c.jsx("p",{className:"text-surface-400 text-sm",children:"Cargando..."})]})})}class M extends Error{constructor(r){super(r.technicalMessage??r.userMessage);P(this,"code");P(this,"status");P(this,"userMessage");P(this,"userTitle");P(this,"retryable");P(this,"retryDelay");P(this,"suggestedAction");P(this,"requestId");P(this,"context");P(this,"timestamp");this.name="AppError",this.code=r.code,this.status=r.status,this.userMessage=r.userMessage,this.userTitle=r.userTitle,this.retryable=r.retryable,this.retryDelay=r.retryDelay??1e3,this.suggestedAction=r.suggestedAction,this.requestId=r.requestId,this.context=r.context,this.timestamp=new Date,Error.captureStackTrace&&Error.captureStackTrace(this,M)}static fromApiResponse(r){var a,i,o;const s=((a=r.error)==null?void 0:a.code)??"UNKNOWN_ERROR",n=((i=r.error)==null?void 0:i.message)??"OcurriÃ³ un error inesperado";return Fn(s,{technicalMessage:n,requestId:(o=r.error)==null?void 0:o.requestId})}static fromNetworkError(r){return r.message.includes("Failed to fetch")||r.message.includes("NetworkError")?new gr:r.message.includes("timeout")||r.message.includes("Timeout")?new yr:new M({code:"UNKNOWN_ERROR",status:0,userTitle:"Error",userMessage:"OcurriÃ³ un error inesperado. Por favor, intentÃ¡ de nuevo.",retryable:!0,technicalMessage:r.message})}toJSON(){return{name:this.name,code:this.code,status:this.status,message:this.message,userMessage:this.userMessage,retryable:this.retryable,requestId:this.requestId,context:this.context,timestamp:this.timestamp.toISOString()}}}class hr extends M{constructor(e){super({code:"AUTHENTICATION_ERROR",status:401,userTitle:"SesiÃ³n expirada",userMessage:e??"Tu sesiÃ³n expirÃ³. Por favor, iniciÃ¡ sesiÃ³n nuevamente.",suggestedAction:"Iniciar sesiÃ³n",retryable:!1}),this.name="AuthenticationError"}}class pr extends M{constructor(e){super({code:"AUTHORIZATION_ERROR",status:403,userTitle:"Sin permisos",userMessage:e??"No tenÃ©s permisos para realizar esta acciÃ³n.",retryable:!1}),this.name="AuthorizationError"}}class Dn extends M{constructor(e="recurso"){super({code:"NOT_FOUND",status:404,userTitle:"No encontrado",userMessage:`El ${e} que buscÃ¡s no existe o fue eliminado.`,retryable:!1}),this.name="NotFoundError"}}class mr extends M{constructor(r,s={}){super({code:"VALIDATION_ERROR",status:400,userTitle:"Datos invÃ¡lidos",userMessage:r,retryable:!1,context:{fieldErrors:s}});P(this,"fieldErrors");this.name="ValidationError",this.fieldErrors=s}}class Zn extends M{constructor(e){super({code:"CONFLICT",status:409,userTitle:"Conflicto",userMessage:e,retryable:!1}),this.name="ConflictError"}}class $n extends M{constructor(r=60){super({code:"RATE_LIMIT",status:429,userTitle:"Demasiadas solicitudes",userMessage:`Realizaste demasiadas solicitudes. EsperÃ¡ ${r} segundos.`,retryable:!0,retryDelay:r*1e3});P(this,"retryAfter");this.name="RateLimitError",this.retryAfter=r}}class gr extends M{constructor(){super({code:"NETWORK_ERROR",status:0,userTitle:"Sin conexiÃ³n",userMessage:"No hay conexiÃ³n a internet. VerificÃ¡ tu conexiÃ³n y reintentÃ¡.",suggestedAction:"Reintentar",retryable:!0,retryDelay:3e3}),this.name="NetworkError"}}class yr extends M{constructor(){super({code:"TIMEOUT",status:408,userTitle:"Tiempo agotado",userMessage:"La solicitud tardÃ³ demasiado. Por favor, intentÃ¡ de nuevo.",suggestedAction:"Reintentar",retryable:!0,retryDelay:2e3}),this.name="TimeoutError"}}class Vn extends M{constructor(e){super({code:"SERVER_ERROR",status:500,userTitle:"Error del servidor",userMessage:"Algo saliÃ³ mal de nuestro lado. Estamos trabajando para solucionarlo.",suggestedAction:"Reintentar",retryable:!0,retryDelay:5e3,requestId:e}),this.name="ServerError"}}class Un extends M{constructor(){super({code:"MAINTENANCE",status:503,userTitle:"En mantenimiento",userMessage:"Estamos realizando mejoras. VolvÃ© en unos minutos.",retryable:!0,retryDelay:6e4}),this.name="MaintenanceError"}}function Fn(t,e={}){switch(t){case"UNAUTHORIZED":case"AUTHENTICATION_ERROR":return new hr(e.technicalMessage);case"FORBIDDEN":case"AUTHORIZATION_ERROR":return new pr(e.technicalMessage);case"NOT_FOUND":return new Dn;case"VALIDATION_ERROR":return new mr(e.technicalMessage??"Datos invÃ¡lidos");case"CONFLICT":return new Zn(e.technicalMessage??"Conflicto de estado");case"RATE_LIMIT":return new $n(e.retryAfter);case"NETWORK_ERROR":return new gr;case"TIMEOUT":return new yr;case"MAINTENANCE":return new Un;case"SERVER_ERROR":case"INTERNAL_ERROR":default:return new Vn(e.requestId)}}function Bn(t){return t instanceof hr||t instanceof pr}var N;(function(t){t.assertEqual=n=>{};function e(n){}t.assertIs=e;function r(n){throw new Error}t.assertNever=r,t.arrayToEnum=n=>{const a={};for(const i of n)a[i]=i;return a},t.getValidEnumValues=n=>{const a=t.objectKeys(n).filter(o=>typeof n[n[o]]!="number"),i={};for(const o of a)i[o]=n[o];return t.objectValues(i)},t.objectValues=n=>t.objectKeys(n).map(function(a){return n[a]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const a=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&a.push(i);return a},t.find=(n,a)=>{for(const i of n)if(a(i))return i},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function s(n,a=" | "){return n.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}t.joinValues=s,t.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a})(N||(N={}));var Rt;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Rt||(Rt={}));const m=N.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Y=t=>{switch(typeof t){case"undefined":return m.undefined;case"string":return m.string;case"number":return Number.isNaN(t)?m.nan:m.number;case"boolean":return m.boolean;case"function":return m.function;case"bigint":return m.bigint;case"symbol":return m.symbol;case"object":return Array.isArray(t)?m.array:t===null?m.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?m.promise:typeof Map<"u"&&t instanceof Map?m.map:typeof Set<"u"&&t instanceof Set?m.set:typeof Date<"u"&&t instanceof Date?m.date:m.object;default:return m.unknown}},u=N.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class G extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},s={_errors:[]},n=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(n);else if(i.code==="invalid_return_type")n(i.returnTypeError);else if(i.code==="invalid_arguments")n(i.argumentsError);else if(i.path.length===0)s._errors.push(r(i));else{let o=s,l=0;for(;l<i.path.length;){const d=i.path[l];l===i.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(r(i))):o[d]=o[d]||{_errors:[]},o=o[d],l++}}};return n(this),s}static assert(e){if(!(e instanceof G))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,N.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},s=[];for(const n of this.issues)if(n.path.length>0){const a=n.path[0];r[a]=r[a]||[],r[a].push(e(n))}else s.push(e(n));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}G.create=t=>new G(t);const Je=(t,e)=>{let r;switch(t.code){case u.invalid_type:t.received===m.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case u.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,N.jsonStringifyReplacer)}`;break;case u.unrecognized_keys:r=`Unrecognized key(s) in object: ${N.joinValues(t.keys,", ")}`;break;case u.invalid_union:r="Invalid input";break;case u.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${N.joinValues(t.options)}`;break;case u.invalid_enum_value:r=`Invalid enum value. Expected ${N.joinValues(t.options)}, received '${t.received}'`;break;case u.invalid_arguments:r="Invalid function arguments";break;case u.invalid_return_type:r="Invalid function return type";break;case u.invalid_date:r="Invalid date";break;case u.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:N.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case u.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case u.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case u.custom:r="Invalid input";break;case u.invalid_intersection_types:r="Intersection results could not be merged";break;case u.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case u.not_finite:r="Number must be finite";break;default:r=e.defaultError,N.assertNever(t)}return{message:r}};let qn=Je;function Wn(){return qn}const Gn=t=>{const{data:e,path:r,errorMaps:s,issueData:n}=t,a=[...r,...n.path||[]],i={...n,path:a};if(n.message!==void 0)return{...n,path:a,message:n.message};let o="";const l=s.filter(d=>!!d).slice().reverse();for(const d of l)o=d(i,{data:e,defaultError:o}).message;return{...n,path:a,message:o}};function p(t,e){const r=Wn(),s=Gn({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Je?void 0:Je].filter(n=>!!n)});t.common.issues.push(s)}class D{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const s=[];for(const n of r){if(n.status==="aborted")return x;n.status==="dirty"&&e.dirty(),s.push(n.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){const s=[];for(const n of r){const a=await n.key,i=await n.value;s.push({key:a,value:i})}return D.mergeObjectSync(e,s)}static mergeObjectSync(e,r){const s={};for(const n of r){const{key:a,value:i}=n;if(a.status==="aborted"||i.status==="aborted")return x;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||n.alwaysSet)&&(s[a.value]=i.value)}return{status:e.value,value:s}}}const x=Object.freeze({status:"aborted"}),we=t=>({status:"dirty",value:t}),V=t=>({status:"valid",value:t}),It=t=>t.status==="aborted",At=t=>t.status==="dirty",fe=t=>t.status==="valid",Oe=t=>typeof Promise<"u"&&t instanceof Promise;var g;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(g||(g={}));class ee{constructor(e,r,s,n){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ot=(t,e)=>{if(fe(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new G(t.common.issues);return this._error=r,this._error}}};function E(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:s,description:n}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(i,o)=>{const{message:l}=t;return i.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??s??o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:n}}class C{get description(){return this._def.description}_getType(e){return Y(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Y(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new D,ctx:{common:e.parent.common,data:e.data,parsedType:Y(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Oe(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){const s={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Y(e)},n=this._parseSync({data:e,path:s.path,parent:s});return Ot(s,n)}"~validate"(e){var s,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Y(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return fe(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(n=(s=a==null?void 0:a.message)==null?void 0:s.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>fe(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Y(e)},n=this._parse({data:e,path:s.path,parent:s}),a=await(Oe(n)?n:Promise.resolve(n));return Ot(s,a)}refine(e,r){const s=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,a)=>{const i=e(n),o=()=>a.addIssue({code:u.custom,...s(n)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,r){return this._refinement((s,n)=>e(s)?!0:(n.addIssue(typeof r=="function"?r(s,n):r),!1))}_refinement(e){return new pe({schema:this,typeName:w.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return X.create(this,this._def)}nullable(){return me.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return U.create(this)}promise(){return ze.create(this,this._def)}or(e){return Me.create([this,e],this._def)}and(e){return Pe.create(this,e,this._def)}transform(e){return new pe({...E(this._def),schema:this,typeName:w.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Ke({...E(this._def),innerType:this,defaultValue:r,typeName:w.ZodDefault})}brand(){return new ga({typeName:w.ZodBranded,type:this,...E(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Xe({...E(this._def),innerType:this,catchValue:r,typeName:w.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return ot.create(this,e)}readonly(){return et.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Hn=/^c[^\s-]{8,}$/i,Jn=/^[0-9a-z]+$/,Yn=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Qn=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Kn=/^[a-z0-9_-]{21}$/i,Xn=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ea=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ta=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ra="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let We;const sa=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,na=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,aa=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ia=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oa=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ca=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,vr="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",la=new RegExp(`^${vr}$`);function _r(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function da(t){return new RegExp(`^${_r(t)}$`)}function ua(t){let e=`${vr}T${_r(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function fa(t,e){return!!((e==="v4"||!e)&&sa.test(t)||(e==="v6"||!e)&&aa.test(t))}function ha(t,e){if(!Xn.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(s));return!(typeof n!="object"||n===null||"typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||e&&n.alg!==e)}catch{return!1}}function pa(t,e){return!!((e==="v4"||!e)&&na.test(t)||(e==="v6"||!e)&&ia.test(t))}class Q extends C{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==m.string){const a=this._getOrReturnCtx(e);return p(a,{code:u.invalid_type,expected:m.string,received:a.parsedType}),x}const s=new D;let n;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),p(n,{code:u.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),p(n,{code:u.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const i=e.data.length>a.value,o=e.data.length<a.value;(i||o)&&(n=this._getOrReturnCtx(e,n),i?p(n,{code:u.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&p(n,{code:u.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")ta.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"email",code:u.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")We||(We=new RegExp(ra,"u")),We.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"emoji",code:u.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")Qn.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"uuid",code:u.invalid_string,message:a.message}),s.dirty());else if(a.kind==="nanoid")Kn.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"nanoid",code:u.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")Hn.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"cuid",code:u.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")Jn.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"cuid2",code:u.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")Yn.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"ulid",code:u.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),p(n,{validation:"url",code:u.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"regex",code:u.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),p(n,{code:u.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),p(n,{code:u.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),p(n,{code:u.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?ua(a).test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{code:u.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="date"?la.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{code:u.invalid_string,validation:"date",message:a.message}),s.dirty()):a.kind==="time"?da(a).test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{code:u.invalid_string,validation:"time",message:a.message}),s.dirty()):a.kind==="duration"?ea.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"duration",code:u.invalid_string,message:a.message}),s.dirty()):a.kind==="ip"?fa(e.data,a.version)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"ip",code:u.invalid_string,message:a.message}),s.dirty()):a.kind==="jwt"?ha(e.data,a.alg)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"jwt",code:u.invalid_string,message:a.message}),s.dirty()):a.kind==="cidr"?pa(e.data,a.version)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"cidr",code:u.invalid_string,message:a.message}),s.dirty()):a.kind==="base64"?oa.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"base64",code:u.invalid_string,message:a.message}),s.dirty()):a.kind==="base64url"?ca.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"base64url",code:u.invalid_string,message:a.message}),s.dirty()):N.assertNever(a);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(n=>e.test(n),{validation:r,code:u.invalid_string,...g.errToObj(s)})}_addCheck(e){return new Q({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...g.errToObj(e)})}url(e){return this._addCheck({kind:"url",...g.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...g.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...g.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...g.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...g.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...g.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...g.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...g.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...g.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...g.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...g.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...g.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...g.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...g.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...g.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...g.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...g.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...g.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...g.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...g.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...g.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...g.errToObj(r)})}nonempty(e){return this.min(1,g.errToObj(e))}trim(){return new Q({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Q({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Q({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Q.create=t=>new Q({checks:[],typeName:w.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...E(t)});function ma(t,e){const r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,n=r>s?r:s,a=Number.parseInt(t.toFixed(n).replace(".","")),i=Number.parseInt(e.toFixed(n).replace(".",""));return a%i/10**n}class je extends C{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==m.number){const a=this._getOrReturnCtx(e);return p(a,{code:u.invalid_type,expected:m.number,received:a.parsedType}),x}let s;const n=new D;for(const a of this._def.checks)a.kind==="int"?N.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),p(s,{code:u.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),p(s,{code:u.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),p(s,{code:u.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?ma(e.data,a.value)!==0&&(s=this._getOrReturnCtx(e,s),p(s,{code:u.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),p(s,{code:u.not_finite,message:a.message}),n.dirty()):N.assertNever(a);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,g.toString(r))}gt(e,r){return this.setLimit("min",e,!1,g.toString(r))}lte(e,r){return this.setLimit("max",e,!0,g.toString(r))}lt(e,r){return this.setLimit("max",e,!1,g.toString(r))}setLimit(e,r,s,n){return new je({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:g.toString(n)}]})}_addCheck(e){return new je({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:g.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:g.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:g.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:g.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:g.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:g.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:g.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:g.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:g.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&N.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}}je.create=t=>new je({checks:[],typeName:w.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...E(t)});class Ce extends C{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==m.bigint)return this._getInvalidInput(e);let s;const n=new D;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),p(s,{code:u.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),p(s,{code:u.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),p(s,{code:u.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):N.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return p(r,{code:u.invalid_type,expected:m.bigint,received:r.parsedType}),x}gte(e,r){return this.setLimit("min",e,!0,g.toString(r))}gt(e,r){return this.setLimit("min",e,!1,g.toString(r))}lte(e,r){return this.setLimit("max",e,!0,g.toString(r))}lt(e,r){return this.setLimit("max",e,!1,g.toString(r))}setLimit(e,r,s,n){return new Ce({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:g.toString(n)}]})}_addCheck(e){return new Ce({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:g.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:g.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:g.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:g.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:g.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ce.create=t=>new Ce({checks:[],typeName:w.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...E(t)});class Lt extends C{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==m.boolean){const s=this._getOrReturnCtx(e);return p(s,{code:u.invalid_type,expected:m.boolean,received:s.parsedType}),x}return V(e.data)}}Lt.create=t=>new Lt({typeName:w.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...E(t)});class Le extends C{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==m.date){const a=this._getOrReturnCtx(e);return p(a,{code:u.invalid_type,expected:m.date,received:a.parsedType}),x}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return p(a,{code:u.invalid_date}),x}const s=new D;let n;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),p(n,{code:u.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),p(n,{code:u.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):N.assertNever(a);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Le({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:g.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:g.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Le.create=t=>new Le({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:w.ZodDate,...E(t)});class Mt extends C{_parse(e){if(this._getType(e)!==m.symbol){const s=this._getOrReturnCtx(e);return p(s,{code:u.invalid_type,expected:m.symbol,received:s.parsedType}),x}return V(e.data)}}Mt.create=t=>new Mt({typeName:w.ZodSymbol,...E(t)});class Pt extends C{_parse(e){if(this._getType(e)!==m.undefined){const s=this._getOrReturnCtx(e);return p(s,{code:u.invalid_type,expected:m.undefined,received:s.parsedType}),x}return V(e.data)}}Pt.create=t=>new Pt({typeName:w.ZodUndefined,...E(t)});class zt extends C{_parse(e){if(this._getType(e)!==m.null){const s=this._getOrReturnCtx(e);return p(s,{code:u.invalid_type,expected:m.null,received:s.parsedType}),x}return V(e.data)}}zt.create=t=>new zt({typeName:w.ZodNull,...E(t)});class Dt extends C{constructor(){super(...arguments),this._any=!0}_parse(e){return V(e.data)}}Dt.create=t=>new Dt({typeName:w.ZodAny,...E(t)});class Zt extends C{constructor(){super(...arguments),this._unknown=!0}_parse(e){return V(e.data)}}Zt.create=t=>new Zt({typeName:w.ZodUnknown,...E(t)});class te extends C{_parse(e){const r=this._getOrReturnCtx(e);return p(r,{code:u.invalid_type,expected:m.never,received:r.parsedType}),x}}te.create=t=>new te({typeName:w.ZodNever,...E(t)});class $t extends C{_parse(e){if(this._getType(e)!==m.undefined){const s=this._getOrReturnCtx(e);return p(s,{code:u.invalid_type,expected:m.void,received:s.parsedType}),x}return V(e.data)}}$t.create=t=>new $t({typeName:w.ZodVoid,...E(t)});class U extends C{_parse(e){const{ctx:r,status:s}=this._processInputParams(e),n=this._def;if(r.parsedType!==m.array)return p(r,{code:u.invalid_type,expected:m.array,received:r.parsedType}),x;if(n.exactLength!==null){const i=r.data.length>n.exactLength.value,o=r.data.length<n.exactLength.value;(i||o)&&(p(r,{code:i?u.too_big:u.too_small,minimum:o?n.exactLength.value:void 0,maximum:i?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(p(r,{code:u.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(p(r,{code:u.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((i,o)=>n.type._parseAsync(new ee(r,i,r.path,o)))).then(i=>D.mergeArray(s,i));const a=[...r.data].map((i,o)=>n.type._parseSync(new ee(r,i,r.path,o)));return D.mergeArray(s,a)}get element(){return this._def.type}min(e,r){return new U({...this._def,minLength:{value:e,message:g.toString(r)}})}max(e,r){return new U({...this._def,maxLength:{value:e,message:g.toString(r)}})}length(e,r){return new U({...this._def,exactLength:{value:e,message:g.toString(r)}})}nonempty(e){return this.min(1,e)}}U.create=(t,e)=>new U({type:t,minLength:null,maxLength:null,exactLength:null,typeName:w.ZodArray,...E(e)});function ie(t){if(t instanceof L){const e={};for(const r in t.shape){const s=t.shape[r];e[r]=X.create(ie(s))}return new L({...t._def,shape:()=>e})}else return t instanceof U?new U({...t._def,type:ie(t.element)}):t instanceof X?X.create(ie(t.unwrap())):t instanceof me?me.create(ie(t.unwrap())):t instanceof se?se.create(t.items.map(e=>ie(e))):t}class L extends C{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=N.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==m.object){const d=this._getOrReturnCtx(e);return p(d,{code:u.invalid_type,expected:m.object,received:d.parsedType}),x}const{status:s,ctx:n}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof te&&this._def.unknownKeys==="strip"))for(const d in n.data)i.includes(d)||o.push(d);const l=[];for(const d of i){const f=a[d],v=n.data[d];l.push({key:{status:"valid",value:d},value:f._parse(new ee(n,v,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof te){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of o)l.push({key:{status:"valid",value:f},value:{status:"valid",value:n.data[f]}});else if(d==="strict")o.length>0&&(p(n,{code:u.unrecognized_keys,keys:o}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of o){const v=n.data[f];l.push({key:{status:"valid",value:f},value:d._parse(new ee(n,v,n.path,f)),alwaysSet:f in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of l){const v=await f.key,b=await f.value;d.push({key:v,value:b,alwaysSet:f.alwaysSet})}return d}).then(d=>D.mergeObjectSync(s,d)):D.mergeObjectSync(s,l)}get shape(){return this._def.shape()}strict(e){return g.errToObj,new L({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var a,i;const n=((i=(a=this._def).errorMap)==null?void 0:i.call(a,r,s).message)??s.defaultError;return r.code==="unrecognized_keys"?{message:g.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new L({...this._def,unknownKeys:"strip"})}passthrough(){return new L({...this._def,unknownKeys:"passthrough"})}extend(e){return new L({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new L({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:w.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new L({...this._def,catchall:e})}pick(e){const r={};for(const s of N.objectKeys(e))e[s]&&this.shape[s]&&(r[s]=this.shape[s]);return new L({...this._def,shape:()=>r})}omit(e){const r={};for(const s of N.objectKeys(this.shape))e[s]||(r[s]=this.shape[s]);return new L({...this._def,shape:()=>r})}deepPartial(){return ie(this)}partial(e){const r={};for(const s of N.objectKeys(this.shape)){const n=this.shape[s];e&&!e[s]?r[s]=n:r[s]=n.optional()}return new L({...this._def,shape:()=>r})}required(e){const r={};for(const s of N.objectKeys(this.shape))if(e&&!e[s])r[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof X;)a=a._def.innerType;r[s]=a}return new L({...this._def,shape:()=>r})}keyof(){return br(N.objectKeys(this.shape))}}L.create=(t,e)=>new L({shape:()=>t,unknownKeys:"strip",catchall:te.create(),typeName:w.ZodObject,...E(e)});L.strictCreate=(t,e)=>new L({shape:()=>t,unknownKeys:"strict",catchall:te.create(),typeName:w.ZodObject,...E(e)});L.lazycreate=(t,e)=>new L({shape:t,unknownKeys:"strip",catchall:te.create(),typeName:w.ZodObject,...E(e)});class Me extends C{_parse(e){const{ctx:r}=this._processInputParams(e),s=this._def.options;function n(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(o=>new G(o.ctx.common.issues));return p(r,{code:u.invalid_union,unionErrors:i}),x}if(r.common.async)return Promise.all(s.map(async a=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(n);{let a;const i=[];for(const l of s){const d={...r,common:{...r.common,issues:[]},parent:null},f=l._parseSync({data:r.data,path:r.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:d}),d.common.issues.length&&i.push(d.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(l=>new G(l));return p(r,{code:u.invalid_union,unionErrors:o}),x}}get options(){return this._def.options}}Me.create=(t,e)=>new Me({options:t,typeName:w.ZodUnion,...E(e)});function Ye(t,e){const r=Y(t),s=Y(e);if(t===e)return{valid:!0,data:t};if(r===m.object&&s===m.object){const n=N.objectKeys(e),a=N.objectKeys(t).filter(o=>n.indexOf(o)!==-1),i={...t,...e};for(const o of a){const l=Ye(t[o],e[o]);if(!l.valid)return{valid:!1};i[o]=l.data}return{valid:!0,data:i}}else if(r===m.array&&s===m.array){if(t.length!==e.length)return{valid:!1};const n=[];for(let a=0;a<t.length;a++){const i=t[a],o=e[a],l=Ye(i,o);if(!l.valid)return{valid:!1};n.push(l.data)}return{valid:!0,data:n}}else return r===m.date&&s===m.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Pe extends C{_parse(e){const{status:r,ctx:s}=this._processInputParams(e),n=(a,i)=>{if(It(a)||It(i))return x;const o=Ye(a.value,i.value);return o.valid?((At(a)||At(i))&&r.dirty(),{status:r.value,value:o.data}):(p(s,{code:u.invalid_intersection_types}),x)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,i])=>n(a,i)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Pe.create=(t,e,r)=>new Pe({left:t,right:e,typeName:w.ZodIntersection,...E(r)});class se extends C{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==m.array)return p(s,{code:u.invalid_type,expected:m.array,received:s.parsedType}),x;if(s.data.length<this._def.items.length)return p(s,{code:u.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),x;!this._def.rest&&s.data.length>this._def.items.length&&(p(s,{code:u.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...s.data].map((i,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new ee(s,i,s.path,o)):null}).filter(i=>!!i);return s.common.async?Promise.all(a).then(i=>D.mergeArray(r,i)):D.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new se({...this._def,rest:e})}}se.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new se({items:t,typeName:w.ZodTuple,rest:null,...E(e)})};class Vt extends C{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==m.map)return p(s,{code:u.invalid_type,expected:m.map,received:s.parsedType}),x;const n=this._def.keyType,a=this._def.valueType,i=[...s.data.entries()].map(([o,l],d)=>({key:n._parse(new ee(s,o,s.path,[d,"key"])),value:a._parse(new ee(s,l,s.path,[d,"value"]))}));if(s.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of i){const d=await l.key,f=await l.value;if(d.status==="aborted"||f.status==="aborted")return x;(d.status==="dirty"||f.status==="dirty")&&r.dirty(),o.set(d.value,f.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of i){const d=l.key,f=l.value;if(d.status==="aborted"||f.status==="aborted")return x;(d.status==="dirty"||f.status==="dirty")&&r.dirty(),o.set(d.value,f.value)}return{status:r.value,value:o}}}}Vt.create=(t,e,r)=>new Vt({valueType:e,keyType:t,typeName:w.ZodMap,...E(r)});class Ne extends C{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==m.set)return p(s,{code:u.invalid_type,expected:m.set,received:s.parsedType}),x;const n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&(p(s,{code:u.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&(p(s,{code:u.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const a=this._def.valueType;function i(l){const d=new Set;for(const f of l){if(f.status==="aborted")return x;f.status==="dirty"&&r.dirty(),d.add(f.value)}return{status:r.value,value:d}}const o=[...s.data.values()].map((l,d)=>a._parse(new ee(s,l,s.path,d)));return s.common.async?Promise.all(o).then(l=>i(l)):i(o)}min(e,r){return new Ne({...this._def,minSize:{value:e,message:g.toString(r)}})}max(e,r){return new Ne({...this._def,maxSize:{value:e,message:g.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ne.create=(t,e)=>new Ne({valueType:t,minSize:null,maxSize:null,typeName:w.ZodSet,...E(e)});class Ut extends C{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Ut.create=(t,e)=>new Ut({getter:t,typeName:w.ZodLazy,...E(e)});class Qe extends C{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return p(r,{received:r.data,code:u.invalid_literal,expected:this._def.value}),x}return{status:"valid",value:e.data}}get value(){return this._def.value}}Qe.create=(t,e)=>new Qe({value:t,typeName:w.ZodLiteral,...E(e)});function br(t,e){return new he({values:t,typeName:w.ZodEnum,...E(e)})}class he extends C{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),s=this._def.values;return p(r,{expected:N.joinValues(s),received:r.parsedType,code:u.invalid_type}),x}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),s=this._def.values;return p(r,{received:r.data,code:u.invalid_enum_value,options:s}),x}return V(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return he.create(e,{...this._def,...r})}exclude(e,r=this._def){return he.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}}he.create=br;class Ft extends C{_parse(e){const r=N.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==m.string&&s.parsedType!==m.number){const n=N.objectValues(r);return p(s,{expected:N.joinValues(n),received:s.parsedType,code:u.invalid_type}),x}if(this._cache||(this._cache=new Set(N.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const n=N.objectValues(r);return p(s,{received:s.data,code:u.invalid_enum_value,options:n}),x}return V(e.data)}get enum(){return this._def.values}}Ft.create=(t,e)=>new Ft({values:t,typeName:w.ZodNativeEnum,...E(e)});class ze extends C{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==m.promise&&r.common.async===!1)return p(r,{code:u.invalid_type,expected:m.promise,received:r.parsedType}),x;const s=r.parsedType===m.promise?r.data:Promise.resolve(r.data);return V(s.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ze.create=(t,e)=>new ze({type:t,typeName:w.ZodPromise,...E(e)});class pe extends C{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===w.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:s}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:i=>{p(s,i),i.fatal?r.abort():r.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="preprocess"){const i=n.transform(s.data,a);if(s.common.async)return Promise.resolve(i).then(async o=>{if(r.value==="aborted")return x;const l=await this._def.schema._parseAsync({data:o,path:s.path,parent:s});return l.status==="aborted"?x:l.status==="dirty"||r.value==="dirty"?we(l.value):l});{if(r.value==="aborted")return x;const o=this._def.schema._parseSync({data:i,path:s.path,parent:s});return o.status==="aborted"?x:o.status==="dirty"||r.value==="dirty"?we(o.value):o}}if(n.type==="refinement"){const i=o=>{const l=n.refinement(o,a);if(s.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?x:(o.status==="dirty"&&r.dirty(),i(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>o.status==="aborted"?x:(o.status==="dirty"&&r.dirty(),i(o.value).then(()=>({status:r.value,value:o.value}))))}if(n.type==="transform")if(s.common.async===!1){const i=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!fe(i))return x;const o=n.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(i=>fe(i)?Promise.resolve(n.transform(i.value,a)).then(o=>({status:r.value,value:o})):x);N.assertNever(n)}}pe.create=(t,e,r)=>new pe({schema:t,typeName:w.ZodEffects,effect:e,...E(r)});pe.createWithPreprocess=(t,e,r)=>new pe({schema:e,effect:{type:"preprocess",transform:t},typeName:w.ZodEffects,...E(r)});class X extends C{_parse(e){return this._getType(e)===m.undefined?V(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}X.create=(t,e)=>new X({innerType:t,typeName:w.ZodOptional,...E(e)});class me extends C{_parse(e){return this._getType(e)===m.null?V(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}me.create=(t,e)=>new me({innerType:t,typeName:w.ZodNullable,...E(e)});class Ke extends C{_parse(e){const{ctx:r}=this._processInputParams(e);let s=r.data;return r.parsedType===m.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Ke.create=(t,e)=>new Ke({innerType:t,typeName:w.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...E(e)});class Xe extends C{_parse(e){const{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Oe(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new G(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new G(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Xe.create=(t,e)=>new Xe({innerType:t,typeName:w.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...E(e)});class Bt extends C{_parse(e){if(this._getType(e)!==m.nan){const s=this._getOrReturnCtx(e);return p(s,{code:u.invalid_type,expected:m.nan,received:s.parsedType}),x}return{status:"valid",value:e.data}}}Bt.create=t=>new Bt({typeName:w.ZodNaN,...E(t)});class ga extends C{_parse(e){const{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class ot extends C{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?x:a.status==="dirty"?(r.dirty(),we(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?x:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(e,r){return new ot({in:e,out:r,typeName:w.ZodPipeline})}}class et extends C{_parse(e){const r=this._def.innerType._parse(e),s=n=>(fe(n)&&(n.value=Object.freeze(n.value)),n);return Oe(r)?r.then(n=>s(n)):s(r)}unwrap(){return this._def.innerType}}et.create=(t,e)=>new et({innerType:t,typeName:w.ZodReadonly,...E(e)});var w;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(w||(w={}));const K=Q.create;te.create;U.create;const Te=L.create;Me.create;Pe.create;se.create;const ya=Qe.create,xr=he.create;ze.create;X.create;me.create;const wr=/^(\+54)?[0-9]{10,11}$/;function kr(t){return t.replace(/[\s\-()]/g,"")}const si=Te({email:K().min(1,"El email es requerido").email("IngresÃ¡ un email vÃ¡lido")}),ni=Te({phone:K().min(1,"El telÃ©fono es requerido").transform(kr).refine(t=>wr.test(t),{message:"IngresÃ¡ un nÃºmero de telÃ©fono vÃ¡lido (ej: 1155667788)"})}),ai=Te({otp:K().length(6,"El cÃ³digo debe tener 6 dÃ­gitos").regex(/^[0-9]+$/,"El cÃ³digo solo puede contener nÃºmeros")}),qt=Te({name:K().min(2,"El nombre debe tener al menos 2 caracteres").max(100,"El nombre no puede tener mÃ¡s de 100 caracteres").regex(/^[a-zA-ZÃ¡Ã©Ã­Ã³ÃºÃÃÃÃÃÃ±Ã\s]+$/,"El nombre solo puede contener letras"),email:K().email("IngresÃ¡ un email vÃ¡lido").optional().or(ya("")),phone:K().optional().transform(t=>t&&kr(t)).refine(t=>!t||wr.test(t),{message:"IngresÃ¡ un nÃºmero de telÃ©fono vÃ¡lido"}),gender:xr(["male","female"],{required_error:"SeleccionÃ¡ tu gÃ©nero",invalid_type_error:"GÃ©nero invÃ¡lido"}),birth_date:K().optional().refine(t=>{if(!t)return!0;const e=new Date(t),s=new Date().getFullYear()-e.getFullYear();return s>=12&&s<=100},{message:"La fecha de nacimiento no es vÃ¡lida"})}),ii=Te({name:K().min(2,"El nombre debe tener al menos 2 caracteres").max(100,"El nombre no puede tener mÃ¡s de 100 caracteres"),gender:xr(["male","female"],{required_error:"SeleccionÃ¡ tu gÃ©nero para poder inscribirte a torneos"})}),va=qt.partial().extend({name:qt.shape.name});function _a(t,e){const r=t.safeParse(e);if(r.success)return{success:!0,data:r.data};const s={};for(const n of r.error.errors){const a=n.path.join(".");s[a]||(s[a]=n.message)}return{success:!1,errors:s}}async function ba(t){const e=ue,{data:r,error:s}=await e.from("profiles").select("*").eq("id",t).single();if(s)throw new M({code:"PROFILE_FETCH_ERROR",status:500,userTitle:"Error",userMessage:"No se pudo cargar tu perfil",retryable:!0});return r}async function xa(t,e){const r=_a(va,e);if(!r.success){const i=Object.values(r.errors??{})[0];throw new mr(i??"Datos invÃ¡lidos",r.errors)}const s=ue,{data:n,error:a}=await s.from("profiles").update({...r.data,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(a)throw new M({code:"PROFILE_UPDATE_ERROR",status:500,userTitle:"Error al guardar",userMessage:"No se pudieron guardar los cambios. IntentÃ¡ de nuevo.",retryable:!0});return n}function wa(){const{user:t}=ne(),e=Nr(),r=Us(),{data:s,isLoading:n,error:a,refetch:i}=Tr({queryKey:["profile",t==null?void 0:t.id],queryFn:()=>ba(t.id),enabled:!!(t!=null&&t.id),staleTime:1e3*60*5}),o=Rr({mutationFn:l=>xa(t.id,l),onSuccess:l=>{e.setQueryData(["profile",t==null?void 0:t.id],l),r.success("Perfil actualizado","Los cambios se guardaron correctamente")},onError:l=>{r.error(l.userTitle,l.userMessage)}});return{profile:s,isLoading:n,error:a,refetch:i,updateProfile:o.mutate,isUpdating:o.isPending,updateError:o.error,isComplete:(s==null?void 0:s.is_complete)??!1,missingFields:(s==null?void 0:s.completion_missing)??[]}}function Sr({size:t="md",className:e}){const r={sm:"w-4 h-4 border-2",md:"w-8 h-8 border-3",lg:"w-12 h-12 border-4"};return c.jsx("div",{className:Z("rounded-full border-primary-600 border-t-transparent animate-spin",r[t],e),role:"status","aria-label":"Cargando"})}function ka({visible:t,message:e="Cargando...",blur:r=!0}){return t?c.jsx("div",{className:Z("fixed inset-0 z-50 flex items-center justify-center","bg-surface-950/80",r&&"backdrop-blur-sm"),children:c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx(Sr,{size:"lg"}),c.jsx("p",{className:"text-surface-300 text-sm",children:e})]})}):null}function Wt({children:t,reason:e}){const r=zr(),{profile:s,isLoading:n,isComplete:a}=wa();return n||!s?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-surface-950",children:c.jsx(Sr,{size:"lg"})}):a?c.jsx(c.Fragment,{children:t}):c.jsx(re,{to:"/complete-profile",state:{from:r.pathname,reason:e??"CompletÃ¡ tu perfil para continuar"},replace:!0})}const Sa=R.lazy(()=>$(()=>import("./LoginPage-BdSZL3Di.js"),__vite__mapDeps([0,1,2,3,4,5]))),Ea=R.lazy(()=>$(()=>import("./VerifyOtpPage-rTu36Kra.js"),__vite__mapDeps([6,1,2,3,4,5]))),ja=R.lazy(()=>$(()=>import("./CompleteProfilePage-VMe9wDGV.js"),__vite__mapDeps([7,1,2,4,5]))),Ca=R.lazy(()=>$(()=>import("./AuthCallbackPage-vvhxf1Cb.js"),__vite__mapDeps([8,1,2,5]))),Na=R.lazy(()=>$(()=>import("./EditProfilePage-C7wPzwJP.js"),__vite__mapDeps([9,1,2,4,5]))),Ta=R.lazy(()=>$(()=>import("./DashboardPage-DhDIE7sg.js"),__vite__mapDeps([10,1,2,5]))),Ra=R.lazy(()=>$(()=>import("./TournamentsPage-DcUgVCJ-.js"),__vite__mapDeps([11,1,2]))),Ia=R.lazy(()=>$(()=>import("./TournamentDetailPage-xX4XiLUo.js"),__vite__mapDeps([12,1,2]))),Aa=R.lazy(()=>$(()=>import("./MatchesPage-B7GboueC.js"),__vite__mapDeps([13,1,2]))),Oa=R.lazy(()=>$(()=>import("./RankingsPage-FoV9InPV.js"),__vite__mapDeps([14,1,2]))),La=R.lazy(()=>$(()=>import("./SettingsPage-Bf_1ICXS.js"),__vite__mapDeps([15,1,2]))),Ma=R.lazy(()=>$(()=>import("./NotFoundPage-CH9p44GH.js"),__vite__mapDeps([16,1,2])));function Gt({children:t}){const{isAuthenticated:e,isLoading:r}=ne();return r?c.jsx(Ze,{}):e?c.jsx(re,{to:"/dashboard",replace:!0}):c.jsx(c.Fragment,{children:t})}function Pa({children:t}){const{isAuthenticated:e,isLoading:r}=ne(),{currentTenant:s,isLoading:n}=ge();return r||n?c.jsx(Ze,{}):e?s?c.jsx(c.Fragment,{children:t}):c.jsx(re,{to:"/select-tenant",replace:!0}):c.jsx(re,{to:"/login",replace:!0})}function za({children:t}){const{isAuthenticated:e,isLoading:r}=ne();return r?c.jsx(Ze,{}):e?c.jsx(c.Fragment,{children:t}):c.jsx(re,{to:"/login",replace:!0})}function Da({children:t}){const{currentMembership:e}=ge();return(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="owner"?c.jsx(c.Fragment,{children:t}):c.jsx(re,{to:"/dashboard",replace:!0})}function Za(){return c.jsx(R.Suspense,{fallback:c.jsx(Ze,{}),children:c.jsxs(Dr,{children:[c.jsx(z,{path:"/login",element:c.jsx(Gt,{children:c.jsx(Sa,{})})}),c.jsx(z,{path:"/auth/verify",element:c.jsx(Gt,{children:c.jsx(Ea,{})})}),c.jsx(z,{path:"/auth/callback",element:c.jsx(Ca,{})}),c.jsx(z,{path:"/complete-profile",element:c.jsx(za,{children:c.jsx(ja,{})})}),c.jsxs(z,{path:"/",element:c.jsx(Pa,{children:c.jsx(zn,{})}),children:[c.jsx(z,{index:!0,element:c.jsx(re,{to:"/dashboard",replace:!0})}),c.jsx(z,{path:"dashboard",element:c.jsx(Ta,{})}),c.jsx(z,{path:"profile",element:c.jsx(Na,{})}),c.jsx(z,{path:"tournaments",element:c.jsx(Ra,{})}),c.jsx(z,{path:"tournaments/:id",element:c.jsx(Wt,{reason:"inscribirte a torneos",children:c.jsx(Ia,{})})}),c.jsx(z,{path:"matches",element:c.jsx(Wt,{reason:"ver y reportar partidos",children:c.jsx(Aa,{})})}),c.jsx(z,{path:"rankings",element:c.jsx(Oa,{})}),c.jsx(z,{path:"settings",element:c.jsx(Da,{children:c.jsx(La,{})})})]}),c.jsx(z,{path:"*",element:c.jsx(Ma,{})})]})})}function $a({children:t}){const{setSession:e,setLoading:r,logout:s}=ne();return R.useEffect(()=>{ue.auth.getSession().then(({data:{session:a}})=>{e(a)});const{data:{subscription:n}}=ue.auth.onAuthStateChange(async(a,i)=>{switch(console.log("[Auth] State changed:",a),a){case"SIGNED_IN":case"TOKEN_REFRESHED":e(i);break;case"SIGNED_OUT":s();break;case"USER_UPDATED":e(i);break;default:r(!1)}});return()=>{n.unsubscribe()}},[e,r,s]),c.jsx(c.Fragment,{children:t})}function Va({children:t}){const{user:e,isAuthenticated:r}=ne(),{setCurrentTenant:s,setAvailableTenants:n,setLoading:a,currentTenant:i,clear:o}=ge();return R.useEffect(()=>{if(!r||!e){o();return}const l=e.id;async function d(){a(!0);try{const{data:f,error:v}=await ue.from("tenant_users").select(`
            id,
            role,
            status,
            tenant:tenants (
              id,
              name,
              slug,
              plan,
              status,
              logo_url
            )
          `).eq("profile_id",l).eq("status","active");if(v){console.error("[Tenant] Error loading memberships:",v),a(!1);return}const b=f??[];if(b.length===0){n([]),s(null);return}const S=b.filter(h=>h.tenant).map(h=>({id:h.tenant.id,name:h.tenant.name,slug:h.tenant.slug,plan:h.tenant.plan??"free",status:h.tenant.status??"active",logoUrl:h.tenant.logo_url??void 0}));n(S);const T=i==null?void 0:i.id,y=T?S.find(h=>h.id===T)??S[0]:S[0];if(y){const h=b.find(_=>{var O;return((O=_.tenant)==null?void 0:O.id)===y.id}),j=h?{tenantId:y.id,tenantUserId:h.id,role:h.role??"player",status:h.status??"active"}:null;s(y,j)}}catch(f){console.error("[Tenant] Unexpected error:",f)}finally{a(!1)}}d()},[r,e,s,n,a,o,i==null?void 0:i.id]),c.jsx(c.Fragment,{children:t})}class Ua extends R.Component{constructor(r){super(r);P(this,"handleReset",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){var n,a;console.error("[ErrorBoundary] Caught error:",r,s),cs(i=>{i.setExtras({componentStack:s.componentStack}),r instanceof M&&(i.setTag("error_code",r.code),i.setTag("error_status",r.status.toString()),i.setExtra("requestId",r.requestId)),ls(r)}),(a=(n=this.props).onError)==null||a.call(n,r,s),Bn(r)&&(window.location.href="/login")}render(){return this.state.hasError?this.props.fallback?this.props.fallback:c.jsx(Fa,{error:this.state.error,onReset:this.handleReset}):this.props.children}}function Fa({error:t,onReset:e}){const r=t instanceof M,s=r?t.userTitle:"Algo saliÃ³ mal",n=r?t.userMessage:"OcurriÃ³ un error inesperado. Por favor, recargÃ¡ la pÃ¡gina.",a=r?t.requestId:void 0;return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-surface-950 p-4",children:c.jsx("div",{className:"max-w-md w-full",children:c.jsxs("div",{className:"card text-center",children:[c.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-red-500/20 flex items-center justify-center",children:c.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsx("h1",{className:"text-2xl font-display font-bold text-surface-100 mb-2",children:s}),c.jsx("p",{className:"text-surface-400 mb-6",children:n}),a&&c.jsxs("p",{className:"text-xs text-surface-600 mb-6 font-mono",children:["ID: ",a]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[c.jsx("button",{onClick:e,className:"btn-primary",children:"Intentar de nuevo"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"btn-secondary",children:"Recargar pÃ¡gina"})]}),c.jsxs("p",{className:"text-xs text-surface-500 mt-6",children:["Si el problema persiste,"," ",c.jsx("a",{href:"mailto:soporte@padel.com",className:"text-primary-400 hover:underline",children:"contactÃ¡ a soporte"})]})]})})})}function Ba(){const{toasts:t,removeToast:e}=ye();return t.length===0?null:c.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-sm",children:t.map(r=>c.jsx(qa,{toast:r,onClose:()=>e(r.id)},r.id))})}function qa({toast:t,onClose:e}){const r={success:"â",error:"â",warning:"â ",info:"â¹"},s={success:"border-green-500 bg-green-500/10",error:"border-red-500 bg-red-500/10",warning:"border-yellow-500 bg-yellow-500/10",info:"border-blue-500 bg-blue-500/10"},n={success:"text-green-400",error:"text-red-400",warning:"text-yellow-400",info:"text-blue-400"};return c.jsxs("div",{className:Z("flex items-start gap-3 p-4 rounded-lg border shadow-lg animate-slide-up","bg-surface-900",s[t.type]),children:[c.jsx("span",{className:Z("text-lg",n[t.type]),children:r[t.type]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium text-surface-100",children:t.title}),t.message&&c.jsx("p",{className:"text-sm text-surface-400 mt-0.5",children:t.message})]}),c.jsx("button",{onClick:e,className:"text-surface-500 hover:text-surface-300 transition-colors",children:"â"})]})}function Wa(){const[t,e]=R.useState(navigator.onLine),[r,s]=R.useState(!1),[n,a]=R.useState(navigator.onLine?new Date:null),i=R.useCallback(async()=>{try{const o=new AbortController,l=setTimeout(()=>o.abort(),5e3),d=await fetch("/api/health",{method:"HEAD",signal:o.signal,cache:"no-store"});return clearTimeout(l),d.ok}catch{return!1}},[]);return R.useEffect(()=>{const o=()=>{e(!0),a(new Date),t||(s(!0),setTimeout(()=>s(!1),5e3))},l=()=>{e(!1)};return window.addEventListener("online",o),window.addEventListener("offline",l),navigator.onLine&&i().then(d=>{d||e(!1)}),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",l)}},[t,i]),{isOnline:t,wasOffline:r,lastOnline:n,checkConnection:i}}function Ga(){const{isOnline:t,wasOffline:e}=Wa();return t&&!e?null:c.jsx("div",{className:Z("fixed top-0 left-0 right-0 z-50","px-4 py-2 text-center text-sm font-medium","transition-all duration-300 animate-slide-down",t?"bg-green-600 text-white":"bg-yellow-600 text-yellow-50"),role:"alert",children:t?c.jsxs("span",{className:"flex items-center justify-center gap-2",children:[c.jsx(Ha,{className:"w-4 h-4"}),"ConexiÃ³n restablecida"]}):c.jsxs("span",{className:"flex items-center justify-center gap-2",children:[c.jsx(Ja,{className:"w-4 h-4"}),"Sin conexiÃ³n a internet"]})})}function Ha({className:t}){return c.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}function Ja({className:t}){return c.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414"})})}function Ya(t,e=1e3){const r=e*Math.pow(2,t-1),s=Math.random()*.3*r;return Math.min(r+s,3e4)}const Ht={retry:(t,e)=>e instanceof M?e.retryable&&t<3:t<3,retryDelay:(t,e)=>e instanceof M&&e.retryDelay?e.retryDelay:Ya(t+1)},Qa=new Ir({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30,retry:Ht.retry,retryDelay:Ht.retryDelay,refetchOnWindowFocus:!1},mutations:{retry:(t,e)=>e instanceof M?e.retryable&&t<2:!1}}});function Ka(){const t=ye(e=>e.globalLoading);return R.useEffect(()=>{console.log("[App] Initialized",{env:"production",version:"dev"})},[]),c.jsx(Ua,{onError:(e,r)=>{console.error("[App] Error caught:",e,r)},children:c.jsxs(Ar,{client:Qa,children:[c.jsx(Zr,{children:c.jsx($a,{children:c.jsxs(Va,{children:[c.jsx(Ga,{}),c.jsx(ka,{visible:t}),c.jsx(Za,{}),c.jsx(Ba,{})]})})}),!1]})})}const Er=document.getElementById("root");if(!Er)throw new Error("Root element not found");Jt(Er).render(c.jsx(R.StrictMode,{children:c.jsx(Ka,{})}));export{hr as A,Sr as S,Us as a,M as b,Z as c,wa as d,ii as e,va as f,ge as g,si as l,ai as o,ni as p,ue as s,ne as u,_a as v};
//# sourceMappingURL=index-QTZiQ_WQ.js.map
