{"version":3,"mappings":"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","names":["m","require$$0","createRoot","SDK_VERSION","GLOBAL_OBJ","getGlobalSingleton","name","creator","obj","gbl","__SENTRY__","versionedCarrier","DEBUG_BUILD","PREFIX","CONSOLE_LEVELS","originalConsoleMethods","consoleSandbox","callback","console","wrappedFuncs","wrappedLevels","level","originalConsoleMethod","makeLogger","enabled","logger","args","getMainCarrier","getSentryCarrier","carrier","objectToString","isBuiltin","wat","className","isPlainObject","isThenable","addNonEnumerableProperty","value","ONE_SECOND_IN_MS","dateTimestampInSeconds","createUnixTimestampInSecondsFunc","performance","approxStartingTimeOrigin","timeOrigin","timestampInSeconds","threshold","performanceNow","dateNow","timeOriginDelta","timeOriginIsReliable","navigationStart","navigationStartDelta","navigationStartIsReliable","uuid4","crypto","getRandomByte","typedArray","c","updateSession","session","context","duration","generateTraceId","generateSpanId","merge","initialObj","mergeObj","levels","output","key","SCOPE_SPAN_FIELD","_setSpanForScope","scope","span","_getSpanForScope","DEFAULT_MAX_BREADCRUMBS","ScopeClass","newScope","client","lastEventId","user","requestSession","tags","extras","extra","fingerprint","captureContext","scopeToMerge","scopeInstance","Scope","contexts","propagationContext","breadcrumb","maxBreadcrumbs","maxCrumbs","mergedBreadcrumb","attachment","newData","exception","hint","eventId","syntheticException","message","event","getDefaultCurrentScope","getDefaultIsolationScope","AsyncContextStack","isolationScope","assignedScope","assignedIsolationScope","maybePromiseResult","e","res","getAsyncContextStack","registry","sentry","withScope","withSetScope","stack","withIsolationScope","getStackAsyncContextStrategy","_isolationScope","getAsyncContextStrategy","getCurrentScope","rest","acs","captureException","createStoreImpl","createState","state","listeners","setState","partial","replace","nextState","previousState","listener","getState","api","initialState","__vite_import_meta_env__","createStore","React","is","x","y","objectIs","useState","useEffect","useLayoutEffect","useDebugValue","useSyncExternalStore$2","subscribe","getSnapshot","_useState","inst","forceUpdate","checkIfSnapshotChanged","latestGetSnapshot","nextValue","useSyncExternalStore$1","shim","useSyncExternalStoreShim_production","shimModule","require$$1","useSyncExternalStore","useRef","useMemo","withSelector_production","getServerSnapshot","selector","isEqual","instRef","memoizedSelector","nextSnapshot","hasMemo","memoizedSnapshot","currentSelection","memoizedSelection","nextSelection","maybeGetServerSnapshot","withSelectorModule","ReactExports","useSyncExternalStoreWithSelector","useSyncExternalStoreExports","didWarnAboutEqualityFn","identity","arg","useStore","equalityFn","slice","createImpl","useBoundStore","create","createJSONStorage","getStorage","options","storage","_a","parse","str2","str","newValue","toThenable","fn","input","result","onFulfilled","_onRejected","_onFulfilled","onRejected","oldImpl","config","baseOptions","set","get","persistedState","currentState","hasHydrated","hydrationListeners","finishHydrationListeners","thenableSerialize","setItem","errorInSync","thenable","serializedValue","savedSetState","configResult","stateFromStorage","hydrate","cb","postRehydrationCallback","storageValue","deserializedStorageValue","migratedState","_a2","newOptions","newImpl","_b","migrationResult","migrated","persistImpl","persist","useAuthStore","isLoading","useTenantStore","role","tenant","membership","tenants","tenantId","t","useIsAdmin","useUIStore","open","toast","id","newToast","data","loading","useToast","addToast","title","r","f","n","o","clsx","CLASS_PART_SEPARATOR","createClassGroupUtils","classMap","createClassMap","conflictingClassGroups","conflictingClassGroupModifiers","classParts","getGroupRecursive","getGroupIdForArbitraryProperty","classGroupId","hasPostfixModifier","conflicts","classPartObject","currentClassPart","nextClassPartObject","classGroupFromNextClassPart","classRest","validator","arbitraryPropertyRegex","arbitraryPropertyClassName","property","theme","prefix","getPrefixedClassGroupEntries","classGroup","processClassesRecursively","classDefinition","classPartObjectToEdit","getPart","isThemeGetter","path","currentClassPartObject","pathPart","func","classGroupEntries","prefixedClassGroup","createLruCache","maxCacheSize","cacheSize","cache","previousCache","update","IMPORTANT_MODIFIER","createParseClassName","separator","experimentalParseClassName","isSeparatorSingleCharacter","firstSeparatorCharacter","separatorLength","parseClassName","modifiers","bracketDepth","modifierStart","postfixModifierPosition","index","currentCharacter","baseClassNameWithImportantModifier","hasImportantModifier","baseClassName","maybePostfixModifierPosition","sortModifiers","sortedModifiers","unsortedModifiers","modifier","createConfigUtils","SPLIT_CLASSES_REGEX","mergeClassList","classList","configUtils","getClassGroupId","getConflictingClassGroupIds","classGroupsInConflict","classNames","originalClassName","variantModifier","modifierId","classId","conflictGroups","i","group","twJoin","argument","resolvedValue","string","toValue","mix","k","createTailwindMerge","createConfigFirst","createConfigRest","cacheGet","cacheSet","functionToCall","initTailwindMerge","previousConfig","createConfigCurrent","tailwindMerge","cachedResult","fromTheme","themeGetter","arbitraryValueRegex","fractionRegex","stringLengths","tshirtUnitRegex","lengthUnitRegex","colorFunctionRegex","shadowRegex","imageRegex","isLength","isNumber","isArbitraryLength","getIsArbitraryValue","isLengthOnly","isArbitraryNumber","isInteger","isPercent","isArbitraryValue","isTshirtSize","sizeLabels","isArbitrarySize","isNever","isArbitraryPosition","imageLabels","isArbitraryImage","isImage","isArbitraryShadow","isShadow","isAny","label","testValue","getDefaultConfig","colors","spacing","blur","brightness","borderColor","borderRadius","borderSpacing","borderWidth","contrast","grayscale","hueRotate","invert","gap","gradientColorStops","gradientColorStopPositions","inset","margin","opacity","padding","saturate","scale","sepia","skew","space","translate","getOverscroll","getOverflow","getSpacingWithAutoAndArbitrary","getSpacingWithArbitrary","getLengthWithEmptyAndArbitrary","getNumberWithAutoAndArbitrary","getPositions","getLineStyles","getBlendModes","getAlign","getZeroAndEmpty","getBreaks","getNumberAndArbitrary","twMerge","cn","inputs","navigation","HomeIcon","TrophyIcon","CalendarIcon","ChartIcon","adminNavigation","SettingsIcon","Sidebar","sidebarOpen","toggleSidebar","currentTenant","isAdmin","jsxs","Fragment","jsx","CloseIcon","item","NavLink","isActive","supabaseUrl","supabaseAnonKey","supabase","createClient","Header","availableTenants","switchTenant","dropdownOpen","setDropdownOpen","dropdownRef","handleClickOutside","handleLogout","MenuIcon","ChevronDownIcon","MainLayout","Outlet","LoadingScreen","AppError","metadata","__publicField","response","code","errorFromCode","_c","error","NetworkError","TimeoutError","AuthenticationError","AuthorizationError","NotFoundError","resource","ValidationError","fieldErrors","ConflictError","RateLimitError","retryAfter","ServerError","requestId","MaintenanceError","isAuthError","util","_","assertIs","_arg","assertNever","_x","items","validKeys","filtered","object","keys","arr","checker","val","joinValues","array","objectUtil","first","second","ZodParsedType","getParsedType","ZodIssueCode","ZodError","issues","sub","subs","actualProto","_mapper","mapper","issue","processError","curr","el","formErrors","firstEl","errorMap","_ctx","overrideErrorMap","defaultErrorMap","getErrorMap","makeIssue","params","errorMaps","issueData","fullPath","fullIssue","errorMessage","maps","map","addIssueToContext","ctx","overrideMap","ParseStatus","status","results","arrayValue","s","INVALID","pairs","syncPairs","pair","finalObject","DIRTY","OK","isAborted","isDirty","isValid","isAsync","errorUtil","ParseInputLazyPath","parent","handleResult","processCreateParams","invalid_type_error","required_error","description","iss","ZodType","err","maybeAsyncResult","check","getIssueProperties","setError","refinementData","refinement","ZodEffects","ZodFirstPartyTypeKind","def","ZodOptional","ZodNullable","ZodArray","ZodPromise","option","ZodUnion","incoming","ZodIntersection","transform","defaultValueFunc","ZodDefault","ZodBranded","catchValueFunc","ZodCatch","This","target","ZodPipeline","ZodReadonly","cuidRegex","cuid2Regex","ulidRegex","uuidRegex","nanoidRegex","jwtRegex","durationRegex","emailRegex","_emojiRegex","emojiRegex","ipv4Regex","ipv4CidrRegex","ipv6Regex","ipv6CidrRegex","base64Regex","base64urlRegex","dateRegexSource","dateRegex","timeRegexSource","secondsRegexSource","secondsQuantifier","timeRegex","datetimeRegex","regex","opts","isValidIP","ip","version","isValidJWT","jwt","alg","header","base64","decoded","isValidCidr","ZodString","tooBig","tooSmall","validation","minLength","maxLength","len","ch","min","max","floatSafeRemainder","step","valDecCount","stepDecCount","decCount","valInt","stepInt","ZodNumber","kind","inclusive","ZodBigInt","ZodBoolean","ZodDate","minDate","maxDate","ZodSymbol","ZodUndefined","ZodNull","ZodAny","ZodUnknown","ZodNever","ZodVoid","schema","deepPartialify","ZodObject","newShape","fieldSchema","ZodTuple","shape","shapeKeys","extraKeys","keyValidator","unknownKeys","catchall","defaultError","augmentation","merging","mask","newField","createZodEnum","handleResults","unionErrors","childCtx","dirty","types","mergeValues","a","b","aType","bType","bKeys","sharedKeys","newObj","sharedValue","newArray","itemA","itemB","handleParsed","parsedLeft","parsedRight","merged","left","right","itemIndex","schemas","ZodMap","keyType","valueType","finalMap","ZodSet","finalizeSet","elements","parsedSet","element","minSize","maxSize","size","ZodLazy","getter","ZodLiteral","values","ZodEnum","expectedValues","enumValues","newDef","opt","ZodNativeEnum","nativeEnumValues","promisified","effect","checkCtx","processed","executeRefinement","acc","inner","base","preprocess","type","newCtx","ZodNaN","inResult","freeze","stringType","objectType","literalType","enumType","phoneRegex","normalizePhone","phone","loginSchema","z.object","z.string","phoneLoginSchema","otpSchema","profileSchema","z.literal","z.enum","date","age","completeProfileSchema","editProfileSchema","validate","errors","fetchProfile","userId","updateProfile","updates","firstError","useProfile","queryClient","useQueryClient","profile","refetch","useQuery","updateMutation","useMutation","updatedProfile","Spinner","sizeClasses","LoadingOverlay","visible","RequireCompleteProfile","children","reason","location","useLocation","isComplete","Navigate","LoginPage","lazy","__vitePreload","VerifyOtpPage","CompleteProfilePage","AuthCallbackPage","EditProfilePage","DashboardPage","TournamentsPage","TournamentDetailPage","MatchesPage","RankingsPage","SettingsPage","NotFoundPage","PublicOnlyRoute","isAuthenticated","ProtectedRoute","authLoading","tenantLoading","AuthOnlyRoute","AdminRoute","currentMembership","AppRoutes","Suspense","Routes","Route","AuthProvider","setSession","setLoading","logout","subscription","TenantProvider","setCurrentTenant","setAvailableTenants","clear","loadTenants","memberships","membershipList","savedTenantId","targetTenant","tenantMembership","ErrorBoundaryProvider","Component","props","errorInfo","Sentry.withScope","Sentry.captureException","ErrorFallback","onReset","isAppErr","Toaster","toasts","removeToast","ToastItem","onClose","iconMap","colorMap","iconColorMap","useOnlineStatus","isOnline","setIsOnline","wasOffline","setWasOffline","lastOnline","setLastOnline","checkConnection","useCallback","controller","timeoutId","handleOnline","handleOffline","connected","OfflineBanner","CheckIcon","WifiOffIcon","calculateBackoff","attempt","baseDelay","delay","jitter","defaultQueryConfig","failureCount","attemptIndex","QueryClient","App","globalLoading","QueryClientProvider","BrowserRouter","rootElement","StrictMode"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,30,31,39,40,41,42,43,44,45],"sources":["../../node_modules/react-dom/client.js","../../node_modules/@sentry/core/build/esm/utils-hoist/version.js","../../node_modules/@sentry/core/build/esm/utils-hoist/worldwide.js","../../node_modules/@sentry/core/build/esm/utils-hoist/debug-build.js","../../node_modules/@sentry/core/build/esm/utils-hoist/logger.js","../../node_modules/@sentry/core/build/esm/carrier.js","../../node_modules/@sentry/core/build/esm/utils-hoist/is.js","../../node_modules/@sentry/core/build/esm/utils-hoist/object.js","../../node_modules/@sentry/core/build/esm/utils-hoist/time.js","../../node_modules/@sentry/core/build/esm/utils-hoist/misc.js","../../node_modules/@sentry/core/build/esm/session.js","../../node_modules/@sentry/core/build/esm/utils-hoist/propagationContext.js","../../node_modules/@sentry/core/build/esm/utils/merge.js","../../node_modules/@sentry/core/build/esm/utils/spanOnScope.js","../../node_modules/@sentry/core/build/esm/scope.js","../../node_modules/@sentry/core/build/esm/defaultScopes.js","../../node_modules/@sentry/core/build/esm/asyncContext/stackStrategy.js","../../node_modules/@sentry/core/build/esm/asyncContext/index.js","../../node_modules/@sentry/core/build/esm/currentScopes.js","../../node_modules/@sentry/core/build/esm/exports.js","../../node_modules/zustand/esm/vanilla.mjs","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js","../../node_modules/use-sync-external-store/shim/with-selector.js","../../node_modules/zustand/esm/index.mjs","../../node_modules/zustand/esm/middleware.mjs","../../src/stores/authStore.ts","../../src/stores/tenantStore.ts","../../src/stores/uiStore.ts","../../node_modules/clsx/dist/clsx.mjs","../../node_modules/tailwind-merge/dist/bundle-mjs.mjs","../../src/lib/utils.ts","../../src/components/layout/Sidebar.tsx","../../src/lib/supabase.ts","../../src/components/layout/Header.tsx","../../src/components/layout/MainLayout.tsx","../../src/components/ui/LoadingScreen.tsx","../../src/lib/errors.ts","../../node_modules/zod/v3/helpers/util.js","../../node_modules/zod/v3/ZodError.js","../../node_modules/zod/v3/locales/en.js","../../node_modules/zod/v3/errors.js","../../node_modules/zod/v3/helpers/parseUtil.js","../../node_modules/zod/v3/helpers/errorUtil.js","../../node_modules/zod/v3/types.js","../../src/lib/validations.ts","../../src/hooks/useProfile.ts","../../src/components/ui/LoadingStates.tsx","../../src/components/guards/RequireCompleteProfile.tsx","../../src/routes/index.tsx","../../src/providers/AuthProvider.tsx","../../src/providers/TenantProvider.tsx","../../src/providers/ErrorBoundaryProvider.tsx","../../src/components/ui/Toaster.tsx","../../src/hooks/useOnlineStatus.ts","../../src/components/ui/OfflineBanner.tsx","../../src/lib/api.ts","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","// This is a magic string replaced by rollup\n\nconst SDK_VERSION = \"8.55.0\" ;\n\nexport { SDK_VERSION };\n//# sourceMappingURL=version.js.map\n","import { SDK_VERSION } from './version.js';\n\n/** Get's the global object for the current JavaScript runtime */\nconst GLOBAL_OBJ = globalThis ;\n\n/**\n * Returns a global singleton contained in the global `__SENTRY__[]` object.\n *\n * If the singleton doesn't already exist in `__SENTRY__`, it will be created using the given factory\n * function and added to the `__SENTRY__` object.\n *\n * @param name name of the global singleton on __SENTRY__\n * @param creator creator Factory function to create the singleton if it doesn't already exist on `__SENTRY__`\n * @param obj (Optional) The global object on which to look for `__SENTRY__`, if not `GLOBAL_OBJ`'s return value\n * @returns the singleton\n */\nfunction getGlobalSingleton(name, creator, obj) {\n  const gbl = (obj || GLOBAL_OBJ) ;\n  const __SENTRY__ = (gbl.__SENTRY__ = gbl.__SENTRY__ || {});\n  const versionedCarrier = (__SENTRY__[SDK_VERSION] = __SENTRY__[SDK_VERSION] || {});\n  return versionedCarrier[name] || (versionedCarrier[name] = creator());\n}\n\nexport { GLOBAL_OBJ, getGlobalSingleton };\n//# sourceMappingURL=worldwide.js.map\n","/**\n * This serves as a build time flag that will be true by default, but false in non-debug builds or if users replace `__SENTRY_DEBUG__` in their generated code.\n *\n * ATTENTION: This constant must never cross package boundaries (i.e. be exported) to guarantee that it can be used for tree shaking.\n */\nconst DEBUG_BUILD = (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__);\n\nexport { DEBUG_BUILD };\n//# sourceMappingURL=debug-build.js.map\n","import { DEBUG_BUILD } from './debug-build.js';\nimport { getGlobalSingleton, GLOBAL_OBJ } from './worldwide.js';\n\n/** Prefix for logging strings */\nconst PREFIX = 'Sentry Logger ';\n\nconst CONSOLE_LEVELS = [\n  'debug',\n  'info',\n  'warn',\n  'error',\n  'log',\n  'assert',\n  'trace',\n] ;\n\n/** This may be mutated by the console instrumentation. */\nconst originalConsoleMethods\n\n = {};\n\n/** JSDoc */\n\n/**\n * Temporarily disable sentry console instrumentations.\n *\n * @param callback The function to run against the original `console` messages\n * @returns The results of the callback\n */\nfunction consoleSandbox(callback) {\n  if (!('console' in GLOBAL_OBJ)) {\n    return callback();\n  }\n\n  const console = GLOBAL_OBJ.console ;\n  const wrappedFuncs = {};\n\n  const wrappedLevels = Object.keys(originalConsoleMethods) ;\n\n  // Restore all wrapped console methods\n  wrappedLevels.forEach(level => {\n    const originalConsoleMethod = originalConsoleMethods[level] ;\n    wrappedFuncs[level] = console[level] ;\n    console[level] = originalConsoleMethod;\n  });\n\n  try {\n    return callback();\n  } finally {\n    // Revert restoration to wrapped state\n    wrappedLevels.forEach(level => {\n      console[level] = wrappedFuncs[level] ;\n    });\n  }\n}\n\nfunction makeLogger() {\n  let enabled = false;\n  const logger = {\n    enable: () => {\n      enabled = true;\n    },\n    disable: () => {\n      enabled = false;\n    },\n    isEnabled: () => enabled,\n  };\n\n  if (DEBUG_BUILD) {\n    CONSOLE_LEVELS.forEach(name => {\n      logger[name] = (...args) => {\n        if (enabled) {\n          consoleSandbox(() => {\n            GLOBAL_OBJ.console[name](`${PREFIX}[${name}]:`, ...args);\n          });\n        }\n      };\n    });\n  } else {\n    CONSOLE_LEVELS.forEach(name => {\n      logger[name] = () => undefined;\n    });\n  }\n\n  return logger ;\n}\n\n/**\n * This is a logger singleton which either logs things or no-ops if logging is not enabled.\n * The logger is a singleton on the carrier, to ensure that a consistent logger is used throughout the SDK.\n */\nconst logger = getGlobalSingleton('logger', makeLogger);\n\nexport { CONSOLE_LEVELS, consoleSandbox, logger, originalConsoleMethods };\n//# sourceMappingURL=logger.js.map\n","import { SDK_VERSION } from './utils-hoist/version.js';\nimport { GLOBAL_OBJ } from './utils-hoist/worldwide.js';\n\n/**\n * An object that contains globally accessible properties and maintains a scope stack.\n * @hidden\n */\n\n/**\n * Returns the global shim registry.\n *\n * FIXME: This function is problematic, because despite always returning a valid Carrier,\n * it has an optional `__SENTRY__` property, which then in turn requires us to always perform an unnecessary check\n * at the call-site. We always access the carrier through this function, so we can guarantee that `__SENTRY__` is there.\n **/\nfunction getMainCarrier() {\n  // This ensures a Sentry carrier exists\n  getSentryCarrier(GLOBAL_OBJ);\n  return GLOBAL_OBJ;\n}\n\n/** Will either get the existing sentry carrier, or create a new one. */\nfunction getSentryCarrier(carrier) {\n  const __SENTRY__ = (carrier.__SENTRY__ = carrier.__SENTRY__ || {});\n\n  // For now: First SDK that sets the .version property wins\n  __SENTRY__.version = __SENTRY__.version || SDK_VERSION;\n\n  // Intentionally populating and returning the version of \"this\" SDK instance\n  // rather than what's set in .version so that \"this\" SDK always gets its carrier\n  return (__SENTRY__[SDK_VERSION] = __SENTRY__[SDK_VERSION] || {});\n}\n\nexport { getMainCarrier, getSentryCarrier };\n//# sourceMappingURL=carrier.js.map\n","// eslint-disable-next-line @typescript-eslint/unbound-method\nconst objectToString = Object.prototype.toString;\n\n/**\n * Checks whether given value's type is one of a few Error or Error-like\n * {@link isError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isError(wat) {\n  switch (objectToString.call(wat)) {\n    case '[object Error]':\n    case '[object Exception]':\n    case '[object DOMException]':\n    case '[object WebAssembly.Exception]':\n      return true;\n    default:\n      return isInstanceOf(wat, Error);\n  }\n}\n/**\n * Checks whether given value is an instance of the given built-in class.\n *\n * @param wat The value to be checked\n * @param className\n * @returns A boolean representing the result.\n */\nfunction isBuiltin(wat, className) {\n  return objectToString.call(wat) === `[object ${className}]`;\n}\n\n/**\n * Checks whether given value's type is ErrorEvent\n * {@link isErrorEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isErrorEvent(wat) {\n  return isBuiltin(wat, 'ErrorEvent');\n}\n\n/**\n * Checks whether given value's type is DOMError\n * {@link isDOMError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isDOMError(wat) {\n  return isBuiltin(wat, 'DOMError');\n}\n\n/**\n * Checks whether given value's type is DOMException\n * {@link isDOMException}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isDOMException(wat) {\n  return isBuiltin(wat, 'DOMException');\n}\n\n/**\n * Checks whether given value's type is a string\n * {@link isString}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isString(wat) {\n  return isBuiltin(wat, 'String');\n}\n\n/**\n * Checks whether given string is parameterized\n * {@link isParameterizedString}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isParameterizedString(wat) {\n  return (\n    typeof wat === 'object' &&\n    wat !== null &&\n    '__sentry_template_string__' in wat &&\n    '__sentry_template_values__' in wat\n  );\n}\n\n/**\n * Checks whether given value is a primitive (undefined, null, number, boolean, string, bigint, symbol)\n * {@link isPrimitive}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isPrimitive(wat) {\n  return wat === null || isParameterizedString(wat) || (typeof wat !== 'object' && typeof wat !== 'function');\n}\n\n/**\n * Checks whether given value's type is an object literal, or a class instance.\n * {@link isPlainObject}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isPlainObject(wat) {\n  return isBuiltin(wat, 'Object');\n}\n\n/**\n * Checks whether given value's type is an Event instance\n * {@link isEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isEvent(wat) {\n  return typeof Event !== 'undefined' && isInstanceOf(wat, Event);\n}\n\n/**\n * Checks whether given value's type is an Element instance\n * {@link isElement}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isElement(wat) {\n  return typeof Element !== 'undefined' && isInstanceOf(wat, Element);\n}\n\n/**\n * Checks whether given value's type is an regexp\n * {@link isRegExp}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isRegExp(wat) {\n  return isBuiltin(wat, 'RegExp');\n}\n\n/**\n * Checks whether given value has a then function.\n * @param wat A value to be checked.\n */\nfunction isThenable(wat) {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  return Boolean(wat && wat.then && typeof wat.then === 'function');\n}\n\n/**\n * Checks whether given value's type is a SyntheticEvent\n * {@link isSyntheticEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isSyntheticEvent(wat) {\n  return isPlainObject(wat) && 'nativeEvent' in wat && 'preventDefault' in wat && 'stopPropagation' in wat;\n}\n\n/**\n * Checks whether given value's type is an instance of provided constructor.\n * {@link isInstanceOf}.\n *\n * @param wat A value to be checked.\n * @param base A constructor to be used in a check.\n * @returns A boolean representing the result.\n */\nfunction isInstanceOf(wat, base) {\n  try {\n    return wat instanceof base;\n  } catch (_e) {\n    return false;\n  }\n}\n\n/**\n * Checks whether given value's type is a Vue ViewModel.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isVueViewModel(wat) {\n  // Not using Object.prototype.toString because in Vue 3 it would read the instance's Symbol(Symbol.toStringTag) property.\n  return !!(typeof wat === 'object' && wat !== null && ((wat ).__isVue || (wat )._isVue));\n}\n\nexport { isDOMError, isDOMException, isElement, isError, isErrorEvent, isEvent, isInstanceOf, isParameterizedString, isPlainObject, isPrimitive, isRegExp, isString, isSyntheticEvent, isThenable, isVueViewModel };\n//# sourceMappingURL=is.js.map\n","import { htmlTreeAsString } from './browser.js';\nimport { DEBUG_BUILD } from './debug-build.js';\nimport { isError, isEvent, isInstanceOf, isElement, isPlainObject, isPrimitive } from './is.js';\nimport { logger } from './logger.js';\nimport { truncate } from './string.js';\n\n/**\n * Replace a method in an object with a wrapped version of itself.\n *\n * @param source An object that contains a method to be wrapped.\n * @param name The name of the method to be wrapped.\n * @param replacementFactory A higher-order function that takes the original version of the given method and returns a\n * wrapped version. Note: The function returned by `replacementFactory` needs to be a non-arrow function, in order to\n * preserve the correct value of `this`, and the original method must be called using `origMethod.call(this, <other\n * args>)` or `origMethod.apply(this, [<other args>])` (rather than being called directly), again to preserve `this`.\n * @returns void\n */\nfunction fill(source, name, replacementFactory) {\n  if (!(name in source)) {\n    return;\n  }\n\n  const original = source[name] ;\n  const wrapped = replacementFactory(original) ;\n\n  // Make sure it's a function first, as we need to attach an empty prototype for `defineProperties` to work\n  // otherwise it'll throw \"TypeError: Object.defineProperties called on non-object\"\n  if (typeof wrapped === 'function') {\n    markFunctionWrapped(wrapped, original);\n  }\n\n  try {\n    source[name] = wrapped;\n  } catch (e) {\n    DEBUG_BUILD && logger.log(`Failed to replace method \"${name}\" in object`, source);\n  }\n}\n\n/**\n * Defines a non-enumerable property on the given object.\n *\n * @param obj The object on which to set the property\n * @param name The name of the property to be set\n * @param value The value to which to set the property\n */\nfunction addNonEnumerableProperty(obj, name, value) {\n  try {\n    Object.defineProperty(obj, name, {\n      // enumerable: false, // the default, so we can save on bundle size by not explicitly setting it\n      value: value,\n      writable: true,\n      configurable: true,\n    });\n  } catch (o_O) {\n    DEBUG_BUILD && logger.log(`Failed to add non-enumerable property \"${name}\" to object`, obj);\n  }\n}\n\n/**\n * Remembers the original function on the wrapped function and\n * patches up the prototype.\n *\n * @param wrapped the wrapper function\n * @param original the original function that gets wrapped\n */\nfunction markFunctionWrapped(wrapped, original) {\n  try {\n    const proto = original.prototype || {};\n    wrapped.prototype = original.prototype = proto;\n    addNonEnumerableProperty(wrapped, '__sentry_original__', original);\n  } catch (o_O) {} // eslint-disable-line no-empty\n}\n\n/**\n * This extracts the original function if available.  See\n * `markFunctionWrapped` for more information.\n *\n * @param func the function to unwrap\n * @returns the unwrapped version of the function if available.\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction getOriginalFunction(func) {\n  return func.__sentry_original__;\n}\n\n/**\n * Encodes given object into url-friendly format\n *\n * @param object An object that contains serializable values\n * @returns string Encoded\n *\n * @deprecated This function is deprecated and will be removed in the next major version of the SDK.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction urlEncode(object) {\n  return Object.entries(object)\n    .map(([key, value]) => `${encodeURIComponent(key)}=${encodeURIComponent(value)}`)\n    .join('&');\n}\n\n/**\n * Transforms any `Error` or `Event` into a plain object with all of their enumerable properties, and some of their\n * non-enumerable properties attached.\n *\n * @param value Initial source that we have to transform in order for it to be usable by the serializer\n * @returns An Event or Error turned into an object - or the value argument itself, when value is neither an Event nor\n *  an Error.\n */\nfunction convertToPlainObject(value)\n\n {\n  if (isError(value)) {\n    return {\n      message: value.message,\n      name: value.name,\n      stack: value.stack,\n      ...getOwnProperties(value),\n    };\n  } else if (isEvent(value)) {\n    const newObj\n\n = {\n      type: value.type,\n      target: serializeEventTarget(value.target),\n      currentTarget: serializeEventTarget(value.currentTarget),\n      ...getOwnProperties(value),\n    };\n\n    if (typeof CustomEvent !== 'undefined' && isInstanceOf(value, CustomEvent)) {\n      newObj.detail = value.detail;\n    }\n\n    return newObj;\n  } else {\n    return value;\n  }\n}\n\n/** Creates a string representation of the target of an `Event` object */\nfunction serializeEventTarget(target) {\n  try {\n    return isElement(target) ? htmlTreeAsString(target) : Object.prototype.toString.call(target);\n  } catch (_oO) {\n    return '<unknown>';\n  }\n}\n\n/** Filters out all but an object's own properties */\nfunction getOwnProperties(obj) {\n  if (typeof obj === 'object' && obj !== null) {\n    const extractedProps = {};\n    for (const property in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, property)) {\n        extractedProps[property] = (obj )[property];\n      }\n    }\n    return extractedProps;\n  } else {\n    return {};\n  }\n}\n\n/**\n * Given any captured exception, extract its keys and create a sorted\n * and truncated list that will be used inside the event message.\n * eg. `Non-error exception captured with keys: foo, bar, baz`\n */\nfunction extractExceptionKeysForMessage(exception, maxLength = 40) {\n  const keys = Object.keys(convertToPlainObject(exception));\n  keys.sort();\n\n  const firstKey = keys[0];\n\n  if (!firstKey) {\n    return '[object has no keys]';\n  }\n\n  if (firstKey.length >= maxLength) {\n    return truncate(firstKey, maxLength);\n  }\n\n  for (let includedKeys = keys.length; includedKeys > 0; includedKeys--) {\n    const serialized = keys.slice(0, includedKeys).join(', ');\n    if (serialized.length > maxLength) {\n      continue;\n    }\n    if (includedKeys === keys.length) {\n      return serialized;\n    }\n    return truncate(serialized, maxLength);\n  }\n\n  return '';\n}\n\n/**\n * Given any object, return a new object having removed all fields whose value was `undefined`.\n * Works recursively on objects and arrays.\n *\n * Attention: This function keeps circular references in the returned object.\n */\nfunction dropUndefinedKeys(inputValue) {\n  // This map keeps track of what already visited nodes map to.\n  // Our Set - based memoBuilder doesn't work here because we want to the output object to have the same circular\n  // references as the input object.\n  const memoizationMap = new Map();\n\n  // This function just proxies `_dropUndefinedKeys` to keep the `memoBuilder` out of this function's API\n  return _dropUndefinedKeys(inputValue, memoizationMap);\n}\n\nfunction _dropUndefinedKeys(inputValue, memoizationMap) {\n  if (isPojo(inputValue)) {\n    // If this node has already been visited due to a circular reference, return the object it was mapped to in the new object\n    const memoVal = memoizationMap.get(inputValue);\n    if (memoVal !== undefined) {\n      return memoVal ;\n    }\n\n    const returnValue = {};\n    // Store the mapping of this value in case we visit it again, in case of circular data\n    memoizationMap.set(inputValue, returnValue);\n\n    for (const key of Object.getOwnPropertyNames(inputValue)) {\n      if (typeof inputValue[key] !== 'undefined') {\n        returnValue[key] = _dropUndefinedKeys(inputValue[key], memoizationMap);\n      }\n    }\n\n    return returnValue ;\n  }\n\n  if (Array.isArray(inputValue)) {\n    // If this node has already been visited due to a circular reference, return the array it was mapped to in the new object\n    const memoVal = memoizationMap.get(inputValue);\n    if (memoVal !== undefined) {\n      return memoVal ;\n    }\n\n    const returnValue = [];\n    // Store the mapping of this value in case we visit it again, in case of circular data\n    memoizationMap.set(inputValue, returnValue);\n\n    inputValue.forEach((item) => {\n      returnValue.push(_dropUndefinedKeys(item, memoizationMap));\n    });\n\n    return returnValue ;\n  }\n\n  return inputValue;\n}\n\nfunction isPojo(input) {\n  if (!isPlainObject(input)) {\n    return false;\n  }\n\n  try {\n    const name = (Object.getPrototypeOf(input) ).constructor.name;\n    return !name || name === 'Object';\n  } catch (e2) {\n    return true;\n  }\n}\n\n/**\n * Ensure that something is an object.\n *\n * Turns `undefined` and `null` into `String`s and all other primitives into instances of their respective wrapper\n * classes (String, Boolean, Number, etc.). Acts as the identity function on non-primitives.\n *\n * @param wat The subject of the objectification\n * @returns A version of `wat` which can safely be used with `Object` class methods\n */\nfunction objectify(wat) {\n  let objectified;\n  switch (true) {\n    // this will catch both undefined and null\n    case wat == undefined:\n      objectified = new String(wat);\n      break;\n\n    // Though symbols and bigints do have wrapper classes (`Symbol` and `BigInt`, respectively), for whatever reason\n    // those classes don't have constructors which can be used with the `new` keyword. We therefore need to cast each as\n    // an object in order to wrap it.\n    case typeof wat === 'symbol' || typeof wat === 'bigint':\n      objectified = Object(wat);\n      break;\n\n    // this will catch the remaining primitives: `String`, `Number`, and `Boolean`\n    case isPrimitive(wat):\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n      objectified = new (wat ).constructor(wat);\n      break;\n\n    // by process of elimination, at this point we know that `wat` must already be an object\n    default:\n      objectified = wat;\n      break;\n  }\n  return objectified;\n}\n\nexport { addNonEnumerableProperty, convertToPlainObject, dropUndefinedKeys, extractExceptionKeysForMessage, fill, getOriginalFunction, markFunctionWrapped, objectify, urlEncode };\n//# sourceMappingURL=object.js.map\n","import { GLOBAL_OBJ } from './worldwide.js';\n\nconst ONE_SECOND_IN_MS = 1000;\n\n/**\n * A partial definition of the [Performance Web API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Performance}\n * for accessing a high-resolution monotonic clock.\n */\n\n/**\n * Returns a timestamp in seconds since the UNIX epoch using the Date API.\n *\n * TODO(v8): Return type should be rounded.\n */\nfunction dateTimestampInSeconds() {\n  return Date.now() / ONE_SECOND_IN_MS;\n}\n\n/**\n * Returns a wrapper around the native Performance API browser implementation, or undefined for browsers that do not\n * support the API.\n *\n * Wrapping the native API works around differences in behavior from different browsers.\n */\nfunction createUnixTimestampInSecondsFunc() {\n  const { performance } = GLOBAL_OBJ ;\n  if (!performance || !performance.now) {\n    return dateTimestampInSeconds;\n  }\n\n  // Some browser and environments don't have a timeOrigin, so we fallback to\n  // using Date.now() to compute the starting time.\n  const approxStartingTimeOrigin = Date.now() - performance.now();\n  const timeOrigin = performance.timeOrigin == undefined ? approxStartingTimeOrigin : performance.timeOrigin;\n\n  // performance.now() is a monotonic clock, which means it starts at 0 when the process begins. To get the current\n  // wall clock time (actual UNIX timestamp), we need to add the starting time origin and the current time elapsed.\n  //\n  // TODO: This does not account for the case where the monotonic clock that powers performance.now() drifts from the\n  // wall clock time, which causes the returned timestamp to be inaccurate. We should investigate how to detect and\n  // correct for this.\n  // See: https://github.com/getsentry/sentry-javascript/issues/2590\n  // See: https://github.com/mdn/content/issues/4713\n  // See: https://dev.to/noamr/when-a-millisecond-is-not-a-millisecond-3h6\n  return () => {\n    return (timeOrigin + performance.now()) / ONE_SECOND_IN_MS;\n  };\n}\n\n/**\n * Returns a timestamp in seconds since the UNIX epoch using either the Performance or Date APIs, depending on the\n * availability of the Performance API.\n *\n * BUG: Note that because of how browsers implement the Performance API, the clock might stop when the computer is\n * asleep. This creates a skew between `dateTimestampInSeconds` and `timestampInSeconds`. The\n * skew can grow to arbitrary amounts like days, weeks or months.\n * See https://github.com/getsentry/sentry-javascript/issues/2590.\n */\nconst timestampInSeconds = createUnixTimestampInSecondsFunc();\n\n/**\n * Internal helper to store what is the source of browserPerformanceTimeOrigin below. For debugging only.\n *\n * @deprecated This variable will be removed in the next major version.\n */\nlet _browserPerformanceTimeOriginMode;\n\n/**\n * The number of milliseconds since the UNIX epoch. This value is only usable in a browser, and only when the\n * performance API is available.\n */\nconst browserPerformanceTimeOrigin = (() => {\n  // Unfortunately browsers may report an inaccurate time origin data, through either performance.timeOrigin or\n  // performance.timing.navigationStart, which results in poor results in performance data. We only treat time origin\n  // data as reliable if they are within a reasonable threshold of the current time.\n\n  const { performance } = GLOBAL_OBJ ;\n  if (!performance || !performance.now) {\n    // eslint-disable-next-line deprecation/deprecation\n    _browserPerformanceTimeOriginMode = 'none';\n    return undefined;\n  }\n\n  const threshold = 3600 * 1000;\n  const performanceNow = performance.now();\n  const dateNow = Date.now();\n\n  // if timeOrigin isn't available set delta to threshold so it isn't used\n  const timeOriginDelta = performance.timeOrigin\n    ? Math.abs(performance.timeOrigin + performanceNow - dateNow)\n    : threshold;\n  const timeOriginIsReliable = timeOriginDelta < threshold;\n\n  // While performance.timing.navigationStart is deprecated in favor of performance.timeOrigin, performance.timeOrigin\n  // is not as widely supported. Namely, performance.timeOrigin is undefined in Safari as of writing.\n  // Also as of writing, performance.timing is not available in Web Workers in mainstream browsers, so it is not always\n  // a valid fallback. In the absence of an initial time provided by the browser, fallback to the current time from the\n  // Date API.\n  // eslint-disable-next-line deprecation/deprecation\n  const navigationStart = performance.timing && performance.timing.navigationStart;\n  const hasNavigationStart = typeof navigationStart === 'number';\n  // if navigationStart isn't available set delta to threshold so it isn't used\n  const navigationStartDelta = hasNavigationStart ? Math.abs(navigationStart + performanceNow - dateNow) : threshold;\n  const navigationStartIsReliable = navigationStartDelta < threshold;\n\n  if (timeOriginIsReliable || navigationStartIsReliable) {\n    // Use the more reliable time origin\n    if (timeOriginDelta <= navigationStartDelta) {\n      // eslint-disable-next-line deprecation/deprecation\n      _browserPerformanceTimeOriginMode = 'timeOrigin';\n      return performance.timeOrigin;\n    } else {\n      // eslint-disable-next-line deprecation/deprecation\n      _browserPerformanceTimeOriginMode = 'navigationStart';\n      return navigationStart;\n    }\n  }\n\n  // Either both timeOrigin and navigationStart are skewed or neither is available, fallback to Date.\n  // eslint-disable-next-line deprecation/deprecation\n  _browserPerformanceTimeOriginMode = 'dateNow';\n  return dateNow;\n})();\n\nexport { _browserPerformanceTimeOriginMode, browserPerformanceTimeOrigin, dateTimestampInSeconds, timestampInSeconds };\n//# sourceMappingURL=time.js.map\n","import { addNonEnumerableProperty } from './object.js';\nimport { snipLine } from './string.js';\nimport { GLOBAL_OBJ } from './worldwide.js';\n\n/**\n * UUID4 generator\n *\n * @returns string Generated UUID4.\n */\nfunction uuid4() {\n  const gbl = GLOBAL_OBJ ;\n  const crypto = gbl.crypto || gbl.msCrypto;\n\n  let getRandomByte = () => Math.random() * 16;\n  try {\n    if (crypto && crypto.randomUUID) {\n      return crypto.randomUUID().replace(/-/g, '');\n    }\n    if (crypto && crypto.getRandomValues) {\n      getRandomByte = () => {\n        // crypto.getRandomValues might return undefined instead of the typed array\n        // in old Chromium versions (e.g. 23.0.1235.0 (151422))\n        // However, `typedArray` is still filled in-place.\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/Crypto/getRandomValues#typedarray\n        const typedArray = new Uint8Array(1);\n        crypto.getRandomValues(typedArray);\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        return typedArray[0];\n      };\n    }\n  } catch (_) {\n    // some runtimes can crash invoking crypto\n    // https://github.com/getsentry/sentry-javascript/issues/8935\n  }\n\n  // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\n  // Concatenating the following numbers as strings results in '10000000100040008000100000000000'\n  return (([1e7] ) + 1e3 + 4e3 + 8e3 + 1e11).replace(/[018]/g, c =>\n    // eslint-disable-next-line no-bitwise\n    ((c ) ^ ((getRandomByte() & 15) >> ((c ) / 4))).toString(16),\n  );\n}\n\nfunction getFirstException(event) {\n  return event.exception && event.exception.values ? event.exception.values[0] : undefined;\n}\n\n/**\n * Extracts either message or type+value from an event that can be used for user-facing logs\n * @returns event's description\n */\nfunction getEventDescription(event) {\n  const { message, event_id: eventId } = event;\n  if (message) {\n    return message;\n  }\n\n  const firstException = getFirstException(event);\n  if (firstException) {\n    if (firstException.type && firstException.value) {\n      return `${firstException.type}: ${firstException.value}`;\n    }\n    return firstException.type || firstException.value || eventId || '<unknown>';\n  }\n  return eventId || '<unknown>';\n}\n\n/**\n * Adds exception values, type and value to an synthetic Exception.\n * @param event The event to modify.\n * @param value Value of the exception.\n * @param type Type of the exception.\n * @hidden\n */\nfunction addExceptionTypeValue(event, value, type) {\n  const exception = (event.exception = event.exception || {});\n  const values = (exception.values = exception.values || []);\n  const firstException = (values[0] = values[0] || {});\n  if (!firstException.value) {\n    firstException.value = value || '';\n  }\n  if (!firstException.type) {\n    firstException.type = type || 'Error';\n  }\n}\n\n/**\n * Adds exception mechanism data to a given event. Uses defaults if the second parameter is not passed.\n *\n * @param event The event to modify.\n * @param newMechanism Mechanism data to add to the event.\n * @hidden\n */\nfunction addExceptionMechanism(event, newMechanism) {\n  const firstException = getFirstException(event);\n  if (!firstException) {\n    return;\n  }\n\n  const defaultMechanism = { type: 'generic', handled: true };\n  const currentMechanism = firstException.mechanism;\n  firstException.mechanism = { ...defaultMechanism, ...currentMechanism, ...newMechanism };\n\n  if (newMechanism && 'data' in newMechanism) {\n    const mergedData = { ...(currentMechanism && currentMechanism.data), ...newMechanism.data };\n    firstException.mechanism.data = mergedData;\n  }\n}\n\n// https://semver.org/#is-there-a-suggested-regular-expression-regex-to-check-a-semver-string\nconst SEMVER_REGEXP =\n  /^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$/;\n\n/**\n * Represents Semantic Versioning object\n */\n\nfunction _parseInt(input) {\n  return parseInt(input || '', 10);\n}\n\n/**\n * Parses input into a SemVer interface\n * @param input string representation of a semver version\n */\nfunction parseSemver(input) {\n  const match = input.match(SEMVER_REGEXP) || [];\n  const major = _parseInt(match[1]);\n  const minor = _parseInt(match[2]);\n  const patch = _parseInt(match[3]);\n  return {\n    buildmetadata: match[5],\n    major: isNaN(major) ? undefined : major,\n    minor: isNaN(minor) ? undefined : minor,\n    patch: isNaN(patch) ? undefined : patch,\n    prerelease: match[4],\n  };\n}\n\n/**\n * This function adds context (pre/post/line) lines to the provided frame\n *\n * @param lines string[] containing all lines\n * @param frame StackFrame that will be mutated\n * @param linesOfContext number of context lines we want to add pre/post\n */\nfunction addContextToFrame(lines, frame, linesOfContext = 5) {\n  // When there is no line number in the frame, attaching context is nonsensical and will even break grouping\n  if (frame.lineno === undefined) {\n    return;\n  }\n\n  const maxLines = lines.length;\n  const sourceLine = Math.max(Math.min(maxLines - 1, frame.lineno - 1), 0);\n\n  frame.pre_context = lines\n    .slice(Math.max(0, sourceLine - linesOfContext), sourceLine)\n    .map((line) => snipLine(line, 0));\n\n  // We guard here to ensure this is not larger than the existing number of lines\n  const lineIndex = Math.min(maxLines - 1, sourceLine);\n\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  frame.context_line = snipLine(lines[lineIndex], frame.colno || 0);\n\n  frame.post_context = lines\n    .slice(Math.min(sourceLine + 1, maxLines), sourceLine + 1 + linesOfContext)\n    .map((line) => snipLine(line, 0));\n}\n\n/**\n * Checks whether or not we've already captured the given exception (note: not an identical exception - the very object\n * in question), and marks it captured if not.\n *\n * This is useful because it's possible for an error to get captured by more than one mechanism. After we intercept and\n * record an error, we rethrow it (assuming we've intercepted it before it's reached the top-level global handlers), so\n * that we don't interfere with whatever effects the error might have had were the SDK not there. At that point, because\n * the error has been rethrown, it's possible for it to bubble up to some other code we've instrumented. If it's not\n * caught after that, it will bubble all the way up to the global handlers (which of course we also instrument). This\n * function helps us ensure that even if we encounter the same error more than once, we only record it the first time we\n * see it.\n *\n * Note: It will ignore primitives (always return `false` and not mark them as seen), as properties can't be set on\n * them. {@link: Object.objectify} can be used on exceptions to convert any that are primitives into their equivalent\n * object wrapper forms so that this check will always work. However, because we need to flag the exact object which\n * will get rethrown, and because that rethrowing happens outside of the event processing pipeline, the objectification\n * must be done before the exception captured.\n *\n * @param A thrown exception to check or flag as having been seen\n * @returns `true` if the exception has already been captured, `false` if not (with the side effect of marking it seen)\n */\nfunction checkOrSetAlreadyCaught(exception) {\n  if (isAlreadyCaptured(exception)) {\n    return true;\n  }\n\n  try {\n    // set it this way rather than by assignment so that it's not ennumerable and therefore isn't recorded by the\n    // `ExtraErrorData` integration\n    addNonEnumerableProperty(exception , '__sentry_captured__', true);\n  } catch (err) {\n    // `exception` is a primitive, so we can't mark it seen\n  }\n\n  return false;\n}\n\nfunction isAlreadyCaptured(exception) {\n  try {\n    return (exception ).__sentry_captured__;\n  } catch (e) {} // eslint-disable-line no-empty\n}\n\n/**\n * Checks whether the given input is already an array, and if it isn't, wraps it in one.\n *\n * @param maybeArray Input to turn into an array, if necessary\n * @returns The input, if already an array, or an array with the input as the only element, if not\n *\n * @deprecated This function has been deprecated and will not be replaced.\n */\nfunction arrayify(maybeArray) {\n  return Array.isArray(maybeArray) ? maybeArray : [maybeArray];\n}\n\nexport { addContextToFrame, addExceptionMechanism, addExceptionTypeValue, arrayify, checkOrSetAlreadyCaught, getEventDescription, parseSemver, uuid4 };\n//# sourceMappingURL=misc.js.map\n","import './utils-hoist/debug-build.js';\nimport './utils-hoist/logger.js';\nimport { dropUndefinedKeys } from './utils-hoist/object.js';\nimport { timestampInSeconds } from './utils-hoist/time.js';\nimport { uuid4 } from './utils-hoist/misc.js';\nimport './utils-hoist/syncpromise.js';\n\n/**\n * Creates a new `Session` object by setting certain default parameters. If optional @param context\n * is passed, the passed properties are applied to the session object.\n *\n * @param context (optional) additional properties to be applied to the returned session object\n *\n * @returns a new `Session` object\n */\nfunction makeSession(context) {\n  // Both timestamp and started are in seconds since the UNIX epoch.\n  const startingTime = timestampInSeconds();\n\n  const session = {\n    sid: uuid4(),\n    init: true,\n    timestamp: startingTime,\n    started: startingTime,\n    duration: 0,\n    status: 'ok',\n    errors: 0,\n    ignoreDuration: false,\n    toJSON: () => sessionToJSON(session),\n  };\n\n  if (context) {\n    updateSession(session, context);\n  }\n\n  return session;\n}\n\n/**\n * Updates a session object with the properties passed in the context.\n *\n * Note that this function mutates the passed object and returns void.\n * (Had to do this instead of returning a new and updated session because closing and sending a session\n * makes an update to the session after it was passed to the sending logic.\n * @see BaseClient.captureSession )\n *\n * @param session the `Session` to update\n * @param context the `SessionContext` holding the properties that should be updated in @param session\n */\n// eslint-disable-next-line complexity\nfunction updateSession(session, context = {}) {\n  if (context.user) {\n    if (!session.ipAddress && context.user.ip_address) {\n      session.ipAddress = context.user.ip_address;\n    }\n\n    if (!session.did && !context.did) {\n      session.did = context.user.id || context.user.email || context.user.username;\n    }\n  }\n\n  session.timestamp = context.timestamp || timestampInSeconds();\n\n  if (context.abnormal_mechanism) {\n    session.abnormal_mechanism = context.abnormal_mechanism;\n  }\n\n  if (context.ignoreDuration) {\n    session.ignoreDuration = context.ignoreDuration;\n  }\n  if (context.sid) {\n    // Good enough uuid validation.  Kamil\n    session.sid = context.sid.length === 32 ? context.sid : uuid4();\n  }\n  if (context.init !== undefined) {\n    session.init = context.init;\n  }\n  if (!session.did && context.did) {\n    session.did = `${context.did}`;\n  }\n  if (typeof context.started === 'number') {\n    session.started = context.started;\n  }\n  if (session.ignoreDuration) {\n    session.duration = undefined;\n  } else if (typeof context.duration === 'number') {\n    session.duration = context.duration;\n  } else {\n    const duration = session.timestamp - session.started;\n    session.duration = duration >= 0 ? duration : 0;\n  }\n  if (context.release) {\n    session.release = context.release;\n  }\n  if (context.environment) {\n    session.environment = context.environment;\n  }\n  if (!session.ipAddress && context.ipAddress) {\n    session.ipAddress = context.ipAddress;\n  }\n  if (!session.userAgent && context.userAgent) {\n    session.userAgent = context.userAgent;\n  }\n  if (typeof context.errors === 'number') {\n    session.errors = context.errors;\n  }\n  if (context.status) {\n    session.status = context.status;\n  }\n}\n\n/**\n * Closes a session by setting its status and updating the session object with it.\n * Internally calls `updateSession` to update the passed session object.\n *\n * Note that this function mutates the passed session (@see updateSession for explanation).\n *\n * @param session the `Session` object to be closed\n * @param status the `SessionStatus` with which the session was closed. If you don't pass a status,\n *               this function will keep the previously set status, unless it was `'ok'` in which case\n *               it is changed to `'exited'`.\n */\nfunction closeSession(session, status) {\n  let context = {};\n  if (status) {\n    context = { status };\n  } else if (session.status === 'ok') {\n    context = { status: 'exited' };\n  }\n\n  updateSession(session, context);\n}\n\n/**\n * Serializes a passed session object to a JSON object with a slightly different structure.\n * This is necessary because the Sentry backend requires a slightly different schema of a session\n * than the one the JS SDKs use internally.\n *\n * @param session the session to be converted\n *\n * @returns a JSON object of the passed session\n */\nfunction sessionToJSON(session) {\n  return dropUndefinedKeys({\n    sid: `${session.sid}`,\n    init: session.init,\n    // Make sure that sec is converted to ms for date constructor\n    started: new Date(session.started * 1000).toISOString(),\n    timestamp: new Date(session.timestamp * 1000).toISOString(),\n    status: session.status,\n    errors: session.errors,\n    did: typeof session.did === 'number' || typeof session.did === 'string' ? `${session.did}` : undefined,\n    duration: session.duration,\n    abnormal_mechanism: session.abnormal_mechanism,\n    attrs: {\n      release: session.release,\n      environment: session.environment,\n      ip_address: session.ipAddress,\n      user_agent: session.userAgent,\n    },\n  });\n}\n\nexport { closeSession, makeSession, updateSession };\n//# sourceMappingURL=session.js.map\n","import { uuid4 } from './misc.js';\n\n/**\n * Returns a new minimal propagation context.\n *\n * @deprecated Use `generateTraceId` and `generateSpanId` instead.\n */\nfunction generatePropagationContext() {\n  return {\n    traceId: generateTraceId(),\n    spanId: generateSpanId(),\n  };\n}\n\n/**\n * Generate a random, valid trace ID.\n */\nfunction generateTraceId() {\n  return uuid4();\n}\n\n/**\n * Generate a random, valid span ID.\n */\nfunction generateSpanId() {\n  return uuid4().substring(16);\n}\n\nexport { generatePropagationContext, generateSpanId, generateTraceId };\n//# sourceMappingURL=propagationContext.js.map\n","/**\n * Shallow merge two objects.\n * Does not mutate the passed in objects.\n * Undefined/empty values in the merge object will overwrite existing values.\n *\n * By default, this merges 2 levels deep.\n */\nfunction merge(initialObj, mergeObj, levels = 2) {\n  // If the merge value is not an object, or we have no merge levels left,\n  // we just set the value to the merge value\n  if (!mergeObj || typeof mergeObj !== 'object' || levels <= 0) {\n    return mergeObj;\n  }\n\n  // If the merge object is an empty object, and the initial object is not undefined, we return the initial object\n  if (initialObj && mergeObj && Object.keys(mergeObj).length === 0) {\n    return initialObj;\n  }\n\n  // Clone object\n  const output = { ...initialObj };\n\n  // Merge values into output, resursively\n  for (const key in mergeObj) {\n    if (Object.prototype.hasOwnProperty.call(mergeObj, key)) {\n      output[key] = merge(output[key], mergeObj[key], levels - 1);\n    }\n  }\n\n  return output;\n}\n\nexport { merge };\n//# sourceMappingURL=merge.js.map\n","import { addNonEnumerableProperty } from '../utils-hoist/object.js';\n\nconst SCOPE_SPAN_FIELD = '_sentrySpan';\n\n/**\n * Set the active span for a given scope.\n * NOTE: This should NOT be used directly, but is only used internally by the trace methods.\n */\nfunction _setSpanForScope(scope, span) {\n  if (span) {\n    addNonEnumerableProperty(scope , SCOPE_SPAN_FIELD, span);\n  } else {\n    // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n    delete (scope )[SCOPE_SPAN_FIELD];\n  }\n}\n\n/**\n * Get the active span for a given scope.\n * NOTE: This should NOT be used directly, but is only used internally by the trace methods.\n */\nfunction _getSpanForScope(scope) {\n  return scope[SCOPE_SPAN_FIELD];\n}\n\nexport { _getSpanForScope, _setSpanForScope };\n//# sourceMappingURL=spanOnScope.js.map\n","import { updateSession } from './session.js';\nimport { isPlainObject } from './utils-hoist/is.js';\nimport { logger } from './utils-hoist/logger.js';\nimport { uuid4 } from './utils-hoist/misc.js';\nimport { generateTraceId, generateSpanId } from './utils-hoist/propagationContext.js';\nimport { dateTimestampInSeconds } from './utils-hoist/time.js';\nimport { merge } from './utils/merge.js';\nimport { _setSpanForScope, _getSpanForScope } from './utils/spanOnScope.js';\n\n/**\n * Default value for maximum number of breadcrumbs added to an event.\n */\nconst DEFAULT_MAX_BREADCRUMBS = 100;\n\n/**\n * Holds additional event information.\n */\nclass ScopeClass  {\n  /** Flag if notifying is happening. */\n\n  /** Callback for client to receive scope changes. */\n\n  /** Callback list that will be called during event processing. */\n\n  /** Array of breadcrumbs. */\n\n  /** User */\n\n  /** Tags */\n\n  /** Extra */\n\n  /** Contexts */\n\n  /** Attachments */\n\n  /** Propagation Context for distributed tracing */\n\n  /**\n   * A place to stash data which is needed at some point in the SDK's event processing pipeline but which shouldn't get\n   * sent to Sentry\n   */\n\n  /** Fingerprint */\n\n  /** Severity */\n\n  /**\n   * Transaction Name\n   *\n   * IMPORTANT: The transaction name on the scope has nothing to do with root spans/transaction objects.\n   * It's purpose is to assign a transaction to the scope that's added to non-transaction events.\n   */\n\n  /** Session */\n\n  /** Request Mode Session Status */\n  // eslint-disable-next-line deprecation/deprecation\n\n  /** The client on this scope */\n\n  /** Contains the last event id of a captured event.  */\n\n  // NOTE: Any field which gets added here should get added not only to the constructor but also to the `clone` method.\n\n   constructor() {\n    this._notifyingListeners = false;\n    this._scopeListeners = [];\n    this._eventProcessors = [];\n    this._breadcrumbs = [];\n    this._attachments = [];\n    this._user = {};\n    this._tags = {};\n    this._extra = {};\n    this._contexts = {};\n    this._sdkProcessingMetadata = {};\n    this._propagationContext = {\n      traceId: generateTraceId(),\n      spanId: generateSpanId(),\n    };\n  }\n\n  /**\n   * @inheritDoc\n   */\n   clone() {\n    const newScope = new ScopeClass();\n    newScope._breadcrumbs = [...this._breadcrumbs];\n    newScope._tags = { ...this._tags };\n    newScope._extra = { ...this._extra };\n    newScope._contexts = { ...this._contexts };\n    if (this._contexts.flags) {\n      // We need to copy the `values` array so insertions on a cloned scope\n      // won't affect the original array.\n      newScope._contexts.flags = {\n        values: [...this._contexts.flags.values],\n      };\n    }\n\n    newScope._user = this._user;\n    newScope._level = this._level;\n    newScope._session = this._session;\n    newScope._transactionName = this._transactionName;\n    newScope._fingerprint = this._fingerprint;\n    newScope._eventProcessors = [...this._eventProcessors];\n    newScope._requestSession = this._requestSession;\n    newScope._attachments = [...this._attachments];\n    newScope._sdkProcessingMetadata = { ...this._sdkProcessingMetadata };\n    newScope._propagationContext = { ...this._propagationContext };\n    newScope._client = this._client;\n    newScope._lastEventId = this._lastEventId;\n\n    _setSpanForScope(newScope, _getSpanForScope(this));\n\n    return newScope;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setClient(client) {\n    this._client = client;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setLastEventId(lastEventId) {\n    this._lastEventId = lastEventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getClient() {\n    return this._client ;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   lastEventId() {\n    return this._lastEventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   addScopeListener(callback) {\n    this._scopeListeners.push(callback);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   addEventProcessor(callback) {\n    this._eventProcessors.push(callback);\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setUser(user) {\n    // If null is passed we want to unset everything, but still define keys,\n    // so that later down in the pipeline any existing values are cleared.\n    this._user = user || {\n      email: undefined,\n      id: undefined,\n      ip_address: undefined,\n      username: undefined,\n    };\n\n    if (this._session) {\n      updateSession(this._session, { user });\n    }\n\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getUser() {\n    return this._user;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line deprecation/deprecation\n   getRequestSession() {\n    return this._requestSession;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line deprecation/deprecation\n   setRequestSession(requestSession) {\n    this._requestSession = requestSession;\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setTags(tags) {\n    this._tags = {\n      ...this._tags,\n      ...tags,\n    };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setTag(key, value) {\n    this._tags = { ...this._tags, [key]: value };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setExtras(extras) {\n    this._extra = {\n      ...this._extra,\n      ...extras,\n    };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setExtra(key, extra) {\n    this._extra = { ...this._extra, [key]: extra };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setFingerprint(fingerprint) {\n    this._fingerprint = fingerprint;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setLevel(level) {\n    this._level = level;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * Sets the transaction name on the scope so that the name of e.g. taken server route or\n   * the page location is attached to future events.\n   *\n   * IMPORTANT: Calling this function does NOT change the name of the currently active\n   * root span. If you want to change the name of the active root span, use\n   * `Sentry.updateSpanName(rootSpan, 'new name')` instead.\n   *\n   * By default, the SDK updates the scope's transaction name automatically on sensible\n   * occasions, such as a page navigation or when handling a new request on the server.\n   */\n   setTransactionName(name) {\n    this._transactionName = name;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setContext(key, context) {\n    if (context === null) {\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n      delete this._contexts[key];\n    } else {\n      this._contexts[key] = context;\n    }\n\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setSession(session) {\n    if (!session) {\n      delete this._session;\n    } else {\n      this._session = session;\n    }\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getSession() {\n    return this._session;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   update(captureContext) {\n    if (!captureContext) {\n      return this;\n    }\n\n    const scopeToMerge = typeof captureContext === 'function' ? captureContext(this) : captureContext;\n\n    const [scopeInstance, requestSession] =\n      scopeToMerge instanceof Scope\n        ? // eslint-disable-next-line deprecation/deprecation\n          [scopeToMerge.getScopeData(), scopeToMerge.getRequestSession()]\n        : isPlainObject(scopeToMerge)\n          ? [captureContext , (captureContext ).requestSession]\n          : [];\n\n    const { tags, extra, user, contexts, level, fingerprint = [], propagationContext } = scopeInstance || {};\n\n    this._tags = { ...this._tags, ...tags };\n    this._extra = { ...this._extra, ...extra };\n    this._contexts = { ...this._contexts, ...contexts };\n\n    if (user && Object.keys(user).length) {\n      this._user = user;\n    }\n\n    if (level) {\n      this._level = level;\n    }\n\n    if (fingerprint.length) {\n      this._fingerprint = fingerprint;\n    }\n\n    if (propagationContext) {\n      this._propagationContext = propagationContext;\n    }\n\n    if (requestSession) {\n      this._requestSession = requestSession;\n    }\n\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   clear() {\n    // client is not cleared here on purpose!\n    this._breadcrumbs = [];\n    this._tags = {};\n    this._extra = {};\n    this._user = {};\n    this._contexts = {};\n    this._level = undefined;\n    this._transactionName = undefined;\n    this._fingerprint = undefined;\n    this._requestSession = undefined;\n    this._session = undefined;\n    _setSpanForScope(this, undefined);\n    this._attachments = [];\n    this.setPropagationContext({ traceId: generateTraceId() });\n\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   addBreadcrumb(breadcrumb, maxBreadcrumbs) {\n    const maxCrumbs = typeof maxBreadcrumbs === 'number' ? maxBreadcrumbs : DEFAULT_MAX_BREADCRUMBS;\n\n    // No data has been changed, so don't notify scope listeners\n    if (maxCrumbs <= 0) {\n      return this;\n    }\n\n    const mergedBreadcrumb = {\n      timestamp: dateTimestampInSeconds(),\n      ...breadcrumb,\n    };\n\n    this._breadcrumbs.push(mergedBreadcrumb);\n    if (this._breadcrumbs.length > maxCrumbs) {\n      this._breadcrumbs = this._breadcrumbs.slice(-maxCrumbs);\n      if (this._client) {\n        this._client.recordDroppedEvent('buffer_overflow', 'log_item');\n      }\n    }\n\n    this._notifyScopeListeners();\n\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getLastBreadcrumb() {\n    return this._breadcrumbs[this._breadcrumbs.length - 1];\n  }\n\n  /**\n   * @inheritDoc\n   */\n   clearBreadcrumbs() {\n    this._breadcrumbs = [];\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   addAttachment(attachment) {\n    this._attachments.push(attachment);\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   clearAttachments() {\n    this._attachments = [];\n    return this;\n  }\n\n  /** @inheritDoc */\n   getScopeData() {\n    return {\n      breadcrumbs: this._breadcrumbs,\n      attachments: this._attachments,\n      contexts: this._contexts,\n      tags: this._tags,\n      extra: this._extra,\n      user: this._user,\n      level: this._level,\n      fingerprint: this._fingerprint || [],\n      eventProcessors: this._eventProcessors,\n      propagationContext: this._propagationContext,\n      sdkProcessingMetadata: this._sdkProcessingMetadata,\n      transactionName: this._transactionName,\n      span: _getSpanForScope(this),\n    };\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setSDKProcessingMetadata(newData) {\n    this._sdkProcessingMetadata = merge(this._sdkProcessingMetadata, newData, 2);\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setPropagationContext(\n    context,\n  ) {\n    this._propagationContext = {\n      // eslint-disable-next-line deprecation/deprecation\n      spanId: generateSpanId(),\n      ...context,\n    };\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getPropagationContext() {\n    return this._propagationContext;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   captureException(exception, hint) {\n    const eventId = hint && hint.event_id ? hint.event_id : uuid4();\n\n    if (!this._client) {\n      logger.warn('No client configured on scope - will not capture exception!');\n      return eventId;\n    }\n\n    const syntheticException = new Error('Sentry syntheticException');\n\n    this._client.captureException(\n      exception,\n      {\n        originalException: exception,\n        syntheticException,\n        ...hint,\n        event_id: eventId,\n      },\n      this,\n    );\n\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   captureMessage(message, level, hint) {\n    const eventId = hint && hint.event_id ? hint.event_id : uuid4();\n\n    if (!this._client) {\n      logger.warn('No client configured on scope - will not capture message!');\n      return eventId;\n    }\n\n    const syntheticException = new Error(message);\n\n    this._client.captureMessage(\n      message,\n      level,\n      {\n        originalException: message,\n        syntheticException,\n        ...hint,\n        event_id: eventId,\n      },\n      this,\n    );\n\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   captureEvent(event, hint) {\n    const eventId = hint && hint.event_id ? hint.event_id : uuid4();\n\n    if (!this._client) {\n      logger.warn('No client configured on scope - will not capture event!');\n      return eventId;\n    }\n\n    this._client.captureEvent(event, { ...hint, event_id: eventId }, this);\n\n    return eventId;\n  }\n\n  /**\n   * This will be called on every set call.\n   */\n   _notifyScopeListeners() {\n    // We need this check for this._notifyingListeners to be able to work on scope during updates\n    // If this check is not here we'll produce endless recursion when something is done with the scope\n    // during the callback.\n    if (!this._notifyingListeners) {\n      this._notifyingListeners = true;\n      this._scopeListeners.forEach(callback => {\n        callback(this);\n      });\n      this._notifyingListeners = false;\n    }\n  }\n}\n\n/**\n * Holds additional event information.\n */\nconst Scope = ScopeClass;\n\n/**\n * Holds additional event information.\n */\n\nexport { Scope };\n//# sourceMappingURL=scope.js.map\n","import { Scope } from './scope.js';\nimport { getGlobalSingleton } from './utils-hoist/worldwide.js';\n\n/** Get the default current scope. */\nfunction getDefaultCurrentScope() {\n  return getGlobalSingleton('defaultCurrentScope', () => new Scope());\n}\n\n/** Get the default isolation scope. */\nfunction getDefaultIsolationScope() {\n  return getGlobalSingleton('defaultIsolationScope', () => new Scope());\n}\n\nexport { getDefaultCurrentScope, getDefaultIsolationScope };\n//# sourceMappingURL=defaultScopes.js.map\n","import { getDefaultCurrentScope, getDefaultIsolationScope } from '../defaultScopes.js';\nimport { Scope } from '../scope.js';\nimport { isThenable } from '../utils-hoist/is.js';\nimport { getMainCarrier, getSentryCarrier } from '../carrier.js';\n\n/**\n * This is an object that holds a stack of scopes.\n */\nclass AsyncContextStack {\n\n   constructor(scope, isolationScope) {\n    let assignedScope;\n    if (!scope) {\n      assignedScope = new Scope();\n    } else {\n      assignedScope = scope;\n    }\n\n    let assignedIsolationScope;\n    if (!isolationScope) {\n      assignedIsolationScope = new Scope();\n    } else {\n      assignedIsolationScope = isolationScope;\n    }\n\n    // scope stack for domains or the process\n    this._stack = [{ scope: assignedScope }];\n    this._isolationScope = assignedIsolationScope;\n  }\n\n  /**\n   * Fork a scope for the stack.\n   */\n   withScope(callback) {\n    const scope = this._pushScope();\n\n    let maybePromiseResult;\n    try {\n      maybePromiseResult = callback(scope);\n    } catch (e) {\n      this._popScope();\n      throw e;\n    }\n\n    if (isThenable(maybePromiseResult)) {\n      // @ts-expect-error - isThenable returns the wrong type\n      return maybePromiseResult.then(\n        res => {\n          this._popScope();\n          return res;\n        },\n        e => {\n          this._popScope();\n          throw e;\n        },\n      );\n    }\n\n    this._popScope();\n    return maybePromiseResult;\n  }\n\n  /**\n   * Get the client of the stack.\n   */\n   getClient() {\n    return this.getStackTop().client ;\n  }\n\n  /**\n   * Returns the scope of the top stack.\n   */\n   getScope() {\n    return this.getStackTop().scope;\n  }\n\n  /**\n   * Get the isolation scope for the stack.\n   */\n   getIsolationScope() {\n    return this._isolationScope;\n  }\n\n  /**\n   * Returns the topmost scope layer in the order domain > local > process.\n   */\n   getStackTop() {\n    return this._stack[this._stack.length - 1] ;\n  }\n\n  /**\n   * Push a scope to the stack.\n   */\n   _pushScope() {\n    // We want to clone the content of prev scope\n    const scope = this.getScope().clone();\n    this._stack.push({\n      client: this.getClient(),\n      scope,\n    });\n    return scope;\n  }\n\n  /**\n   * Pop a scope from the stack.\n   */\n   _popScope() {\n    if (this._stack.length <= 1) return false;\n    return !!this._stack.pop();\n  }\n}\n\n/**\n * Get the global async context stack.\n * This will be removed during the v8 cycle and is only here to make migration easier.\n */\nfunction getAsyncContextStack() {\n  const registry = getMainCarrier();\n  const sentry = getSentryCarrier(registry);\n\n  return (sentry.stack = sentry.stack || new AsyncContextStack(getDefaultCurrentScope(), getDefaultIsolationScope()));\n}\n\nfunction withScope(callback) {\n  return getAsyncContextStack().withScope(callback);\n}\n\nfunction withSetScope(scope, callback) {\n  const stack = getAsyncContextStack() ;\n  return stack.withScope(() => {\n    stack.getStackTop().scope = scope;\n    return callback(scope);\n  });\n}\n\nfunction withIsolationScope(callback) {\n  return getAsyncContextStack().withScope(() => {\n    return callback(getAsyncContextStack().getIsolationScope());\n  });\n}\n\n/**\n * Get the stack-based async context strategy.\n */\nfunction getStackAsyncContextStrategy() {\n  return {\n    withIsolationScope,\n    withScope,\n    withSetScope,\n    withSetIsolationScope: (_isolationScope, callback) => {\n      return withIsolationScope(callback);\n    },\n    getCurrentScope: () => getAsyncContextStack().getScope(),\n    getIsolationScope: () => getAsyncContextStack().getIsolationScope(),\n  };\n}\n\nexport { AsyncContextStack, getStackAsyncContextStrategy };\n//# sourceMappingURL=stackStrategy.js.map\n","import { getMainCarrier, getSentryCarrier } from '../carrier.js';\nimport { getStackAsyncContextStrategy } from './stackStrategy.js';\n\n/**\n * @private Private API with no semver guarantees!\n *\n * Sets the global async context strategy\n */\nfunction setAsyncContextStrategy(strategy) {\n  // Get main carrier (global for every environment)\n  const registry = getMainCarrier();\n  const sentry = getSentryCarrier(registry);\n  sentry.acs = strategy;\n}\n\n/**\n * Get the current async context strategy.\n * If none has been setup, the default will be used.\n */\nfunction getAsyncContextStrategy(carrier) {\n  const sentry = getSentryCarrier(carrier);\n\n  if (sentry.acs) {\n    return sentry.acs;\n  }\n\n  // Otherwise, use the default one (stack)\n  return getStackAsyncContextStrategy();\n}\n\nexport { getAsyncContextStrategy, setAsyncContextStrategy };\n//# sourceMappingURL=index.js.map\n","import { getAsyncContextStrategy } from './asyncContext/index.js';\nimport { getMainCarrier } from './carrier.js';\nimport { Scope } from './scope.js';\nimport { dropUndefinedKeys } from './utils-hoist/object.js';\nimport { getGlobalSingleton } from './utils-hoist/worldwide.js';\n\n/**\n * Get the currently active scope.\n */\nfunction getCurrentScope() {\n  const carrier = getMainCarrier();\n  const acs = getAsyncContextStrategy(carrier);\n  return acs.getCurrentScope();\n}\n\n/**\n * Get the currently active isolation scope.\n * The isolation scope is active for the current execution context.\n */\nfunction getIsolationScope() {\n  const carrier = getMainCarrier();\n  const acs = getAsyncContextStrategy(carrier);\n  return acs.getIsolationScope();\n}\n\n/**\n * Get the global scope.\n * This scope is applied to _all_ events.\n */\nfunction getGlobalScope() {\n  return getGlobalSingleton('globalScope', () => new Scope());\n}\n\n/**\n * Creates a new scope with and executes the given operation within.\n * The scope is automatically removed once the operation\n * finishes or throws.\n */\n\n/**\n * Either creates a new active scope, or sets the given scope as active scope in the given callback.\n */\nfunction withScope(\n  ...rest\n) {\n  const carrier = getMainCarrier();\n  const acs = getAsyncContextStrategy(carrier);\n\n  // If a scope is defined, we want to make this the active scope instead of the default one\n  if (rest.length === 2) {\n    const [scope, callback] = rest;\n\n    if (!scope) {\n      return acs.withScope(callback);\n    }\n\n    return acs.withSetScope(scope, callback);\n  }\n\n  return acs.withScope(rest[0]);\n}\n\n/**\n * Attempts to fork the current isolation scope and the current scope based on the current async context strategy. If no\n * async context strategy is set, the isolation scope and the current scope will not be forked (this is currently the\n * case, for example, in the browser).\n *\n * Usage of this function in environments without async context strategy is discouraged and may lead to unexpected behaviour.\n *\n * This function is intended for Sentry SDK and SDK integration development. It is not recommended to be used in \"normal\"\n * applications directly because it comes with pitfalls. Use at your own risk!\n */\n\n/**\n * Either creates a new active isolation scope, or sets the given isolation scope as active scope in the given callback.\n */\nfunction withIsolationScope(\n  ...rest\n\n) {\n  const carrier = getMainCarrier();\n  const acs = getAsyncContextStrategy(carrier);\n\n  // If a scope is defined, we want to make this the active scope instead of the default one\n  if (rest.length === 2) {\n    const [isolationScope, callback] = rest;\n\n    if (!isolationScope) {\n      return acs.withIsolationScope(callback);\n    }\n\n    return acs.withSetIsolationScope(isolationScope, callback);\n  }\n\n  return acs.withIsolationScope(rest[0]);\n}\n\n/**\n * Get the currently active client.\n */\nfunction getClient() {\n  return getCurrentScope().getClient();\n}\n\n/**\n * Get a trace context for the given scope.\n */\nfunction getTraceContextFromScope(scope) {\n  const propagationContext = scope.getPropagationContext();\n\n  // TODO(v9): Use generateSpanId() instead of spanId\n  // eslint-disable-next-line deprecation/deprecation\n  const { traceId, spanId, parentSpanId } = propagationContext;\n\n  const traceContext = dropUndefinedKeys({\n    trace_id: traceId,\n    span_id: spanId,\n    parent_span_id: parentSpanId,\n  });\n\n  return traceContext;\n}\n\nexport { getClient, getCurrentScope, getGlobalScope, getIsolationScope, getTraceContextFromScope, withIsolationScope, withScope };\n//# sourceMappingURL=currentScopes.js.map\n","import { DEFAULT_ENVIRONMENT } from './constants.js';\nimport { getCurrentScope, getIsolationScope, getClient, withIsolationScope } from './currentScopes.js';\nimport { DEBUG_BUILD } from './debug-build.js';\nimport { makeSession, updateSession, closeSession } from './session.js';\nimport { isThenable } from './utils-hoist/is.js';\nimport { logger } from './utils-hoist/logger.js';\nimport { uuid4 } from './utils-hoist/misc.js';\nimport { timestampInSeconds } from './utils-hoist/time.js';\nimport { GLOBAL_OBJ } from './utils-hoist/worldwide.js';\nimport { parseEventHintOrCaptureContext } from './utils/prepareEvent.js';\n\n/**\n * Captures an exception event and sends it to Sentry.\n *\n * @param exception The exception to capture.\n * @param hint Optional additional data to attach to the Sentry event.\n * @returns the id of the captured Sentry event.\n */\nfunction captureException(exception, hint) {\n  return getCurrentScope().captureException(exception, parseEventHintOrCaptureContext(hint));\n}\n\n/**\n * Captures a message event and sends it to Sentry.\n *\n * @param message The message to send to Sentry.\n * @param captureContext Define the level of the message or pass in additional data to attach to the message.\n * @returns the id of the captured message.\n */\nfunction captureMessage(message, captureContext) {\n  // This is necessary to provide explicit scopes upgrade, without changing the original\n  // arity of the `captureMessage(message, level)` method.\n  const level = typeof captureContext === 'string' ? captureContext : undefined;\n  const context = typeof captureContext !== 'string' ? { captureContext } : undefined;\n  return getCurrentScope().captureMessage(message, level, context);\n}\n\n/**\n * Captures a manually created event and sends it to Sentry.\n *\n * @param event The event to send to Sentry.\n * @param hint Optional additional data to attach to the Sentry event.\n * @returns the id of the captured event.\n */\nfunction captureEvent(event, hint) {\n  return getCurrentScope().captureEvent(event, hint);\n}\n\n/**\n * Sets context data with the given name.\n * @param name of the context\n * @param context Any kind of data. This data will be normalized.\n */\nfunction setContext(name, context) {\n  getIsolationScope().setContext(name, context);\n}\n\n/**\n * Set an object that will be merged sent as extra data with the event.\n * @param extras Extras object to merge into current context.\n */\nfunction setExtras(extras) {\n  getIsolationScope().setExtras(extras);\n}\n\n/**\n * Set key:value that will be sent as extra data with the event.\n * @param key String of extra\n * @param extra Any kind of data. This data will be normalized.\n */\nfunction setExtra(key, extra) {\n  getIsolationScope().setExtra(key, extra);\n}\n\n/**\n * Set an object that will be merged sent as tags data with the event.\n * @param tags Tags context object to merge into current context.\n */\nfunction setTags(tags) {\n  getIsolationScope().setTags(tags);\n}\n\n/**\n * Set key:value that will be sent as tags data with the event.\n *\n * Can also be used to unset a tag, by passing `undefined`.\n *\n * @param key String key of tag\n * @param value Value of tag\n */\nfunction setTag(key, value) {\n  getIsolationScope().setTag(key, value);\n}\n\n/**\n * Updates user context information for future events.\n *\n * @param user User context object to be set in the current context. Pass `null` to unset the user.\n */\nfunction setUser(user) {\n  getIsolationScope().setUser(user);\n}\n\n/**\n * The last error event id of the isolation scope.\n *\n * Warning: This function really returns the last recorded error event id on the current\n * isolation scope. If you call this function after handling a certain error and another error\n * is captured in between, the last one is returned instead of the one you might expect.\n * Also, ids of events that were never sent to Sentry (for example because\n * they were dropped in `beforeSend`) could be returned.\n *\n * @returns The last event id of the isolation scope.\n */\nfunction lastEventId() {\n  return getIsolationScope().lastEventId();\n}\n\n/**\n * Create a cron monitor check in and send it to Sentry.\n *\n * @param checkIn An object that describes a check in.\n * @param upsertMonitorConfig An optional object that describes a monitor config. Use this if you want\n * to create a monitor automatically when sending a check in.\n */\nfunction captureCheckIn(checkIn, upsertMonitorConfig) {\n  const scope = getCurrentScope();\n  const client = getClient();\n  if (!client) {\n    DEBUG_BUILD && logger.warn('Cannot capture check-in. No client defined.');\n  } else if (!client.captureCheckIn) {\n    DEBUG_BUILD && logger.warn('Cannot capture check-in. Client does not support sending check-ins.');\n  } else {\n    return client.captureCheckIn(checkIn, upsertMonitorConfig, scope);\n  }\n\n  return uuid4();\n}\n\n/**\n * Wraps a callback with a cron monitor check in. The check in will be sent to Sentry when the callback finishes.\n *\n * @param monitorSlug The distinct slug of the monitor.\n * @param upsertMonitorConfig An optional object that describes a monitor config. Use this if you want\n * to create a monitor automatically when sending a check in.\n */\nfunction withMonitor(\n  monitorSlug,\n  callback,\n  upsertMonitorConfig,\n) {\n  const checkInId = captureCheckIn({ monitorSlug, status: 'in_progress' }, upsertMonitorConfig);\n  const now = timestampInSeconds();\n\n  function finishCheckIn(status) {\n    captureCheckIn({ monitorSlug, status, checkInId, duration: timestampInSeconds() - now });\n  }\n\n  return withIsolationScope(() => {\n    let maybePromiseResult;\n    try {\n      maybePromiseResult = callback();\n    } catch (e) {\n      finishCheckIn('error');\n      throw e;\n    }\n\n    if (isThenable(maybePromiseResult)) {\n      Promise.resolve(maybePromiseResult).then(\n        () => {\n          finishCheckIn('ok');\n        },\n        e => {\n          finishCheckIn('error');\n          throw e;\n        },\n      );\n    } else {\n      finishCheckIn('ok');\n    }\n\n    return maybePromiseResult;\n  });\n}\n\n/**\n * Call `flush()` on the current client, if there is one. See {@link Client.flush}.\n *\n * @param timeout Maximum time in ms the client should wait to flush its event queue. Omitting this parameter will cause\n * the client to wait until all events are sent before resolving the promise.\n * @returns A promise which resolves to `true` if the queue successfully drains before the timeout, or `false` if it\n * doesn't (or if there's no client defined).\n */\nasync function flush(timeout) {\n  const client = getClient();\n  if (client) {\n    return client.flush(timeout);\n  }\n  DEBUG_BUILD && logger.warn('Cannot flush events. No client defined.');\n  return Promise.resolve(false);\n}\n\n/**\n * Call `close()` on the current client, if there is one. See {@link Client.close}.\n *\n * @param timeout Maximum time in ms the client should wait to flush its event queue before shutting down. Omitting this\n * parameter will cause the client to wait until all events are sent before disabling itself.\n * @returns A promise which resolves to `true` if the queue successfully drains before the timeout, or `false` if it\n * doesn't (or if there's no client defined).\n */\nasync function close(timeout) {\n  const client = getClient();\n  if (client) {\n    return client.close(timeout);\n  }\n  DEBUG_BUILD && logger.warn('Cannot flush events and disable SDK. No client defined.');\n  return Promise.resolve(false);\n}\n\n/**\n * Returns true if Sentry has been properly initialized.\n */\nfunction isInitialized() {\n  return !!getClient();\n}\n\n/** If the SDK is initialized & enabled. */\nfunction isEnabled() {\n  const client = getClient();\n  return !!client && client.getOptions().enabled !== false && !!client.getTransport();\n}\n\n/**\n * Add an event processor.\n * This will be added to the current isolation scope, ensuring any event that is processed in the current execution\n * context will have the processor applied.\n */\nfunction addEventProcessor(callback) {\n  getIsolationScope().addEventProcessor(callback);\n}\n\n/**\n * Start a session on the current isolation scope.\n *\n * @param context (optional) additional properties to be applied to the returned session object\n *\n * @returns the new active session\n */\nfunction startSession(context) {\n  const client = getClient();\n  const isolationScope = getIsolationScope();\n  const currentScope = getCurrentScope();\n\n  const { release, environment = DEFAULT_ENVIRONMENT } = (client && client.getOptions()) || {};\n\n  // Will fetch userAgent if called from browser sdk\n  const { userAgent } = GLOBAL_OBJ.navigator || {};\n\n  const session = makeSession({\n    release,\n    environment,\n    user: currentScope.getUser() || isolationScope.getUser(),\n    ...(userAgent && { userAgent }),\n    ...context,\n  });\n\n  // End existing session if there's one\n  const currentSession = isolationScope.getSession();\n  if (currentSession && currentSession.status === 'ok') {\n    updateSession(currentSession, { status: 'exited' });\n  }\n\n  endSession();\n\n  // Afterwards we set the new session on the scope\n  isolationScope.setSession(session);\n\n  // TODO (v8): Remove this and only use the isolation scope(?).\n  // For v7 though, we can't \"soft-break\" people using getCurrentHub().getScope().setSession()\n  currentScope.setSession(session);\n\n  return session;\n}\n\n/**\n * End the session on the current isolation scope.\n */\nfunction endSession() {\n  const isolationScope = getIsolationScope();\n  const currentScope = getCurrentScope();\n\n  const session = currentScope.getSession() || isolationScope.getSession();\n  if (session) {\n    closeSession(session);\n  }\n  _sendSessionUpdate();\n\n  // the session is over; take it off of the scope\n  isolationScope.setSession();\n\n  // TODO (v8): Remove this and only use the isolation scope(?).\n  // For v7 though, we can't \"soft-break\" people using getCurrentHub().getScope().setSession()\n  currentScope.setSession();\n}\n\n/**\n * Sends the current Session on the scope\n */\nfunction _sendSessionUpdate() {\n  const isolationScope = getIsolationScope();\n  const currentScope = getCurrentScope();\n  const client = getClient();\n  // TODO (v8): Remove currentScope and only use the isolation scope(?).\n  // For v7 though, we can't \"soft-break\" people using getCurrentHub().getScope().setSession()\n  const session = currentScope.getSession() || isolationScope.getSession();\n  if (session && client) {\n    client.captureSession(session);\n  }\n}\n\n/**\n * Sends the current session on the scope to Sentry\n *\n * @param end If set the session will be marked as exited and removed from the scope.\n *            Defaults to `false`.\n */\nfunction captureSession(end = false) {\n  // both send the update and pull the session from the scope\n  if (end) {\n    endSession();\n    return;\n  }\n\n  // only send the update\n  _sendSessionUpdate();\n}\n\nexport { addEventProcessor, captureCheckIn, captureEvent, captureException, captureMessage, captureSession, close, endSession, flush, isEnabled, isInitialized, lastEventId, setContext, setExtra, setExtras, setTag, setTags, setUser, startSession, withMonitor };\n//# sourceMappingURL=exports.js.map\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\"),\n  shim = require(\"use-sync-external-store/shim\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useSyncExternalStore = shim.useSyncExternalStore,\n  useRef = React.useRef,\n  useEffect = React.useEffect,\n  useMemo = React.useMemo,\n  useDebugValue = React.useDebugValue;\nexports.useSyncExternalStoreWithSelector = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot,\n  selector,\n  isEqual\n) {\n  var instRef = useRef(null);\n  if (null === instRef.current) {\n    var inst = { hasValue: !1, value: null };\n    instRef.current = inst;\n  } else inst = instRef.current;\n  instRef = useMemo(\n    function () {\n      function memoizedSelector(nextSnapshot) {\n        if (!hasMemo) {\n          hasMemo = !0;\n          memoizedSnapshot = nextSnapshot;\n          nextSnapshot = selector(nextSnapshot);\n          if (void 0 !== isEqual && inst.hasValue) {\n            var currentSelection = inst.value;\n            if (isEqual(currentSelection, nextSnapshot))\n              return (memoizedSelection = currentSelection);\n          }\n          return (memoizedSelection = nextSnapshot);\n        }\n        currentSelection = memoizedSelection;\n        if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;\n        var nextSelection = selector(nextSnapshot);\n        if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n          return (memoizedSnapshot = nextSnapshot), currentSelection;\n        memoizedSnapshot = nextSnapshot;\n        return (memoizedSelection = nextSelection);\n      }\n      var hasMemo = !1,\n        memoizedSnapshot,\n        memoizedSelection,\n        maybeGetServerSnapshot =\n          void 0 === getServerSnapshot ? null : getServerSnapshot;\n      return [\n        function () {\n          return memoizedSelector(getSnapshot());\n        },\n        null === maybeGetServerSnapshot\n          ? void 0\n          : function () {\n              return memoizedSelector(maybeGetServerSnapshot());\n            }\n      ];\n    },\n    [getSnapshot, getServerSnapshot, selector, isEqual]\n  );\n  var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n  useEffect(\n    function () {\n      inst.hasValue = !0;\n      inst.value = value;\n    },\n    [value]\n  );\n  useDebugValue(value);\n  return value;\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","import { createStore } from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nimport ReactExports from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useDebugValue } = ReactExports;\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nlet didWarnAboutEqualityFn = false;\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity, equalityFn) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && equalityFn && !didWarnAboutEqualityFn) {\n    console.warn(\n      \"[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937\"\n    );\n    didWarnAboutEqualityFn = true;\n  }\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getInitialState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\nexport { create, react as default, useStore };\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...a) => api.dispatch(...a), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (_e) {\n  }\n  if (!extensionConnector) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && enabled) {\n      console.warn(\n        \"[zustand devtools middleware] Please install/enable Redux devtools extension\"\n      );\n    }\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = (state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? { type: anonymousActionType || \"anonymous\" } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...a) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && a[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...a);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, f) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) f(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = (selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  };\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nconst combine = (initialState, create) => (...a) => Object.assign({}, initialState, create(...a));\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (_e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(\n      name,\n      JSON.stringify(newValue, options == null ? void 0 : options.replacer)\n    ),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst oldImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    getStorage: () => localStorage,\n    serialize: JSON.stringify,\n    deserialize: JSON.parse,\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage;\n  try {\n    storage = options.getStorage();\n  } catch (_e) {\n  }\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const thenableSerialize = toThenable(options.serialize);\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    let errorInSync;\n    const thenable = thenableSerialize({ state, version: options.version }).then(\n      (serializedValue) => storage.setItem(options.name, serializedValue)\n    ).catch((e) => {\n      errorInSync = e;\n    });\n    if (errorInSync) {\n      throw errorInSync;\n    }\n    return thenable;\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => cb(get()));\n    const postRehydrationCallback = ((_a = options.onRehydrateStorage) == null ? void 0 : _a.call(options, get())) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((storageValue) => {\n      if (storageValue) {\n        return options.deserialize(storageValue);\n      }\n    }).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return deserializedStorageValue.state;\n        }\n      }\n    }).then((migratedState) => {\n      var _a2;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      return setItem();\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.getStorage) {\n        storage = newOptions.getStorage();\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  hydrate();\n  return stateFromStorage || configResult;\n};\nconst newImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return [\n              true,\n              options.migrate(\n                deserializedStorageValue.state,\n                deserializedStorageValue.version\n              )\n            ];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persistImpl = (config, baseOptions) => {\n  if (\"getStorage\" in baseOptions || \"serialize\" in baseOptions || \"deserialize\" in baseOptions) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead.\"\n      );\n    }\n    return oldImpl(config, baseOptions);\n  }\n  return newImpl(config, baseOptions);\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","import { create } from 'zustand';\r\nimport { persist } from 'zustand/middleware';\r\nimport type { User, Session } from '@supabase/supabase-js';\r\n\r\ninterface AuthState {\r\n  user: User | null;\r\n  session: Session | null;\r\n  isLoading: boolean;\r\n  isAuthenticated: boolean;\r\n  \r\n  // Actions\r\n  setUser: (user: User | null) => void;\r\n  setSession: (session: Session | null) => void;\r\n  setLoading: (loading: boolean) => void;\r\n  logout: () => void;\r\n}\r\n\r\nexport const useAuthStore = create<AuthState>()(\r\n  persist(\r\n    (set) => ({\r\n      user: null,\r\n      session: null,\r\n      isLoading: true,\r\n      isAuthenticated: false,\r\n\r\n      setUser: (user) => set({ \r\n        user, \r\n        isAuthenticated: !!user,\r\n        isLoading: false \r\n      }),\r\n      \r\n      setSession: (session) => set({ \r\n        session,\r\n        user: session?.user ?? null,\r\n        isAuthenticated: !!session,\r\n        isLoading: false\r\n      }),\r\n      \r\n      setLoading: (isLoading) => set({ isLoading }),\r\n      \r\n      logout: () => set({ \r\n        user: null, \r\n        session: null, \r\n        isAuthenticated: false,\r\n        isLoading: false\r\n      }),\r\n    }),\r\n    {\r\n      name: 'auth-storage',\r\n      partialize: (state) => ({ \r\n        // Only persist these fields\r\n        isAuthenticated: state.isAuthenticated \r\n      }),\r\n    }\r\n  )\r\n);\r\n\r\n","import { create } from 'zustand';\r\nimport { persist } from 'zustand/middleware';\r\n\r\nexport type TenantRole = 'owner' | 'admin' | 'player';\r\n\r\nexport interface Tenant {\r\n  id: string;\r\n  name: string;\r\n  slug: string;\r\n  plan: 'free' | 'starter' | 'pro' | 'enterprise';\r\n  status: 'active' | 'suspended' | 'cancelled';\r\n  logoUrl?: string;\r\n}\r\n\r\nexport interface TenantMembership {\r\n  tenantId: string;\r\n  tenantUserId: string;\r\n  role: TenantRole;\r\n  status: 'active' | 'invited' | 'suspended';\r\n}\r\n\r\ninterface TenantState {\r\n  currentTenant: Tenant | null;\r\n  currentMembership: TenantMembership | null;\r\n  availableTenants: Tenant[];\r\n  isLoading: boolean;\r\n  \r\n  // Computed\r\n  isAdmin: boolean;\r\n  isOwner: boolean;\r\n  canManage: boolean;\r\n  \r\n  // Actions\r\n  setCurrentTenant: (tenant: Tenant | null, membership?: TenantMembership | null) => void;\r\n  setAvailableTenants: (tenants: Tenant[]) => void;\r\n  setLoading: (loading: boolean) => void;\r\n  switchTenant: (tenantId: string) => void;\r\n  clear: () => void;\r\n}\r\n\r\nexport const useTenantStore = create<TenantState>()(\r\n  persist(\r\n    (set, get) => ({\r\n      currentTenant: null,\r\n      currentMembership: null,\r\n      availableTenants: [],\r\n      isLoading: true,\r\n      \r\n      // Computed getters\r\n      get isAdmin() {\r\n        const role = get().currentMembership?.role;\r\n        return role === 'admin' || role === 'owner';\r\n      },\r\n      \r\n      get isOwner() {\r\n        return get().currentMembership?.role === 'owner';\r\n      },\r\n      \r\n      get canManage() {\r\n        const role = get().currentMembership?.role;\r\n        return role === 'admin' || role === 'owner';\r\n      },\r\n\r\n      setCurrentTenant: (tenant, membership = null) => set({ \r\n        currentTenant: tenant,\r\n        currentMembership: membership,\r\n        isLoading: false\r\n      }),\r\n      \r\n      setAvailableTenants: (tenants) => set({ availableTenants: tenants }),\r\n      \r\n      setLoading: (isLoading) => set({ isLoading }),\r\n      \r\n      switchTenant: (tenantId) => {\r\n        const tenants = get().availableTenants;\r\n        const tenant = tenants.find(t => t.id === tenantId);\r\n        if (tenant) {\r\n          set({ currentTenant: tenant });\r\n        }\r\n      },\r\n      \r\n      clear: () => set({\r\n        currentTenant: null,\r\n        currentMembership: null,\r\n        availableTenants: [],\r\n        isLoading: false\r\n      }),\r\n    }),\r\n    {\r\n      name: 'tenant-storage',\r\n      partialize: (state) => ({\r\n        // Persist current tenant selection\r\n        currentTenant: state.currentTenant ? { id: state.currentTenant.id } : null,\r\n      }),\r\n    }\r\n  )\r\n);\r\n\r\n// Selector hooks for common patterns\r\nexport const useCurrentTenantId = () => useTenantStore(state => state.currentTenant?.id);\r\nexport const useIsAdmin = () => useTenantStore(state => {\r\n  const role = state.currentMembership?.role;\r\n  return role === 'admin' || role === 'owner';\r\n});\r\nexport const useCanManage = () => useIsAdmin();\r\n\r\n","import { create } from 'zustand';\r\n\r\nexport interface Toast {\r\n  id: string;\r\n  type: 'success' | 'error' | 'warning' | 'info';\r\n  title: string;\r\n  message?: string;\r\n  duration?: number;\r\n}\r\n\r\ninterface UIState {\r\n  // Sidebar\r\n  sidebarOpen: boolean;\r\n  toggleSidebar: () => void;\r\n  setSidebarOpen: (open: boolean) => void;\r\n  \r\n  // Mobile menu\r\n  mobileMenuOpen: boolean;\r\n  toggleMobileMenu: () => void;\r\n  setMobileMenuOpen: (open: boolean) => void;\r\n  \r\n  // Toasts\r\n  toasts: Toast[];\r\n  addToast: (toast: Omit<Toast, 'id'>) => void;\r\n  removeToast: (id: string) => void;\r\n  clearToasts: () => void;\r\n  \r\n  // Modal\r\n  activeModal: string | null;\r\n  modalData: Record<string, unknown> | null;\r\n  openModal: (id: string, data?: Record<string, unknown>) => void;\r\n  closeModal: () => void;\r\n  \r\n  // Loading states\r\n  globalLoading: boolean;\r\n  setGlobalLoading: (loading: boolean) => void;\r\n}\r\n\r\nexport const useUIStore = create<UIState>((set, get) => ({\r\n  // Sidebar\r\n  sidebarOpen: true,\r\n  toggleSidebar: () => set(state => ({ sidebarOpen: !state.sidebarOpen })),\r\n  setSidebarOpen: (open) => set({ sidebarOpen: open }),\r\n  \r\n  // Mobile menu\r\n  mobileMenuOpen: false,\r\n  toggleMobileMenu: () => set(state => ({ mobileMenuOpen: !state.mobileMenuOpen })),\r\n  setMobileMenuOpen: (open) => set({ mobileMenuOpen: open }),\r\n  \r\n  // Toasts\r\n  toasts: [],\r\n  addToast: (toast) => {\r\n    const id = crypto.randomUUID();\r\n    const newToast: Toast = { ...toast, id };\r\n    \r\n    set(state => ({ toasts: [...state.toasts, newToast] }));\r\n    \r\n    // Auto-remove after duration\r\n    const duration = toast.duration ?? 5000;\r\n    if (duration > 0) {\r\n      setTimeout(() => {\r\n        get().removeToast(id);\r\n      }, duration);\r\n    }\r\n  },\r\n  removeToast: (id) => set(state => ({\r\n    toasts: state.toasts.filter(t => t.id !== id)\r\n  })),\r\n  clearToasts: () => set({ toasts: [] }),\r\n  \r\n  // Modal\r\n  activeModal: null,\r\n  modalData: null,\r\n  openModal: (id, data = undefined) => set({ \r\n    activeModal: id, \r\n    modalData: data ?? null \r\n  }),\r\n  closeModal: () => set({ activeModal: null, modalData: null }),\r\n  \r\n  // Loading\r\n  globalLoading: false,\r\n  setGlobalLoading: (loading) => set({ globalLoading: loading }),\r\n}));\r\n\r\n// Convenience hooks\r\nexport const useToast = () => {\r\n  const addToast = useUIStore(state => state.addToast);\r\n  \r\n  return {\r\n    success: (title: string, message?: string) => \r\n      addToast({ type: 'success', title, message }),\r\n    error: (title: string, message?: string) => \r\n      addToast({ type: 'error', title, message }),\r\n    warning: (title: string, message?: string) => \r\n      addToast({ type: 'warning', title, message }),\r\n    info: (title: string, message?: string) => \r\n      addToast({ type: 'info', title, message }),\r\n  };\r\n};\r\n\r\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","const CLASS_PART_SEPARATOR = '-';\nconst createClassGroupUtils = config => {\n  const classMap = createClassMap(config);\n  const {\n    conflictingClassGroups,\n    conflictingClassGroupModifiers\n  } = config;\n  const getClassGroupId = className => {\n    const classParts = className.split(CLASS_PART_SEPARATOR);\n    // Classes like `-inset-1` produce an empty string as first classPart. We assume that classes for negative values are used correctly and remove it from classParts.\n    if (classParts[0] === '' && classParts.length !== 1) {\n      classParts.shift();\n    }\n    return getGroupRecursive(classParts, classMap) || getGroupIdForArbitraryProperty(className);\n  };\n  const getConflictingClassGroupIds = (classGroupId, hasPostfixModifier) => {\n    const conflicts = conflictingClassGroups[classGroupId] || [];\n    if (hasPostfixModifier && conflictingClassGroupModifiers[classGroupId]) {\n      return [...conflicts, ...conflictingClassGroupModifiers[classGroupId]];\n    }\n    return conflicts;\n  };\n  return {\n    getClassGroupId,\n    getConflictingClassGroupIds\n  };\n};\nconst getGroupRecursive = (classParts, classPartObject) => {\n  if (classParts.length === 0) {\n    return classPartObject.classGroupId;\n  }\n  const currentClassPart = classParts[0];\n  const nextClassPartObject = classPartObject.nextPart.get(currentClassPart);\n  const classGroupFromNextClassPart = nextClassPartObject ? getGroupRecursive(classParts.slice(1), nextClassPartObject) : undefined;\n  if (classGroupFromNextClassPart) {\n    return classGroupFromNextClassPart;\n  }\n  if (classPartObject.validators.length === 0) {\n    return undefined;\n  }\n  const classRest = classParts.join(CLASS_PART_SEPARATOR);\n  return classPartObject.validators.find(({\n    validator\n  }) => validator(classRest))?.classGroupId;\n};\nconst arbitraryPropertyRegex = /^\\[(.+)\\]$/;\nconst getGroupIdForArbitraryProperty = className => {\n  if (arbitraryPropertyRegex.test(className)) {\n    const arbitraryPropertyClassName = arbitraryPropertyRegex.exec(className)[1];\n    const property = arbitraryPropertyClassName?.substring(0, arbitraryPropertyClassName.indexOf(':'));\n    if (property) {\n      // I use two dots here because one dot is used as prefix for class groups in plugins\n      return 'arbitrary..' + property;\n    }\n  }\n};\n/**\n * Exported for testing only\n */\nconst createClassMap = config => {\n  const {\n    theme,\n    prefix\n  } = config;\n  const classMap = {\n    nextPart: new Map(),\n    validators: []\n  };\n  const prefixedClassGroupEntries = getPrefixedClassGroupEntries(Object.entries(config.classGroups), prefix);\n  prefixedClassGroupEntries.forEach(([classGroupId, classGroup]) => {\n    processClassesRecursively(classGroup, classMap, classGroupId, theme);\n  });\n  return classMap;\n};\nconst processClassesRecursively = (classGroup, classPartObject, classGroupId, theme) => {\n  classGroup.forEach(classDefinition => {\n    if (typeof classDefinition === 'string') {\n      const classPartObjectToEdit = classDefinition === '' ? classPartObject : getPart(classPartObject, classDefinition);\n      classPartObjectToEdit.classGroupId = classGroupId;\n      return;\n    }\n    if (typeof classDefinition === 'function') {\n      if (isThemeGetter(classDefinition)) {\n        processClassesRecursively(classDefinition(theme), classPartObject, classGroupId, theme);\n        return;\n      }\n      classPartObject.validators.push({\n        validator: classDefinition,\n        classGroupId\n      });\n      return;\n    }\n    Object.entries(classDefinition).forEach(([key, classGroup]) => {\n      processClassesRecursively(classGroup, getPart(classPartObject, key), classGroupId, theme);\n    });\n  });\n};\nconst getPart = (classPartObject, path) => {\n  let currentClassPartObject = classPartObject;\n  path.split(CLASS_PART_SEPARATOR).forEach(pathPart => {\n    if (!currentClassPartObject.nextPart.has(pathPart)) {\n      currentClassPartObject.nextPart.set(pathPart, {\n        nextPart: new Map(),\n        validators: []\n      });\n    }\n    currentClassPartObject = currentClassPartObject.nextPart.get(pathPart);\n  });\n  return currentClassPartObject;\n};\nconst isThemeGetter = func => func.isThemeGetter;\nconst getPrefixedClassGroupEntries = (classGroupEntries, prefix) => {\n  if (!prefix) {\n    return classGroupEntries;\n  }\n  return classGroupEntries.map(([classGroupId, classGroup]) => {\n    const prefixedClassGroup = classGroup.map(classDefinition => {\n      if (typeof classDefinition === 'string') {\n        return prefix + classDefinition;\n      }\n      if (typeof classDefinition === 'object') {\n        return Object.fromEntries(Object.entries(classDefinition).map(([key, value]) => [prefix + key, value]));\n      }\n      return classDefinition;\n    });\n    return [classGroupId, prefixedClassGroup];\n  });\n};\n\n// LRU cache inspired from hashlru (https://github.com/dominictarr/hashlru/blob/v1.0.4/index.js) but object replaced with Map to improve performance\nconst createLruCache = maxCacheSize => {\n  if (maxCacheSize < 1) {\n    return {\n      get: () => undefined,\n      set: () => {}\n    };\n  }\n  let cacheSize = 0;\n  let cache = new Map();\n  let previousCache = new Map();\n  const update = (key, value) => {\n    cache.set(key, value);\n    cacheSize++;\n    if (cacheSize > maxCacheSize) {\n      cacheSize = 0;\n      previousCache = cache;\n      cache = new Map();\n    }\n  };\n  return {\n    get(key) {\n      let value = cache.get(key);\n      if (value !== undefined) {\n        return value;\n      }\n      if ((value = previousCache.get(key)) !== undefined) {\n        update(key, value);\n        return value;\n      }\n    },\n    set(key, value) {\n      if (cache.has(key)) {\n        cache.set(key, value);\n      } else {\n        update(key, value);\n      }\n    }\n  };\n};\nconst IMPORTANT_MODIFIER = '!';\nconst createParseClassName = config => {\n  const {\n    separator,\n    experimentalParseClassName\n  } = config;\n  const isSeparatorSingleCharacter = separator.length === 1;\n  const firstSeparatorCharacter = separator[0];\n  const separatorLength = separator.length;\n  // parseClassName inspired by https://github.com/tailwindlabs/tailwindcss/blob/v3.2.2/src/util/splitAtTopLevelOnly.js\n  const parseClassName = className => {\n    const modifiers = [];\n    let bracketDepth = 0;\n    let modifierStart = 0;\n    let postfixModifierPosition;\n    for (let index = 0; index < className.length; index++) {\n      let currentCharacter = className[index];\n      if (bracketDepth === 0) {\n        if (currentCharacter === firstSeparatorCharacter && (isSeparatorSingleCharacter || className.slice(index, index + separatorLength) === separator)) {\n          modifiers.push(className.slice(modifierStart, index));\n          modifierStart = index + separatorLength;\n          continue;\n        }\n        if (currentCharacter === '/') {\n          postfixModifierPosition = index;\n          continue;\n        }\n      }\n      if (currentCharacter === '[') {\n        bracketDepth++;\n      } else if (currentCharacter === ']') {\n        bracketDepth--;\n      }\n    }\n    const baseClassNameWithImportantModifier = modifiers.length === 0 ? className : className.substring(modifierStart);\n    const hasImportantModifier = baseClassNameWithImportantModifier.startsWith(IMPORTANT_MODIFIER);\n    const baseClassName = hasImportantModifier ? baseClassNameWithImportantModifier.substring(1) : baseClassNameWithImportantModifier;\n    const maybePostfixModifierPosition = postfixModifierPosition && postfixModifierPosition > modifierStart ? postfixModifierPosition - modifierStart : undefined;\n    return {\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    };\n  };\n  if (experimentalParseClassName) {\n    return className => experimentalParseClassName({\n      className,\n      parseClassName\n    });\n  }\n  return parseClassName;\n};\n/**\n * Sorts modifiers according to following schema:\n * - Predefined modifiers are sorted alphabetically\n * - When an arbitrary variant appears, it must be preserved which modifiers are before and after it\n */\nconst sortModifiers = modifiers => {\n  if (modifiers.length <= 1) {\n    return modifiers;\n  }\n  const sortedModifiers = [];\n  let unsortedModifiers = [];\n  modifiers.forEach(modifier => {\n    const isArbitraryVariant = modifier[0] === '[';\n    if (isArbitraryVariant) {\n      sortedModifiers.push(...unsortedModifiers.sort(), modifier);\n      unsortedModifiers = [];\n    } else {\n      unsortedModifiers.push(modifier);\n    }\n  });\n  sortedModifiers.push(...unsortedModifiers.sort());\n  return sortedModifiers;\n};\nconst createConfigUtils = config => ({\n  cache: createLruCache(config.cacheSize),\n  parseClassName: createParseClassName(config),\n  ...createClassGroupUtils(config)\n});\nconst SPLIT_CLASSES_REGEX = /\\s+/;\nconst mergeClassList = (classList, configUtils) => {\n  const {\n    parseClassName,\n    getClassGroupId,\n    getConflictingClassGroupIds\n  } = configUtils;\n  /**\n   * Set of classGroupIds in following format:\n   * `{importantModifier}{variantModifiers}{classGroupId}`\n   * @example 'float'\n   * @example 'hover:focus:bg-color'\n   * @example 'md:!pr'\n   */\n  const classGroupsInConflict = [];\n  const classNames = classList.trim().split(SPLIT_CLASSES_REGEX);\n  let result = '';\n  for (let index = classNames.length - 1; index >= 0; index -= 1) {\n    const originalClassName = classNames[index];\n    const {\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    } = parseClassName(originalClassName);\n    let hasPostfixModifier = Boolean(maybePostfixModifierPosition);\n    let classGroupId = getClassGroupId(hasPostfixModifier ? baseClassName.substring(0, maybePostfixModifierPosition) : baseClassName);\n    if (!classGroupId) {\n      if (!hasPostfixModifier) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      classGroupId = getClassGroupId(baseClassName);\n      if (!classGroupId) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      hasPostfixModifier = false;\n    }\n    const variantModifier = sortModifiers(modifiers).join(':');\n    const modifierId = hasImportantModifier ? variantModifier + IMPORTANT_MODIFIER : variantModifier;\n    const classId = modifierId + classGroupId;\n    if (classGroupsInConflict.includes(classId)) {\n      // Tailwind class omitted due to conflict\n      continue;\n    }\n    classGroupsInConflict.push(classId);\n    const conflictGroups = getConflictingClassGroupIds(classGroupId, hasPostfixModifier);\n    for (let i = 0; i < conflictGroups.length; ++i) {\n      const group = conflictGroups[i];\n      classGroupsInConflict.push(modifierId + group);\n    }\n    // Tailwind class not in conflict\n    result = originalClassName + (result.length > 0 ? ' ' + result : result);\n  }\n  return result;\n};\n\n/**\n * The code in this file is copied from https://github.com/lukeed/clsx and modified to suit the needs of tailwind-merge better.\n *\n * Specifically:\n * - Runtime code from https://github.com/lukeed/clsx/blob/v1.2.1/src/index.js\n * - TypeScript types from https://github.com/lukeed/clsx/blob/v1.2.1/clsx.d.ts\n *\n * Original code has MIT license: Copyright (c) Luke Edwards <luke.edwards05@gmail.com> (lukeed.com)\n */\nfunction twJoin() {\n  let index = 0;\n  let argument;\n  let resolvedValue;\n  let string = '';\n  while (index < arguments.length) {\n    if (argument = arguments[index++]) {\n      if (resolvedValue = toValue(argument)) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n}\nconst toValue = mix => {\n  if (typeof mix === 'string') {\n    return mix;\n  }\n  let resolvedValue;\n  let string = '';\n  for (let k = 0; k < mix.length; k++) {\n    if (mix[k]) {\n      if (resolvedValue = toValue(mix[k])) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n};\nfunction createTailwindMerge(createConfigFirst, ...createConfigRest) {\n  let configUtils;\n  let cacheGet;\n  let cacheSet;\n  let functionToCall = initTailwindMerge;\n  function initTailwindMerge(classList) {\n    const config = createConfigRest.reduce((previousConfig, createConfigCurrent) => createConfigCurrent(previousConfig), createConfigFirst());\n    configUtils = createConfigUtils(config);\n    cacheGet = configUtils.cache.get;\n    cacheSet = configUtils.cache.set;\n    functionToCall = tailwindMerge;\n    return tailwindMerge(classList);\n  }\n  function tailwindMerge(classList) {\n    const cachedResult = cacheGet(classList);\n    if (cachedResult) {\n      return cachedResult;\n    }\n    const result = mergeClassList(classList, configUtils);\n    cacheSet(classList, result);\n    return result;\n  }\n  return function callTailwindMerge() {\n    return functionToCall(twJoin.apply(null, arguments));\n  };\n}\nconst fromTheme = key => {\n  const themeGetter = theme => theme[key] || [];\n  themeGetter.isThemeGetter = true;\n  return themeGetter;\n};\nconst arbitraryValueRegex = /^\\[(?:([a-z-]+):)?(.+)\\]$/i;\nconst fractionRegex = /^\\d+\\/\\d+$/;\nconst stringLengths = /*#__PURE__*/new Set(['px', 'full', 'screen']);\nconst tshirtUnitRegex = /^(\\d+(\\.\\d+)?)?(xs|sm|md|lg|xl)$/;\nconst lengthUnitRegex = /\\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\\b(calc|min|max|clamp)\\(.+\\)|^0$/;\nconst colorFunctionRegex = /^(rgba?|hsla?|hwb|(ok)?(lab|lch))\\(.+\\)$/;\n// Shadow always begins with x and y offset separated by underscore optionally prepended by inset\nconst shadowRegex = /^(inset_)?-?((\\d+)?\\.?(\\d+)[a-z]+|0)_-?((\\d+)?\\.?(\\d+)[a-z]+|0)/;\nconst imageRegex = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\\(.+\\)$/;\nconst isLength = value => isNumber(value) || stringLengths.has(value) || fractionRegex.test(value);\nconst isArbitraryLength = value => getIsArbitraryValue(value, 'length', isLengthOnly);\nconst isNumber = value => Boolean(value) && !Number.isNaN(Number(value));\nconst isArbitraryNumber = value => getIsArbitraryValue(value, 'number', isNumber);\nconst isInteger = value => Boolean(value) && Number.isInteger(Number(value));\nconst isPercent = value => value.endsWith('%') && isNumber(value.slice(0, -1));\nconst isArbitraryValue = value => arbitraryValueRegex.test(value);\nconst isTshirtSize = value => tshirtUnitRegex.test(value);\nconst sizeLabels = /*#__PURE__*/new Set(['length', 'size', 'percentage']);\nconst isArbitrarySize = value => getIsArbitraryValue(value, sizeLabels, isNever);\nconst isArbitraryPosition = value => getIsArbitraryValue(value, 'position', isNever);\nconst imageLabels = /*#__PURE__*/new Set(['image', 'url']);\nconst isArbitraryImage = value => getIsArbitraryValue(value, imageLabels, isImage);\nconst isArbitraryShadow = value => getIsArbitraryValue(value, '', isShadow);\nconst isAny = () => true;\nconst getIsArbitraryValue = (value, label, testValue) => {\n  const result = arbitraryValueRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return typeof label === 'string' ? result[1] === label : label.has(result[1]);\n    }\n    return testValue(result[2]);\n  }\n  return false;\n};\nconst isLengthOnly = value =>\n// `colorFunctionRegex` check is necessary because color functions can have percentages in them which which would be incorrectly classified as lengths.\n// For example, `hsl(0 0% 0%)` would be classified as a length without this check.\n// I could also use lookbehind assertion in `lengthUnitRegex` but that isn't supported widely enough.\nlengthUnitRegex.test(value) && !colorFunctionRegex.test(value);\nconst isNever = () => false;\nconst isShadow = value => shadowRegex.test(value);\nconst isImage = value => imageRegex.test(value);\nconst validators = /*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  isAny,\n  isArbitraryImage,\n  isArbitraryLength,\n  isArbitraryNumber,\n  isArbitraryPosition,\n  isArbitraryShadow,\n  isArbitrarySize,\n  isArbitraryValue,\n  isInteger,\n  isLength,\n  isNumber,\n  isPercent,\n  isTshirtSize\n}, Symbol.toStringTag, {\n  value: 'Module'\n});\nconst getDefaultConfig = () => {\n  const colors = fromTheme('colors');\n  const spacing = fromTheme('spacing');\n  const blur = fromTheme('blur');\n  const brightness = fromTheme('brightness');\n  const borderColor = fromTheme('borderColor');\n  const borderRadius = fromTheme('borderRadius');\n  const borderSpacing = fromTheme('borderSpacing');\n  const borderWidth = fromTheme('borderWidth');\n  const contrast = fromTheme('contrast');\n  const grayscale = fromTheme('grayscale');\n  const hueRotate = fromTheme('hueRotate');\n  const invert = fromTheme('invert');\n  const gap = fromTheme('gap');\n  const gradientColorStops = fromTheme('gradientColorStops');\n  const gradientColorStopPositions = fromTheme('gradientColorStopPositions');\n  const inset = fromTheme('inset');\n  const margin = fromTheme('margin');\n  const opacity = fromTheme('opacity');\n  const padding = fromTheme('padding');\n  const saturate = fromTheme('saturate');\n  const scale = fromTheme('scale');\n  const sepia = fromTheme('sepia');\n  const skew = fromTheme('skew');\n  const space = fromTheme('space');\n  const translate = fromTheme('translate');\n  const getOverscroll = () => ['auto', 'contain', 'none'];\n  const getOverflow = () => ['auto', 'hidden', 'clip', 'visible', 'scroll'];\n  const getSpacingWithAutoAndArbitrary = () => ['auto', isArbitraryValue, spacing];\n  const getSpacingWithArbitrary = () => [isArbitraryValue, spacing];\n  const getLengthWithEmptyAndArbitrary = () => ['', isLength, isArbitraryLength];\n  const getNumberWithAutoAndArbitrary = () => ['auto', isNumber, isArbitraryValue];\n  const getPositions = () => ['bottom', 'center', 'left', 'left-bottom', 'left-top', 'right', 'right-bottom', 'right-top', 'top'];\n  const getLineStyles = () => ['solid', 'dashed', 'dotted', 'double', 'none'];\n  const getBlendModes = () => ['normal', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n  const getAlign = () => ['start', 'end', 'center', 'between', 'around', 'evenly', 'stretch'];\n  const getZeroAndEmpty = () => ['', '0', isArbitraryValue];\n  const getBreaks = () => ['auto', 'avoid', 'all', 'avoid-page', 'page', 'left', 'right', 'column'];\n  const getNumberAndArbitrary = () => [isNumber, isArbitraryValue];\n  return {\n    cacheSize: 500,\n    separator: ':',\n    theme: {\n      colors: [isAny],\n      spacing: [isLength, isArbitraryLength],\n      blur: ['none', '', isTshirtSize, isArbitraryValue],\n      brightness: getNumberAndArbitrary(),\n      borderColor: [colors],\n      borderRadius: ['none', '', 'full', isTshirtSize, isArbitraryValue],\n      borderSpacing: getSpacingWithArbitrary(),\n      borderWidth: getLengthWithEmptyAndArbitrary(),\n      contrast: getNumberAndArbitrary(),\n      grayscale: getZeroAndEmpty(),\n      hueRotate: getNumberAndArbitrary(),\n      invert: getZeroAndEmpty(),\n      gap: getSpacingWithArbitrary(),\n      gradientColorStops: [colors],\n      gradientColorStopPositions: [isPercent, isArbitraryLength],\n      inset: getSpacingWithAutoAndArbitrary(),\n      margin: getSpacingWithAutoAndArbitrary(),\n      opacity: getNumberAndArbitrary(),\n      padding: getSpacingWithArbitrary(),\n      saturate: getNumberAndArbitrary(),\n      scale: getNumberAndArbitrary(),\n      sepia: getZeroAndEmpty(),\n      skew: getNumberAndArbitrary(),\n      space: getSpacingWithArbitrary(),\n      translate: getSpacingWithArbitrary()\n    },\n    classGroups: {\n      // Layout\n      /**\n       * Aspect Ratio\n       * @see https://tailwindcss.com/docs/aspect-ratio\n       */\n      aspect: [{\n        aspect: ['auto', 'square', 'video', isArbitraryValue]\n      }],\n      /**\n       * Container\n       * @see https://tailwindcss.com/docs/container\n       */\n      container: ['container'],\n      /**\n       * Columns\n       * @see https://tailwindcss.com/docs/columns\n       */\n      columns: [{\n        columns: [isTshirtSize]\n      }],\n      /**\n       * Break After\n       * @see https://tailwindcss.com/docs/break-after\n       */\n      'break-after': [{\n        'break-after': getBreaks()\n      }],\n      /**\n       * Break Before\n       * @see https://tailwindcss.com/docs/break-before\n       */\n      'break-before': [{\n        'break-before': getBreaks()\n      }],\n      /**\n       * Break Inside\n       * @see https://tailwindcss.com/docs/break-inside\n       */\n      'break-inside': [{\n        'break-inside': ['auto', 'avoid', 'avoid-page', 'avoid-column']\n      }],\n      /**\n       * Box Decoration Break\n       * @see https://tailwindcss.com/docs/box-decoration-break\n       */\n      'box-decoration': [{\n        'box-decoration': ['slice', 'clone']\n      }],\n      /**\n       * Box Sizing\n       * @see https://tailwindcss.com/docs/box-sizing\n       */\n      box: [{\n        box: ['border', 'content']\n      }],\n      /**\n       * Display\n       * @see https://tailwindcss.com/docs/display\n       */\n      display: ['block', 'inline-block', 'inline', 'flex', 'inline-flex', 'table', 'inline-table', 'table-caption', 'table-cell', 'table-column', 'table-column-group', 'table-footer-group', 'table-header-group', 'table-row-group', 'table-row', 'flow-root', 'grid', 'inline-grid', 'contents', 'list-item', 'hidden'],\n      /**\n       * Floats\n       * @see https://tailwindcss.com/docs/float\n       */\n      float: [{\n        float: ['right', 'left', 'none', 'start', 'end']\n      }],\n      /**\n       * Clear\n       * @see https://tailwindcss.com/docs/clear\n       */\n      clear: [{\n        clear: ['left', 'right', 'both', 'none', 'start', 'end']\n      }],\n      /**\n       * Isolation\n       * @see https://tailwindcss.com/docs/isolation\n       */\n      isolation: ['isolate', 'isolation-auto'],\n      /**\n       * Object Fit\n       * @see https://tailwindcss.com/docs/object-fit\n       */\n      'object-fit': [{\n        object: ['contain', 'cover', 'fill', 'none', 'scale-down']\n      }],\n      /**\n       * Object Position\n       * @see https://tailwindcss.com/docs/object-position\n       */\n      'object-position': [{\n        object: [...getPositions(), isArbitraryValue]\n      }],\n      /**\n       * Overflow\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      overflow: [{\n        overflow: getOverflow()\n      }],\n      /**\n       * Overflow X\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-x': [{\n        'overflow-x': getOverflow()\n      }],\n      /**\n       * Overflow Y\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-y': [{\n        'overflow-y': getOverflow()\n      }],\n      /**\n       * Overscroll Behavior\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      overscroll: [{\n        overscroll: getOverscroll()\n      }],\n      /**\n       * Overscroll Behavior X\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-x': [{\n        'overscroll-x': getOverscroll()\n      }],\n      /**\n       * Overscroll Behavior Y\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-y': [{\n        'overscroll-y': getOverscroll()\n      }],\n      /**\n       * Position\n       * @see https://tailwindcss.com/docs/position\n       */\n      position: ['static', 'fixed', 'absolute', 'relative', 'sticky'],\n      /**\n       * Top / Right / Bottom / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      inset: [{\n        inset: [inset]\n      }],\n      /**\n       * Right / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-x': [{\n        'inset-x': [inset]\n      }],\n      /**\n       * Top / Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-y': [{\n        'inset-y': [inset]\n      }],\n      /**\n       * Start\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      start: [{\n        start: [inset]\n      }],\n      /**\n       * End\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      end: [{\n        end: [inset]\n      }],\n      /**\n       * Top\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      top: [{\n        top: [inset]\n      }],\n      /**\n       * Right\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      right: [{\n        right: [inset]\n      }],\n      /**\n       * Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      bottom: [{\n        bottom: [inset]\n      }],\n      /**\n       * Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      left: [{\n        left: [inset]\n      }],\n      /**\n       * Visibility\n       * @see https://tailwindcss.com/docs/visibility\n       */\n      visibility: ['visible', 'invisible', 'collapse'],\n      /**\n       * Z-Index\n       * @see https://tailwindcss.com/docs/z-index\n       */\n      z: [{\n        z: ['auto', isInteger, isArbitraryValue]\n      }],\n      // Flexbox and Grid\n      /**\n       * Flex Basis\n       * @see https://tailwindcss.com/docs/flex-basis\n       */\n      basis: [{\n        basis: getSpacingWithAutoAndArbitrary()\n      }],\n      /**\n       * Flex Direction\n       * @see https://tailwindcss.com/docs/flex-direction\n       */\n      'flex-direction': [{\n        flex: ['row', 'row-reverse', 'col', 'col-reverse']\n      }],\n      /**\n       * Flex Wrap\n       * @see https://tailwindcss.com/docs/flex-wrap\n       */\n      'flex-wrap': [{\n        flex: ['wrap', 'wrap-reverse', 'nowrap']\n      }],\n      /**\n       * Flex\n       * @see https://tailwindcss.com/docs/flex\n       */\n      flex: [{\n        flex: ['1', 'auto', 'initial', 'none', isArbitraryValue]\n      }],\n      /**\n       * Flex Grow\n       * @see https://tailwindcss.com/docs/flex-grow\n       */\n      grow: [{\n        grow: getZeroAndEmpty()\n      }],\n      /**\n       * Flex Shrink\n       * @see https://tailwindcss.com/docs/flex-shrink\n       */\n      shrink: [{\n        shrink: getZeroAndEmpty()\n      }],\n      /**\n       * Order\n       * @see https://tailwindcss.com/docs/order\n       */\n      order: [{\n        order: ['first', 'last', 'none', isInteger, isArbitraryValue]\n      }],\n      /**\n       * Grid Template Columns\n       * @see https://tailwindcss.com/docs/grid-template-columns\n       */\n      'grid-cols': [{\n        'grid-cols': [isAny]\n      }],\n      /**\n       * Grid Column Start / End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start-end': [{\n        col: ['auto', {\n          span: ['full', isInteger, isArbitraryValue]\n        }, isArbitraryValue]\n      }],\n      /**\n       * Grid Column Start\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start': [{\n        'col-start': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Column End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-end': [{\n        'col-end': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Template Rows\n       * @see https://tailwindcss.com/docs/grid-template-rows\n       */\n      'grid-rows': [{\n        'grid-rows': [isAny]\n      }],\n      /**\n       * Grid Row Start / End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start-end': [{\n        row: ['auto', {\n          span: [isInteger, isArbitraryValue]\n        }, isArbitraryValue]\n      }],\n      /**\n       * Grid Row Start\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start': [{\n        'row-start': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Row End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-end': [{\n        'row-end': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Auto Flow\n       * @see https://tailwindcss.com/docs/grid-auto-flow\n       */\n      'grid-flow': [{\n        'grid-flow': ['row', 'col', 'dense', 'row-dense', 'col-dense']\n      }],\n      /**\n       * Grid Auto Columns\n       * @see https://tailwindcss.com/docs/grid-auto-columns\n       */\n      'auto-cols': [{\n        'auto-cols': ['auto', 'min', 'max', 'fr', isArbitraryValue]\n      }],\n      /**\n       * Grid Auto Rows\n       * @see https://tailwindcss.com/docs/grid-auto-rows\n       */\n      'auto-rows': [{\n        'auto-rows': ['auto', 'min', 'max', 'fr', isArbitraryValue]\n      }],\n      /**\n       * Gap\n       * @see https://tailwindcss.com/docs/gap\n       */\n      gap: [{\n        gap: [gap]\n      }],\n      /**\n       * Gap X\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-x': [{\n        'gap-x': [gap]\n      }],\n      /**\n       * Gap Y\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-y': [{\n        'gap-y': [gap]\n      }],\n      /**\n       * Justify Content\n       * @see https://tailwindcss.com/docs/justify-content\n       */\n      'justify-content': [{\n        justify: ['normal', ...getAlign()]\n      }],\n      /**\n       * Justify Items\n       * @see https://tailwindcss.com/docs/justify-items\n       */\n      'justify-items': [{\n        'justify-items': ['start', 'end', 'center', 'stretch']\n      }],\n      /**\n       * Justify Self\n       * @see https://tailwindcss.com/docs/justify-self\n       */\n      'justify-self': [{\n        'justify-self': ['auto', 'start', 'end', 'center', 'stretch']\n      }],\n      /**\n       * Align Content\n       * @see https://tailwindcss.com/docs/align-content\n       */\n      'align-content': [{\n        content: ['normal', ...getAlign(), 'baseline']\n      }],\n      /**\n       * Align Items\n       * @see https://tailwindcss.com/docs/align-items\n       */\n      'align-items': [{\n        items: ['start', 'end', 'center', 'baseline', 'stretch']\n      }],\n      /**\n       * Align Self\n       * @see https://tailwindcss.com/docs/align-self\n       */\n      'align-self': [{\n        self: ['auto', 'start', 'end', 'center', 'stretch', 'baseline']\n      }],\n      /**\n       * Place Content\n       * @see https://tailwindcss.com/docs/place-content\n       */\n      'place-content': [{\n        'place-content': [...getAlign(), 'baseline']\n      }],\n      /**\n       * Place Items\n       * @see https://tailwindcss.com/docs/place-items\n       */\n      'place-items': [{\n        'place-items': ['start', 'end', 'center', 'baseline', 'stretch']\n      }],\n      /**\n       * Place Self\n       * @see https://tailwindcss.com/docs/place-self\n       */\n      'place-self': [{\n        'place-self': ['auto', 'start', 'end', 'center', 'stretch']\n      }],\n      // Spacing\n      /**\n       * Padding\n       * @see https://tailwindcss.com/docs/padding\n       */\n      p: [{\n        p: [padding]\n      }],\n      /**\n       * Padding X\n       * @see https://tailwindcss.com/docs/padding\n       */\n      px: [{\n        px: [padding]\n      }],\n      /**\n       * Padding Y\n       * @see https://tailwindcss.com/docs/padding\n       */\n      py: [{\n        py: [padding]\n      }],\n      /**\n       * Padding Start\n       * @see https://tailwindcss.com/docs/padding\n       */\n      ps: [{\n        ps: [padding]\n      }],\n      /**\n       * Padding End\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pe: [{\n        pe: [padding]\n      }],\n      /**\n       * Padding Top\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pt: [{\n        pt: [padding]\n      }],\n      /**\n       * Padding Right\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pr: [{\n        pr: [padding]\n      }],\n      /**\n       * Padding Bottom\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pb: [{\n        pb: [padding]\n      }],\n      /**\n       * Padding Left\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pl: [{\n        pl: [padding]\n      }],\n      /**\n       * Margin\n       * @see https://tailwindcss.com/docs/margin\n       */\n      m: [{\n        m: [margin]\n      }],\n      /**\n       * Margin X\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mx: [{\n        mx: [margin]\n      }],\n      /**\n       * Margin Y\n       * @see https://tailwindcss.com/docs/margin\n       */\n      my: [{\n        my: [margin]\n      }],\n      /**\n       * Margin Start\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ms: [{\n        ms: [margin]\n      }],\n      /**\n       * Margin End\n       * @see https://tailwindcss.com/docs/margin\n       */\n      me: [{\n        me: [margin]\n      }],\n      /**\n       * Margin Top\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mt: [{\n        mt: [margin]\n      }],\n      /**\n       * Margin Right\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mr: [{\n        mr: [margin]\n      }],\n      /**\n       * Margin Bottom\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mb: [{\n        mb: [margin]\n      }],\n      /**\n       * Margin Left\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ml: [{\n        ml: [margin]\n      }],\n      /**\n       * Space Between X\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-x': [{\n        'space-x': [space]\n      }],\n      /**\n       * Space Between X Reverse\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-x-reverse': ['space-x-reverse'],\n      /**\n       * Space Between Y\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-y': [{\n        'space-y': [space]\n      }],\n      /**\n       * Space Between Y Reverse\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-y-reverse': ['space-y-reverse'],\n      // Sizing\n      /**\n       * Width\n       * @see https://tailwindcss.com/docs/width\n       */\n      w: [{\n        w: ['auto', 'min', 'max', 'fit', 'svw', 'lvw', 'dvw', isArbitraryValue, spacing]\n      }],\n      /**\n       * Min-Width\n       * @see https://tailwindcss.com/docs/min-width\n       */\n      'min-w': [{\n        'min-w': [isArbitraryValue, spacing, 'min', 'max', 'fit']\n      }],\n      /**\n       * Max-Width\n       * @see https://tailwindcss.com/docs/max-width\n       */\n      'max-w': [{\n        'max-w': [isArbitraryValue, spacing, 'none', 'full', 'min', 'max', 'fit', 'prose', {\n          screen: [isTshirtSize]\n        }, isTshirtSize]\n      }],\n      /**\n       * Height\n       * @see https://tailwindcss.com/docs/height\n       */\n      h: [{\n        h: [isArbitraryValue, spacing, 'auto', 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Min-Height\n       * @see https://tailwindcss.com/docs/min-height\n       */\n      'min-h': [{\n        'min-h': [isArbitraryValue, spacing, 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Max-Height\n       * @see https://tailwindcss.com/docs/max-height\n       */\n      'max-h': [{\n        'max-h': [isArbitraryValue, spacing, 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Size\n       * @see https://tailwindcss.com/docs/size\n       */\n      size: [{\n        size: [isArbitraryValue, spacing, 'auto', 'min', 'max', 'fit']\n      }],\n      // Typography\n      /**\n       * Font Size\n       * @see https://tailwindcss.com/docs/font-size\n       */\n      'font-size': [{\n        text: ['base', isTshirtSize, isArbitraryLength]\n      }],\n      /**\n       * Font Smoothing\n       * @see https://tailwindcss.com/docs/font-smoothing\n       */\n      'font-smoothing': ['antialiased', 'subpixel-antialiased'],\n      /**\n       * Font Style\n       * @see https://tailwindcss.com/docs/font-style\n       */\n      'font-style': ['italic', 'not-italic'],\n      /**\n       * Font Weight\n       * @see https://tailwindcss.com/docs/font-weight\n       */\n      'font-weight': [{\n        font: ['thin', 'extralight', 'light', 'normal', 'medium', 'semibold', 'bold', 'extrabold', 'black', isArbitraryNumber]\n      }],\n      /**\n       * Font Family\n       * @see https://tailwindcss.com/docs/font-family\n       */\n      'font-family': [{\n        font: [isAny]\n      }],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-normal': ['normal-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-ordinal': ['ordinal'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-slashed-zero': ['slashed-zero'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-figure': ['lining-nums', 'oldstyle-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-spacing': ['proportional-nums', 'tabular-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-fraction': ['diagonal-fractions', 'stacked-fractions'],\n      /**\n       * Letter Spacing\n       * @see https://tailwindcss.com/docs/letter-spacing\n       */\n      tracking: [{\n        tracking: ['tighter', 'tight', 'normal', 'wide', 'wider', 'widest', isArbitraryValue]\n      }],\n      /**\n       * Line Clamp\n       * @see https://tailwindcss.com/docs/line-clamp\n       */\n      'line-clamp': [{\n        'line-clamp': ['none', isNumber, isArbitraryNumber]\n      }],\n      /**\n       * Line Height\n       * @see https://tailwindcss.com/docs/line-height\n       */\n      leading: [{\n        leading: ['none', 'tight', 'snug', 'normal', 'relaxed', 'loose', isLength, isArbitraryValue]\n      }],\n      /**\n       * List Style Image\n       * @see https://tailwindcss.com/docs/list-style-image\n       */\n      'list-image': [{\n        'list-image': ['none', isArbitraryValue]\n      }],\n      /**\n       * List Style Type\n       * @see https://tailwindcss.com/docs/list-style-type\n       */\n      'list-style-type': [{\n        list: ['none', 'disc', 'decimal', isArbitraryValue]\n      }],\n      /**\n       * List Style Position\n       * @see https://tailwindcss.com/docs/list-style-position\n       */\n      'list-style-position': [{\n        list: ['inside', 'outside']\n      }],\n      /**\n       * Placeholder Color\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/placeholder-color\n       */\n      'placeholder-color': [{\n        placeholder: [colors]\n      }],\n      /**\n       * Placeholder Opacity\n       * @see https://tailwindcss.com/docs/placeholder-opacity\n       */\n      'placeholder-opacity': [{\n        'placeholder-opacity': [opacity]\n      }],\n      /**\n       * Text Alignment\n       * @see https://tailwindcss.com/docs/text-align\n       */\n      'text-alignment': [{\n        text: ['left', 'center', 'right', 'justify', 'start', 'end']\n      }],\n      /**\n       * Text Color\n       * @see https://tailwindcss.com/docs/text-color\n       */\n      'text-color': [{\n        text: [colors]\n      }],\n      /**\n       * Text Opacity\n       * @see https://tailwindcss.com/docs/text-opacity\n       */\n      'text-opacity': [{\n        'text-opacity': [opacity]\n      }],\n      /**\n       * Text Decoration\n       * @see https://tailwindcss.com/docs/text-decoration\n       */\n      'text-decoration': ['underline', 'overline', 'line-through', 'no-underline'],\n      /**\n       * Text Decoration Style\n       * @see https://tailwindcss.com/docs/text-decoration-style\n       */\n      'text-decoration-style': [{\n        decoration: [...getLineStyles(), 'wavy']\n      }],\n      /**\n       * Text Decoration Thickness\n       * @see https://tailwindcss.com/docs/text-decoration-thickness\n       */\n      'text-decoration-thickness': [{\n        decoration: ['auto', 'from-font', isLength, isArbitraryLength]\n      }],\n      /**\n       * Text Underline Offset\n       * @see https://tailwindcss.com/docs/text-underline-offset\n       */\n      'underline-offset': [{\n        'underline-offset': ['auto', isLength, isArbitraryValue]\n      }],\n      /**\n       * Text Decoration Color\n       * @see https://tailwindcss.com/docs/text-decoration-color\n       */\n      'text-decoration-color': [{\n        decoration: [colors]\n      }],\n      /**\n       * Text Transform\n       * @see https://tailwindcss.com/docs/text-transform\n       */\n      'text-transform': ['uppercase', 'lowercase', 'capitalize', 'normal-case'],\n      /**\n       * Text Overflow\n       * @see https://tailwindcss.com/docs/text-overflow\n       */\n      'text-overflow': ['truncate', 'text-ellipsis', 'text-clip'],\n      /**\n       * Text Wrap\n       * @see https://tailwindcss.com/docs/text-wrap\n       */\n      'text-wrap': [{\n        text: ['wrap', 'nowrap', 'balance', 'pretty']\n      }],\n      /**\n       * Text Indent\n       * @see https://tailwindcss.com/docs/text-indent\n       */\n      indent: [{\n        indent: getSpacingWithArbitrary()\n      }],\n      /**\n       * Vertical Alignment\n       * @see https://tailwindcss.com/docs/vertical-align\n       */\n      'vertical-align': [{\n        align: ['baseline', 'top', 'middle', 'bottom', 'text-top', 'text-bottom', 'sub', 'super', isArbitraryValue]\n      }],\n      /**\n       * Whitespace\n       * @see https://tailwindcss.com/docs/whitespace\n       */\n      whitespace: [{\n        whitespace: ['normal', 'nowrap', 'pre', 'pre-line', 'pre-wrap', 'break-spaces']\n      }],\n      /**\n       * Word Break\n       * @see https://tailwindcss.com/docs/word-break\n       */\n      break: [{\n        break: ['normal', 'words', 'all', 'keep']\n      }],\n      /**\n       * Hyphens\n       * @see https://tailwindcss.com/docs/hyphens\n       */\n      hyphens: [{\n        hyphens: ['none', 'manual', 'auto']\n      }],\n      /**\n       * Content\n       * @see https://tailwindcss.com/docs/content\n       */\n      content: [{\n        content: ['none', isArbitraryValue]\n      }],\n      // Backgrounds\n      /**\n       * Background Attachment\n       * @see https://tailwindcss.com/docs/background-attachment\n       */\n      'bg-attachment': [{\n        bg: ['fixed', 'local', 'scroll']\n      }],\n      /**\n       * Background Clip\n       * @see https://tailwindcss.com/docs/background-clip\n       */\n      'bg-clip': [{\n        'bg-clip': ['border', 'padding', 'content', 'text']\n      }],\n      /**\n       * Background Opacity\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/background-opacity\n       */\n      'bg-opacity': [{\n        'bg-opacity': [opacity]\n      }],\n      /**\n       * Background Origin\n       * @see https://tailwindcss.com/docs/background-origin\n       */\n      'bg-origin': [{\n        'bg-origin': ['border', 'padding', 'content']\n      }],\n      /**\n       * Background Position\n       * @see https://tailwindcss.com/docs/background-position\n       */\n      'bg-position': [{\n        bg: [...getPositions(), isArbitraryPosition]\n      }],\n      /**\n       * Background Repeat\n       * @see https://tailwindcss.com/docs/background-repeat\n       */\n      'bg-repeat': [{\n        bg: ['no-repeat', {\n          repeat: ['', 'x', 'y', 'round', 'space']\n        }]\n      }],\n      /**\n       * Background Size\n       * @see https://tailwindcss.com/docs/background-size\n       */\n      'bg-size': [{\n        bg: ['auto', 'cover', 'contain', isArbitrarySize]\n      }],\n      /**\n       * Background Image\n       * @see https://tailwindcss.com/docs/background-image\n       */\n      'bg-image': [{\n        bg: ['none', {\n          'gradient-to': ['t', 'tr', 'r', 'br', 'b', 'bl', 'l', 'tl']\n        }, isArbitraryImage]\n      }],\n      /**\n       * Background Color\n       * @see https://tailwindcss.com/docs/background-color\n       */\n      'bg-color': [{\n        bg: [colors]\n      }],\n      /**\n       * Gradient Color Stops From Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from-pos': [{\n        from: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops Via Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via-pos': [{\n        via: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops To Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to-pos': [{\n        to: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops From\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from': [{\n        from: [gradientColorStops]\n      }],\n      /**\n       * Gradient Color Stops Via\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via': [{\n        via: [gradientColorStops]\n      }],\n      /**\n       * Gradient Color Stops To\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to': [{\n        to: [gradientColorStops]\n      }],\n      // Borders\n      /**\n       * Border Radius\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      rounded: [{\n        rounded: [borderRadius]\n      }],\n      /**\n       * Border Radius Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-s': [{\n        'rounded-s': [borderRadius]\n      }],\n      /**\n       * Border Radius End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-e': [{\n        'rounded-e': [borderRadius]\n      }],\n      /**\n       * Border Radius Top\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-t': [{\n        'rounded-t': [borderRadius]\n      }],\n      /**\n       * Border Radius Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-r': [{\n        'rounded-r': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-b': [{\n        'rounded-b': [borderRadius]\n      }],\n      /**\n       * Border Radius Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-l': [{\n        'rounded-l': [borderRadius]\n      }],\n      /**\n       * Border Radius Start Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ss': [{\n        'rounded-ss': [borderRadius]\n      }],\n      /**\n       * Border Radius Start End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-se': [{\n        'rounded-se': [borderRadius]\n      }],\n      /**\n       * Border Radius End End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ee': [{\n        'rounded-ee': [borderRadius]\n      }],\n      /**\n       * Border Radius End Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-es': [{\n        'rounded-es': [borderRadius]\n      }],\n      /**\n       * Border Radius Top Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tl': [{\n        'rounded-tl': [borderRadius]\n      }],\n      /**\n       * Border Radius Top Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tr': [{\n        'rounded-tr': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-br': [{\n        'rounded-br': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-bl': [{\n        'rounded-bl': [borderRadius]\n      }],\n      /**\n       * Border Width\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w': [{\n        border: [borderWidth]\n      }],\n      /**\n       * Border Width X\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-x': [{\n        'border-x': [borderWidth]\n      }],\n      /**\n       * Border Width Y\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-y': [{\n        'border-y': [borderWidth]\n      }],\n      /**\n       * Border Width Start\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-s': [{\n        'border-s': [borderWidth]\n      }],\n      /**\n       * Border Width End\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-e': [{\n        'border-e': [borderWidth]\n      }],\n      /**\n       * Border Width Top\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-t': [{\n        'border-t': [borderWidth]\n      }],\n      /**\n       * Border Width Right\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-r': [{\n        'border-r': [borderWidth]\n      }],\n      /**\n       * Border Width Bottom\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-b': [{\n        'border-b': [borderWidth]\n      }],\n      /**\n       * Border Width Left\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-l': [{\n        'border-l': [borderWidth]\n      }],\n      /**\n       * Border Opacity\n       * @see https://tailwindcss.com/docs/border-opacity\n       */\n      'border-opacity': [{\n        'border-opacity': [opacity]\n      }],\n      /**\n       * Border Style\n       * @see https://tailwindcss.com/docs/border-style\n       */\n      'border-style': [{\n        border: [...getLineStyles(), 'hidden']\n      }],\n      /**\n       * Divide Width X\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-x': [{\n        'divide-x': [borderWidth]\n      }],\n      /**\n       * Divide Width X Reverse\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-x-reverse': ['divide-x-reverse'],\n      /**\n       * Divide Width Y\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-y': [{\n        'divide-y': [borderWidth]\n      }],\n      /**\n       * Divide Width Y Reverse\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-y-reverse': ['divide-y-reverse'],\n      /**\n       * Divide Opacity\n       * @see https://tailwindcss.com/docs/divide-opacity\n       */\n      'divide-opacity': [{\n        'divide-opacity': [opacity]\n      }],\n      /**\n       * Divide Style\n       * @see https://tailwindcss.com/docs/divide-style\n       */\n      'divide-style': [{\n        divide: getLineStyles()\n      }],\n      /**\n       * Border Color\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color': [{\n        border: [borderColor]\n      }],\n      /**\n       * Border Color X\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-x': [{\n        'border-x': [borderColor]\n      }],\n      /**\n       * Border Color Y\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-y': [{\n        'border-y': [borderColor]\n      }],\n      /**\n       * Border Color S\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-s': [{\n        'border-s': [borderColor]\n      }],\n      /**\n       * Border Color E\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-e': [{\n        'border-e': [borderColor]\n      }],\n      /**\n       * Border Color Top\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-t': [{\n        'border-t': [borderColor]\n      }],\n      /**\n       * Border Color Right\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-r': [{\n        'border-r': [borderColor]\n      }],\n      /**\n       * Border Color Bottom\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-b': [{\n        'border-b': [borderColor]\n      }],\n      /**\n       * Border Color Left\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-l': [{\n        'border-l': [borderColor]\n      }],\n      /**\n       * Divide Color\n       * @see https://tailwindcss.com/docs/divide-color\n       */\n      'divide-color': [{\n        divide: [borderColor]\n      }],\n      /**\n       * Outline Style\n       * @see https://tailwindcss.com/docs/outline-style\n       */\n      'outline-style': [{\n        outline: ['', ...getLineStyles()]\n      }],\n      /**\n       * Outline Offset\n       * @see https://tailwindcss.com/docs/outline-offset\n       */\n      'outline-offset': [{\n        'outline-offset': [isLength, isArbitraryValue]\n      }],\n      /**\n       * Outline Width\n       * @see https://tailwindcss.com/docs/outline-width\n       */\n      'outline-w': [{\n        outline: [isLength, isArbitraryLength]\n      }],\n      /**\n       * Outline Color\n       * @see https://tailwindcss.com/docs/outline-color\n       */\n      'outline-color': [{\n        outline: [colors]\n      }],\n      /**\n       * Ring Width\n       * @see https://tailwindcss.com/docs/ring-width\n       */\n      'ring-w': [{\n        ring: getLengthWithEmptyAndArbitrary()\n      }],\n      /**\n       * Ring Width Inset\n       * @see https://tailwindcss.com/docs/ring-width\n       */\n      'ring-w-inset': ['ring-inset'],\n      /**\n       * Ring Color\n       * @see https://tailwindcss.com/docs/ring-color\n       */\n      'ring-color': [{\n        ring: [colors]\n      }],\n      /**\n       * Ring Opacity\n       * @see https://tailwindcss.com/docs/ring-opacity\n       */\n      'ring-opacity': [{\n        'ring-opacity': [opacity]\n      }],\n      /**\n       * Ring Offset Width\n       * @see https://tailwindcss.com/docs/ring-offset-width\n       */\n      'ring-offset-w': [{\n        'ring-offset': [isLength, isArbitraryLength]\n      }],\n      /**\n       * Ring Offset Color\n       * @see https://tailwindcss.com/docs/ring-offset-color\n       */\n      'ring-offset-color': [{\n        'ring-offset': [colors]\n      }],\n      // Effects\n      /**\n       * Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow\n       */\n      shadow: [{\n        shadow: ['', 'inner', 'none', isTshirtSize, isArbitraryShadow]\n      }],\n      /**\n       * Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow-color\n       */\n      'shadow-color': [{\n        shadow: [isAny]\n      }],\n      /**\n       * Opacity\n       * @see https://tailwindcss.com/docs/opacity\n       */\n      opacity: [{\n        opacity: [opacity]\n      }],\n      /**\n       * Mix Blend Mode\n       * @see https://tailwindcss.com/docs/mix-blend-mode\n       */\n      'mix-blend': [{\n        'mix-blend': [...getBlendModes(), 'plus-lighter', 'plus-darker']\n      }],\n      /**\n       * Background Blend Mode\n       * @see https://tailwindcss.com/docs/background-blend-mode\n       */\n      'bg-blend': [{\n        'bg-blend': getBlendModes()\n      }],\n      // Filters\n      /**\n       * Filter\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/filter\n       */\n      filter: [{\n        filter: ['', 'none']\n      }],\n      /**\n       * Blur\n       * @see https://tailwindcss.com/docs/blur\n       */\n      blur: [{\n        blur: [blur]\n      }],\n      /**\n       * Brightness\n       * @see https://tailwindcss.com/docs/brightness\n       */\n      brightness: [{\n        brightness: [brightness]\n      }],\n      /**\n       * Contrast\n       * @see https://tailwindcss.com/docs/contrast\n       */\n      contrast: [{\n        contrast: [contrast]\n      }],\n      /**\n       * Drop Shadow\n       * @see https://tailwindcss.com/docs/drop-shadow\n       */\n      'drop-shadow': [{\n        'drop-shadow': ['', 'none', isTshirtSize, isArbitraryValue]\n      }],\n      /**\n       * Grayscale\n       * @see https://tailwindcss.com/docs/grayscale\n       */\n      grayscale: [{\n        grayscale: [grayscale]\n      }],\n      /**\n       * Hue Rotate\n       * @see https://tailwindcss.com/docs/hue-rotate\n       */\n      'hue-rotate': [{\n        'hue-rotate': [hueRotate]\n      }],\n      /**\n       * Invert\n       * @see https://tailwindcss.com/docs/invert\n       */\n      invert: [{\n        invert: [invert]\n      }],\n      /**\n       * Saturate\n       * @see https://tailwindcss.com/docs/saturate\n       */\n      saturate: [{\n        saturate: [saturate]\n      }],\n      /**\n       * Sepia\n       * @see https://tailwindcss.com/docs/sepia\n       */\n      sepia: [{\n        sepia: [sepia]\n      }],\n      /**\n       * Backdrop Filter\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/backdrop-filter\n       */\n      'backdrop-filter': [{\n        'backdrop-filter': ['', 'none']\n      }],\n      /**\n       * Backdrop Blur\n       * @see https://tailwindcss.com/docs/backdrop-blur\n       */\n      'backdrop-blur': [{\n        'backdrop-blur': [blur]\n      }],\n      /**\n       * Backdrop Brightness\n       * @see https://tailwindcss.com/docs/backdrop-brightness\n       */\n      'backdrop-brightness': [{\n        'backdrop-brightness': [brightness]\n      }],\n      /**\n       * Backdrop Contrast\n       * @see https://tailwindcss.com/docs/backdrop-contrast\n       */\n      'backdrop-contrast': [{\n        'backdrop-contrast': [contrast]\n      }],\n      /**\n       * Backdrop Grayscale\n       * @see https://tailwindcss.com/docs/backdrop-grayscale\n       */\n      'backdrop-grayscale': [{\n        'backdrop-grayscale': [grayscale]\n      }],\n      /**\n       * Backdrop Hue Rotate\n       * @see https://tailwindcss.com/docs/backdrop-hue-rotate\n       */\n      'backdrop-hue-rotate': [{\n        'backdrop-hue-rotate': [hueRotate]\n      }],\n      /**\n       * Backdrop Invert\n       * @see https://tailwindcss.com/docs/backdrop-invert\n       */\n      'backdrop-invert': [{\n        'backdrop-invert': [invert]\n      }],\n      /**\n       * Backdrop Opacity\n       * @see https://tailwindcss.com/docs/backdrop-opacity\n       */\n      'backdrop-opacity': [{\n        'backdrop-opacity': [opacity]\n      }],\n      /**\n       * Backdrop Saturate\n       * @see https://tailwindcss.com/docs/backdrop-saturate\n       */\n      'backdrop-saturate': [{\n        'backdrop-saturate': [saturate]\n      }],\n      /**\n       * Backdrop Sepia\n       * @see https://tailwindcss.com/docs/backdrop-sepia\n       */\n      'backdrop-sepia': [{\n        'backdrop-sepia': [sepia]\n      }],\n      // Tables\n      /**\n       * Border Collapse\n       * @see https://tailwindcss.com/docs/border-collapse\n       */\n      'border-collapse': [{\n        border: ['collapse', 'separate']\n      }],\n      /**\n       * Border Spacing\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing': [{\n        'border-spacing': [borderSpacing]\n      }],\n      /**\n       * Border Spacing X\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-x': [{\n        'border-spacing-x': [borderSpacing]\n      }],\n      /**\n       * Border Spacing Y\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-y': [{\n        'border-spacing-y': [borderSpacing]\n      }],\n      /**\n       * Table Layout\n       * @see https://tailwindcss.com/docs/table-layout\n       */\n      'table-layout': [{\n        table: ['auto', 'fixed']\n      }],\n      /**\n       * Caption Side\n       * @see https://tailwindcss.com/docs/caption-side\n       */\n      caption: [{\n        caption: ['top', 'bottom']\n      }],\n      // Transitions and Animation\n      /**\n       * Tranisition Property\n       * @see https://tailwindcss.com/docs/transition-property\n       */\n      transition: [{\n        transition: ['none', 'all', '', 'colors', 'opacity', 'shadow', 'transform', isArbitraryValue]\n      }],\n      /**\n       * Transition Duration\n       * @see https://tailwindcss.com/docs/transition-duration\n       */\n      duration: [{\n        duration: getNumberAndArbitrary()\n      }],\n      /**\n       * Transition Timing Function\n       * @see https://tailwindcss.com/docs/transition-timing-function\n       */\n      ease: [{\n        ease: ['linear', 'in', 'out', 'in-out', isArbitraryValue]\n      }],\n      /**\n       * Transition Delay\n       * @see https://tailwindcss.com/docs/transition-delay\n       */\n      delay: [{\n        delay: getNumberAndArbitrary()\n      }],\n      /**\n       * Animation\n       * @see https://tailwindcss.com/docs/animation\n       */\n      animate: [{\n        animate: ['none', 'spin', 'ping', 'pulse', 'bounce', isArbitraryValue]\n      }],\n      // Transforms\n      /**\n       * Transform\n       * @see https://tailwindcss.com/docs/transform\n       */\n      transform: [{\n        transform: ['', 'gpu', 'none']\n      }],\n      /**\n       * Scale\n       * @see https://tailwindcss.com/docs/scale\n       */\n      scale: [{\n        scale: [scale]\n      }],\n      /**\n       * Scale X\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-x': [{\n        'scale-x': [scale]\n      }],\n      /**\n       * Scale Y\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-y': [{\n        'scale-y': [scale]\n      }],\n      /**\n       * Rotate\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      rotate: [{\n        rotate: [isInteger, isArbitraryValue]\n      }],\n      /**\n       * Translate X\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-x': [{\n        'translate-x': [translate]\n      }],\n      /**\n       * Translate Y\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-y': [{\n        'translate-y': [translate]\n      }],\n      /**\n       * Skew X\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-x': [{\n        'skew-x': [skew]\n      }],\n      /**\n       * Skew Y\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-y': [{\n        'skew-y': [skew]\n      }],\n      /**\n       * Transform Origin\n       * @see https://tailwindcss.com/docs/transform-origin\n       */\n      'transform-origin': [{\n        origin: ['center', 'top', 'top-right', 'right', 'bottom-right', 'bottom', 'bottom-left', 'left', 'top-left', isArbitraryValue]\n      }],\n      // Interactivity\n      /**\n       * Accent Color\n       * @see https://tailwindcss.com/docs/accent-color\n       */\n      accent: [{\n        accent: ['auto', colors]\n      }],\n      /**\n       * Appearance\n       * @see https://tailwindcss.com/docs/appearance\n       */\n      appearance: [{\n        appearance: ['none', 'auto']\n      }],\n      /**\n       * Cursor\n       * @see https://tailwindcss.com/docs/cursor\n       */\n      cursor: [{\n        cursor: ['auto', 'default', 'pointer', 'wait', 'text', 'move', 'help', 'not-allowed', 'none', 'context-menu', 'progress', 'cell', 'crosshair', 'vertical-text', 'alias', 'copy', 'no-drop', 'grab', 'grabbing', 'all-scroll', 'col-resize', 'row-resize', 'n-resize', 'e-resize', 's-resize', 'w-resize', 'ne-resize', 'nw-resize', 'se-resize', 'sw-resize', 'ew-resize', 'ns-resize', 'nesw-resize', 'nwse-resize', 'zoom-in', 'zoom-out', isArbitraryValue]\n      }],\n      /**\n       * Caret Color\n       * @see https://tailwindcss.com/docs/just-in-time-mode#caret-color-utilities\n       */\n      'caret-color': [{\n        caret: [colors]\n      }],\n      /**\n       * Pointer Events\n       * @see https://tailwindcss.com/docs/pointer-events\n       */\n      'pointer-events': [{\n        'pointer-events': ['none', 'auto']\n      }],\n      /**\n       * Resize\n       * @see https://tailwindcss.com/docs/resize\n       */\n      resize: [{\n        resize: ['none', 'y', 'x', '']\n      }],\n      /**\n       * Scroll Behavior\n       * @see https://tailwindcss.com/docs/scroll-behavior\n       */\n      'scroll-behavior': [{\n        scroll: ['auto', 'smooth']\n      }],\n      /**\n       * Scroll Margin\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-m': [{\n        'scroll-m': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin X\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mx': [{\n        'scroll-mx': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Y\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-my': [{\n        'scroll-my': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Start\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ms': [{\n        'scroll-ms': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin End\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-me': [{\n        'scroll-me': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Top\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mt': [{\n        'scroll-mt': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Right\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mr': [{\n        'scroll-mr': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Bottom\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mb': [{\n        'scroll-mb': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Left\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ml': [{\n        'scroll-ml': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-p': [{\n        'scroll-p': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding X\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-px': [{\n        'scroll-px': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Y\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-py': [{\n        'scroll-py': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Start\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-ps': [{\n        'scroll-ps': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding End\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pe': [{\n        'scroll-pe': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Top\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pt': [{\n        'scroll-pt': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Right\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pr': [{\n        'scroll-pr': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Bottom\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pb': [{\n        'scroll-pb': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Left\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pl': [{\n        'scroll-pl': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Snap Align\n       * @see https://tailwindcss.com/docs/scroll-snap-align\n       */\n      'snap-align': [{\n        snap: ['start', 'end', 'center', 'align-none']\n      }],\n      /**\n       * Scroll Snap Stop\n       * @see https://tailwindcss.com/docs/scroll-snap-stop\n       */\n      'snap-stop': [{\n        snap: ['normal', 'always']\n      }],\n      /**\n       * Scroll Snap Type\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-type': [{\n        snap: ['none', 'x', 'y', 'both']\n      }],\n      /**\n       * Scroll Snap Type Strictness\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-strictness': [{\n        snap: ['mandatory', 'proximity']\n      }],\n      /**\n       * Touch Action\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      touch: [{\n        touch: ['auto', 'none', 'manipulation']\n      }],\n      /**\n       * Touch Action X\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-x': [{\n        'touch-pan': ['x', 'left', 'right']\n      }],\n      /**\n       * Touch Action Y\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-y': [{\n        'touch-pan': ['y', 'up', 'down']\n      }],\n      /**\n       * Touch Action Pinch Zoom\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-pz': ['touch-pinch-zoom'],\n      /**\n       * User Select\n       * @see https://tailwindcss.com/docs/user-select\n       */\n      select: [{\n        select: ['none', 'text', 'all', 'auto']\n      }],\n      /**\n       * Will Change\n       * @see https://tailwindcss.com/docs/will-change\n       */\n      'will-change': [{\n        'will-change': ['auto', 'scroll', 'contents', 'transform', isArbitraryValue]\n      }],\n      // SVG\n      /**\n       * Fill\n       * @see https://tailwindcss.com/docs/fill\n       */\n      fill: [{\n        fill: [colors, 'none']\n      }],\n      /**\n       * Stroke Width\n       * @see https://tailwindcss.com/docs/stroke-width\n       */\n      'stroke-w': [{\n        stroke: [isLength, isArbitraryLength, isArbitraryNumber]\n      }],\n      /**\n       * Stroke\n       * @see https://tailwindcss.com/docs/stroke\n       */\n      stroke: [{\n        stroke: [colors, 'none']\n      }],\n      // Accessibility\n      /**\n       * Screen Readers\n       * @see https://tailwindcss.com/docs/screen-readers\n       */\n      sr: ['sr-only', 'not-sr-only'],\n      /**\n       * Forced Color Adjust\n       * @see https://tailwindcss.com/docs/forced-color-adjust\n       */\n      'forced-color-adjust': [{\n        'forced-color-adjust': ['auto', 'none']\n      }]\n    },\n    conflictingClassGroups: {\n      overflow: ['overflow-x', 'overflow-y'],\n      overscroll: ['overscroll-x', 'overscroll-y'],\n      inset: ['inset-x', 'inset-y', 'start', 'end', 'top', 'right', 'bottom', 'left'],\n      'inset-x': ['right', 'left'],\n      'inset-y': ['top', 'bottom'],\n      flex: ['basis', 'grow', 'shrink'],\n      gap: ['gap-x', 'gap-y'],\n      p: ['px', 'py', 'ps', 'pe', 'pt', 'pr', 'pb', 'pl'],\n      px: ['pr', 'pl'],\n      py: ['pt', 'pb'],\n      m: ['mx', 'my', 'ms', 'me', 'mt', 'mr', 'mb', 'ml'],\n      mx: ['mr', 'ml'],\n      my: ['mt', 'mb'],\n      size: ['w', 'h'],\n      'font-size': ['leading'],\n      'fvn-normal': ['fvn-ordinal', 'fvn-slashed-zero', 'fvn-figure', 'fvn-spacing', 'fvn-fraction'],\n      'fvn-ordinal': ['fvn-normal'],\n      'fvn-slashed-zero': ['fvn-normal'],\n      'fvn-figure': ['fvn-normal'],\n      'fvn-spacing': ['fvn-normal'],\n      'fvn-fraction': ['fvn-normal'],\n      'line-clamp': ['display', 'overflow'],\n      rounded: ['rounded-s', 'rounded-e', 'rounded-t', 'rounded-r', 'rounded-b', 'rounded-l', 'rounded-ss', 'rounded-se', 'rounded-ee', 'rounded-es', 'rounded-tl', 'rounded-tr', 'rounded-br', 'rounded-bl'],\n      'rounded-s': ['rounded-ss', 'rounded-es'],\n      'rounded-e': ['rounded-se', 'rounded-ee'],\n      'rounded-t': ['rounded-tl', 'rounded-tr'],\n      'rounded-r': ['rounded-tr', 'rounded-br'],\n      'rounded-b': ['rounded-br', 'rounded-bl'],\n      'rounded-l': ['rounded-tl', 'rounded-bl'],\n      'border-spacing': ['border-spacing-x', 'border-spacing-y'],\n      'border-w': ['border-w-s', 'border-w-e', 'border-w-t', 'border-w-r', 'border-w-b', 'border-w-l'],\n      'border-w-x': ['border-w-r', 'border-w-l'],\n      'border-w-y': ['border-w-t', 'border-w-b'],\n      'border-color': ['border-color-s', 'border-color-e', 'border-color-t', 'border-color-r', 'border-color-b', 'border-color-l'],\n      'border-color-x': ['border-color-r', 'border-color-l'],\n      'border-color-y': ['border-color-t', 'border-color-b'],\n      'scroll-m': ['scroll-mx', 'scroll-my', 'scroll-ms', 'scroll-me', 'scroll-mt', 'scroll-mr', 'scroll-mb', 'scroll-ml'],\n      'scroll-mx': ['scroll-mr', 'scroll-ml'],\n      'scroll-my': ['scroll-mt', 'scroll-mb'],\n      'scroll-p': ['scroll-px', 'scroll-py', 'scroll-ps', 'scroll-pe', 'scroll-pt', 'scroll-pr', 'scroll-pb', 'scroll-pl'],\n      'scroll-px': ['scroll-pr', 'scroll-pl'],\n      'scroll-py': ['scroll-pt', 'scroll-pb'],\n      touch: ['touch-x', 'touch-y', 'touch-pz'],\n      'touch-x': ['touch'],\n      'touch-y': ['touch'],\n      'touch-pz': ['touch']\n    },\n    conflictingClassGroupModifiers: {\n      'font-size': ['leading']\n    }\n  };\n};\n\n/**\n * @param baseConfig Config where other config will be merged into. This object will be mutated.\n * @param configExtension Partial config to merge into the `baseConfig`.\n */\nconst mergeConfigs = (baseConfig, {\n  cacheSize,\n  prefix,\n  separator,\n  experimentalParseClassName,\n  extend = {},\n  override = {}\n}) => {\n  overrideProperty(baseConfig, 'cacheSize', cacheSize);\n  overrideProperty(baseConfig, 'prefix', prefix);\n  overrideProperty(baseConfig, 'separator', separator);\n  overrideProperty(baseConfig, 'experimentalParseClassName', experimentalParseClassName);\n  for (const configKey in override) {\n    overrideConfigProperties(baseConfig[configKey], override[configKey]);\n  }\n  for (const key in extend) {\n    mergeConfigProperties(baseConfig[key], extend[key]);\n  }\n  return baseConfig;\n};\nconst overrideProperty = (baseObject, overrideKey, overrideValue) => {\n  if (overrideValue !== undefined) {\n    baseObject[overrideKey] = overrideValue;\n  }\n};\nconst overrideConfigProperties = (baseObject, overrideObject) => {\n  if (overrideObject) {\n    for (const key in overrideObject) {\n      overrideProperty(baseObject, key, overrideObject[key]);\n    }\n  }\n};\nconst mergeConfigProperties = (baseObject, mergeObject) => {\n  if (mergeObject) {\n    for (const key in mergeObject) {\n      const mergeValue = mergeObject[key];\n      if (mergeValue !== undefined) {\n        baseObject[key] = (baseObject[key] || []).concat(mergeValue);\n      }\n    }\n  }\n};\nconst extendTailwindMerge = (configExtension, ...createConfig) => typeof configExtension === 'function' ? createTailwindMerge(getDefaultConfig, configExtension, ...createConfig) : createTailwindMerge(() => mergeConfigs(getDefaultConfig(), configExtension), ...createConfig);\nconst twMerge = /*#__PURE__*/createTailwindMerge(getDefaultConfig);\nexport { createTailwindMerge, extendTailwindMerge, fromTheme, getDefaultConfig, mergeConfigs, twJoin, twMerge, validators };\n//# sourceMappingURL=bundle-mjs.mjs.map\n","import { clsx, type ClassValue } from 'clsx';\r\nimport { twMerge } from 'tailwind-merge';\r\n\r\n/**\r\n * Merge Tailwind classes with clsx\r\n */\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n\r\n/**\r\n * Format date to locale string\r\n */\r\nexport function formatDate(date: Date | string, options?: Intl.DateTimeFormatOptions): string {\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  return d.toLocaleDateString('es-AR', {\r\n    day: 'numeric',\r\n    month: 'short',\r\n    year: 'numeric',\r\n    ...options,\r\n  });\r\n}\r\n\r\n/**\r\n * Format time to locale string\r\n */\r\nexport function formatTime(date: Date | string): string {\r\n  const d = typeof date === 'string' ? new Date(date) : date;\r\n  return d.toLocaleTimeString('es-AR', {\r\n    hour: '2-digit',\r\n    minute: '2-digit',\r\n  });\r\n}\r\n\r\n/**\r\n * Format match score\r\n */\r\nexport function formatScore(\r\n  sets: Array<{ team1_games: number; team2_games: number }>\r\n): string {\r\n  return sets.map(s => `${s.team1_games}-${s.team2_games}`).join(' / ');\r\n}\r\n\r\n/**\r\n * Delay promise\r\n */\r\nexport function sleep(ms: number): Promise<void> {\r\n  return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\n/**\r\n * Generate idempotency key\r\n */\r\nexport function generateIdempotencyKey(): string {\r\n  return crypto.randomUUID();\r\n}\r\n\r\n/**\r\n * Truncate text with ellipsis\r\n */\r\nexport function truncate(text: string, length: number): string {\r\n  if (text.length <= length) return text;\r\n  return `${text.slice(0, length)}...`;\r\n}\r\n\r\n/**\r\n * Check if we're on mobile\r\n */\r\nexport function isMobile(): boolean {\r\n  return window.innerWidth < 768;\r\n}\r\n\r\n/**\r\n * Debounce function\r\n */\r\nexport function debounce<T extends (...args: Parameters<T>) => void>(\r\n  fn: T,\r\n  delay: number\r\n): (...args: Parameters<T>) => void {\r\n  let timeoutId: ReturnType<typeof setTimeout>;\r\n  return (...args: Parameters<T>) => {\r\n    clearTimeout(timeoutId);\r\n    timeoutId = setTimeout(() => fn(...args), delay);\r\n  };\r\n}\r\n\r\n","import { NavLink } from 'react-router-dom';\r\nimport { useUIStore } from '@/stores/uiStore';\r\nimport { useTenantStore, useIsAdmin } from '@/stores/tenantStore';\r\nimport { cn } from '@/lib/utils';\r\n\r\nconst navigation = [\r\n  { name: 'Dashboard', href: '/dashboard', icon: HomeIcon },\r\n  { name: 'Torneos', href: '/tournaments', icon: TrophyIcon },\r\n  { name: 'Partidos', href: '/matches', icon: CalendarIcon },\r\n  { name: 'Rankings', href: '/rankings', icon: ChartIcon },\r\n];\r\n\r\nconst adminNavigation = [\r\n  { name: 'Configuracin', href: '/settings', icon: SettingsIcon },\r\n];\r\n\r\nexport function Sidebar() {\r\n  const { sidebarOpen, toggleSidebar } = useUIStore();\r\n  const { currentTenant } = useTenantStore();\r\n  const isAdmin = useIsAdmin();\r\n\r\n  return (\r\n    <>\r\n      {/* Mobile overlay */}\r\n      <div\r\n        className={cn(\r\n          'fixed inset-0 z-40 bg-black/50 lg:hidden transition-opacity',\r\n          sidebarOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'\r\n        )}\r\n        onClick={toggleSidebar}\r\n      />\r\n\r\n      {/* Sidebar */}\r\n      <aside\r\n        className={cn(\r\n          'fixed top-0 left-0 z-50 h-full bg-surface-900 border-r border-surface-800',\r\n          'transition-all duration-300 ease-in-out',\r\n          'lg:translate-x-0',\r\n          sidebarOpen ? 'w-64 translate-x-0' : 'w-20 -translate-x-full lg:translate-x-0'\r\n        )}\r\n      >\r\n        {/* Logo */}\r\n        <div className=\"h-16 flex items-center justify-between px-4 border-b border-surface-800\">\r\n          <div className={cn('flex items-center gap-3', !sidebarOpen && 'lg:justify-center')}>\r\n            <div className=\"w-8 h-8 rounded-lg bg-primary-600 flex items-center justify-center\">\r\n              <span className=\"text-white font-bold\">P</span>\r\n            </div>\r\n            {sidebarOpen && (\r\n              <span className=\"font-display font-semibold text-surface-100\">\r\n                {currentTenant?.name ?? 'Padel'}\r\n              </span>\r\n            )}\r\n          </div>\r\n          <button\r\n            onClick={toggleSidebar}\r\n            className=\"p-2 rounded-lg hover:bg-surface-800 lg:hidden\"\r\n          >\r\n            <CloseIcon className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Navigation */}\r\n        <nav className=\"p-4 space-y-1\">\r\n          {navigation.map((item) => (\r\n            <NavLink\r\n              key={item.name}\r\n              to={item.href}\r\n              className={({ isActive }) =>\r\n                cn(\r\n                  'flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors',\r\n                  'text-surface-400 hover:text-surface-100 hover:bg-surface-800',\r\n                  isActive && 'bg-primary-600/10 text-primary-400',\r\n                  !sidebarOpen && 'lg:justify-center'\r\n                )\r\n              }\r\n            >\r\n              <item.icon className=\"w-5 h-5 flex-shrink-0\" />\r\n              {sidebarOpen && <span>{item.name}</span>}\r\n            </NavLink>\r\n          ))}\r\n\r\n          {/* Admin section */}\r\n          {isAdmin && (\r\n            <>\r\n              <div className=\"pt-4 mt-4 border-t border-surface-800\">\r\n                {sidebarOpen && (\r\n                  <span className=\"px-3 text-xs font-medium text-surface-500 uppercase\">\r\n                    Admin\r\n                  </span>\r\n                )}\r\n              </div>\r\n              {adminNavigation.map((item) => (\r\n                <NavLink\r\n                  key={item.name}\r\n                  to={item.href}\r\n                  className={({ isActive }) =>\r\n                    cn(\r\n                      'flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors',\r\n                      'text-surface-400 hover:text-surface-100 hover:bg-surface-800',\r\n                      isActive && 'bg-primary-600/10 text-primary-400',\r\n                      !sidebarOpen && 'lg:justify-center'\r\n                    )\r\n                  }\r\n                >\r\n                  <item.icon className=\"w-5 h-5 flex-shrink-0\" />\r\n                  {sidebarOpen && <span>{item.name}</span>}\r\n                </NavLink>\r\n              ))}\r\n            </>\r\n          )}\r\n        </nav>\r\n      </aside>\r\n    </>\r\n  );\r\n}\r\n\r\n// Icons (inline SVG components)\r\nfunction HomeIcon({ className }: { className?: string }) {\r\n  return (\r\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction TrophyIcon({ className }: { className?: string }) {\r\n  return (\r\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction CalendarIcon({ className }: { className?: string }) {\r\n  return (\r\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction ChartIcon({ className }: { className?: string }) {\r\n  return (\r\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction SettingsIcon({ className }: { className?: string }) {\r\n  return (\r\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction CloseIcon({ className }: { className?: string }) {\r\n  return (\r\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\n","import { createClient } from '@supabase/supabase-js';\r\nimport type { Database } from '@/types/database';\r\n\r\nconst supabaseUrl = import.meta.env.VITE_SUPABASE_URL;\r\nconst supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY;\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n  throw new Error('Missing Supabase environment variables');\r\n}\r\n\r\nexport const supabase = createClient<Database>(supabaseUrl, supabaseAnonKey, {\r\n  auth: {\r\n    autoRefreshToken: true,\r\n    persistSession: true,\r\n    detectSessionInUrl: true,\r\n    storage: localStorage,\r\n  },\r\n  global: {\r\n    headers: {\r\n      'x-app-version': import.meta.env.VITE_APP_VERSION ?? 'dev',\r\n    },\r\n  },\r\n});\r\n\r\n// Helper to get current session\r\nexport async function getSession() {\r\n  const { data: { session }, error } = await supabase.auth.getSession();\r\n  if (error) throw error;\r\n  return session;\r\n}\r\n\r\n// Helper to get current user\r\nexport async function getUser() {\r\n  const { data: { user }, error } = await supabase.auth.getUser();\r\n  if (error) throw error;\r\n  return user;\r\n}\r\n\r\n// Helper for authenticated API calls with tenant header\r\nexport async function fetchWithTenant<T>(\r\n  endpoint: string,\r\n  tenantId: string,\r\n  options: RequestInit = {}\r\n): Promise<T> {\r\n  const session = await getSession();\r\n  \r\n  if (!session) {\r\n    throw new Error('No authenticated session');\r\n  }\r\n\r\n  const response = await fetch(`${supabaseUrl}/functions/v1/${endpoint}`, {\r\n    ...options,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${session.access_token}`,\r\n      'X-Tenant-ID': tenantId,\r\n      ...options.headers,\r\n    },\r\n  });\r\n\r\n  if (!response.ok) {\r\n    const error = await response.json().catch(() => ({ message: 'Unknown error' }));\r\n    throw new ApiError(\r\n      error.error?.code ?? 'UNKNOWN_ERROR',\r\n      error.error?.message ?? 'An error occurred',\r\n      response.status\r\n    );\r\n  }\r\n\r\n  return response.json();\r\n}\r\n\r\n// Custom API Error\r\nexport class ApiError extends Error {\r\n  constructor(\r\n    public code: string,\r\n    message: string,\r\n    public status: number\r\n  ) {\r\n    super(message);\r\n    this.name = 'ApiError';\r\n  }\r\n}\r\n\r\n","import { useAuthStore } from '@/stores/authStore';\r\nimport { useTenantStore } from '@/stores/tenantStore';\r\nimport { useUIStore } from '@/stores/uiStore';\r\nimport { supabase } from '@/lib/supabase';\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { cn } from '@/lib/utils';\r\n\r\nexport function Header() {\r\n  const { user } = useAuthStore();\r\n  const { currentTenant, availableTenants, switchTenant } = useTenantStore();\r\n  const { toggleSidebar } = useUIStore();\r\n  const [dropdownOpen, setDropdownOpen] = useState(false);\r\n  const dropdownRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Close dropdown on outside click\r\n  useEffect(() => {\r\n    function handleClickOutside(event: MouseEvent) {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n        setDropdownOpen(false);\r\n      }\r\n    }\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  async function handleLogout() {\r\n    await supabase.auth.signOut();\r\n  }\r\n\r\n  return (\r\n    <header className=\"h-16 border-b border-surface-800 bg-surface-900/50 backdrop-blur-sm sticky top-0 z-30\">\r\n      <div className=\"h-full px-4 lg:px-8 flex items-center justify-between\">\r\n        {/* Left side */}\r\n        <div className=\"flex items-center gap-4\">\r\n          <button\r\n            onClick={toggleSidebar}\r\n            className=\"p-2 rounded-lg hover:bg-surface-800 lg:hidden\"\r\n          >\r\n            <MenuIcon className=\"w-5 h-5 text-surface-400\" />\r\n          </button>\r\n\r\n          {/* Tenant switcher */}\r\n          {availableTenants.length > 1 && (\r\n            <div className=\"relative\" ref={dropdownRef}>\r\n              <button\r\n                onClick={() => setDropdownOpen(!dropdownOpen)}\r\n                className=\"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-surface-800 hover:bg-surface-700 transition-colors\"\r\n              >\r\n                <span className=\"text-sm font-medium\">{currentTenant?.name}</span>\r\n                <ChevronDownIcon className=\"w-4 h-4 text-surface-400\" />\r\n              </button>\r\n\r\n              {dropdownOpen && (\r\n                <div className=\"absolute top-full left-0 mt-2 w-48 bg-surface-800 border border-surface-700 rounded-lg shadow-xl animate-fade-in\">\r\n                  {availableTenants.map((tenant) => (\r\n                    <button\r\n                      key={tenant.id}\r\n                      onClick={() => {\r\n                        switchTenant(tenant.id);\r\n                        setDropdownOpen(false);\r\n                      }}\r\n                      className={cn(\r\n                        'w-full px-4 py-2 text-left text-sm hover:bg-surface-700 first:rounded-t-lg last:rounded-b-lg',\r\n                        tenant.id === currentTenant?.id && 'bg-primary-600/10 text-primary-400'\r\n                      )}\r\n                    >\r\n                      {tenant.name}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Right side */}\r\n        <div className=\"flex items-center gap-4\">\r\n          {/* User menu */}\r\n          <div className=\"relative\" ref={dropdownRef}>\r\n            <button\r\n              onClick={() => setDropdownOpen(!dropdownOpen)}\r\n              className=\"flex items-center gap-3 p-1.5 rounded-lg hover:bg-surface-800 transition-colors\"\r\n            >\r\n              <div className=\"w-8 h-8 rounded-full bg-primary-600 flex items-center justify-center\">\r\n                <span className=\"text-sm font-medium text-white\">\r\n                  {user?.email?.[0]?.toUpperCase() ?? 'U'}\r\n                </span>\r\n              </div>\r\n              <span className=\"hidden sm:block text-sm text-surface-300\">\r\n                {user?.email}\r\n              </span>\r\n            </button>\r\n\r\n            {dropdownOpen && (\r\n              <div className=\"absolute top-full right-0 mt-2 w-48 bg-surface-800 border border-surface-700 rounded-lg shadow-xl animate-fade-in\">\r\n                <div className=\"px-4 py-3 border-b border-surface-700\">\r\n                  <p className=\"text-sm font-medium text-surface-100\">\r\n                    {user?.user_metadata?.['name'] ?? 'Usuario'}\r\n                  </p>\r\n                  <p className=\"text-xs text-surface-400 truncate\">\r\n                    {user?.email}\r\n                  </p>\r\n                </div>\r\n                <button\r\n                  onClick={handleLogout}\r\n                  className=\"w-full px-4 py-2 text-left text-sm text-red-400 hover:bg-surface-700 rounded-b-lg\"\r\n                >\r\n                  Cerrar sesin\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nfunction MenuIcon({ className }: { className?: string }) {\r\n  return (\r\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction ChevronDownIcon({ className }: { className?: string }) {\r\n  return (\r\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\n","import { Outlet } from 'react-router-dom';\r\nimport { Sidebar } from './Sidebar';\r\nimport { Header } from './Header';\r\nimport { useUIStore } from '@/stores/uiStore';\r\nimport { cn } from '@/lib/utils';\r\n\r\nexport function MainLayout() {\r\n  const { sidebarOpen } = useUIStore();\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-surface-950\">\r\n      {/* Sidebar */}\r\n      <Sidebar />\r\n\r\n      {/* Main content */}\r\n      <div\r\n        className={cn(\r\n          'transition-all duration-300',\r\n          sidebarOpen ? 'lg:pl-64' : 'lg:pl-20'\r\n        )}\r\n      >\r\n        <Header />\r\n        \r\n        <main className=\"p-4 lg:p-8\">\r\n          <Outlet />\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","export function LoadingScreen() {\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-surface-950\">\r\n      <div className=\"flex flex-col items-center gap-4\">\r\n        <div className=\"w-12 h-12 border-4 border-primary-600 border-t-transparent rounded-full animate-spin\" />\r\n        <p className=\"text-surface-400 text-sm\">Cargando...</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","/**\r\n * =============================================================================\r\n * SISTEMA DE ERRORES TIPADOS\r\n * =============================================================================\r\n * \r\n * Jerarqua de errores con mensajes humanos y cdigos machine-readable.\r\n * Cada error sabe cmo presentarse al usuario.\r\n */\r\n\r\n// =============================================================================\r\n// ERROR BASE\r\n// =============================================================================\r\n\r\nexport interface ErrorMetadata {\r\n  /** Cdigo machine-readable para tracking */\r\n  code: string;\r\n  /** HTTP status code */\r\n  status: number;\r\n  /** Mensaje tcnico (para logs) */\r\n  technicalMessage?: string;\r\n  /** Mensaje humano (para UI) */\r\n  userMessage: string;\r\n  /** Ttulo del banner */\r\n  userTitle: string;\r\n  /** Se puede reintentar? */\r\n  retryable: boolean;\r\n  /** Delay sugerido para retry (ms) */\r\n  retryDelay?: number;\r\n  /** Accin sugerida para el usuario */\r\n  suggestedAction?: string;\r\n  /** Request ID para soporte */\r\n  requestId?: string;\r\n  /** Contexto adicional */\r\n  context?: Record<string, unknown>;\r\n}\r\n\r\nexport class AppError extends Error {\r\n  public readonly code: string;\r\n  public readonly status: number;\r\n  public readonly userMessage: string;\r\n  public readonly userTitle: string;\r\n  public readonly retryable: boolean;\r\n  public readonly retryDelay: number;\r\n  public readonly suggestedAction?: string;\r\n  public readonly requestId?: string;\r\n  public readonly context?: Record<string, unknown>;\r\n  public readonly timestamp: Date;\r\n\r\n  constructor(metadata: ErrorMetadata) {\r\n    super(metadata.technicalMessage ?? metadata.userMessage);\r\n    this.name = 'AppError';\r\n    this.code = metadata.code;\r\n    this.status = metadata.status;\r\n    this.userMessage = metadata.userMessage;\r\n    this.userTitle = metadata.userTitle;\r\n    this.retryable = metadata.retryable;\r\n    this.retryDelay = metadata.retryDelay ?? 1000;\r\n    this.suggestedAction = metadata.suggestedAction;\r\n    this.requestId = metadata.requestId;\r\n    this.context = metadata.context;\r\n    this.timestamp = new Date();\r\n\r\n    // Mantener stack trace correcto\r\n    if (Error.captureStackTrace) {\r\n      Error.captureStackTrace(this, AppError);\r\n    }\r\n  }\r\n\r\n  /** Crear desde response de API */\r\n  static fromApiResponse(response: {\r\n    error?: {\r\n      code?: string;\r\n      message?: string;\r\n      requestId?: string;\r\n    };\r\n    status?: number;\r\n  }): AppError {\r\n    const code = response.error?.code ?? 'UNKNOWN_ERROR';\r\n    const message = response.error?.message ?? 'Ocurri un error inesperado';\r\n\r\n    return errorFromCode(code, {\r\n      technicalMessage: message,\r\n      requestId: response.error?.requestId,\r\n    });\r\n  }\r\n\r\n  /** Crear desde error de red */\r\n  static fromNetworkError(error: Error): AppError {\r\n    if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError')) {\r\n      return new NetworkError();\r\n    }\r\n    if (error.message.includes('timeout') || error.message.includes('Timeout')) {\r\n      return new TimeoutError();\r\n    }\r\n    return new AppError({\r\n      code: 'UNKNOWN_ERROR',\r\n      status: 0,\r\n      userTitle: 'Error',\r\n      userMessage: 'Ocurri un error inesperado. Por favor, intent de nuevo.',\r\n      retryable: true,\r\n      technicalMessage: error.message,\r\n    });\r\n  }\r\n\r\n  /** Serializar para logs */\r\n  toJSON(): Record<string, unknown> {\r\n    return {\r\n      name: this.name,\r\n      code: this.code,\r\n      status: this.status,\r\n      message: this.message,\r\n      userMessage: this.userMessage,\r\n      retryable: this.retryable,\r\n      requestId: this.requestId,\r\n      context: this.context,\r\n      timestamp: this.timestamp.toISOString(),\r\n    };\r\n  }\r\n}\r\n\r\n// =============================================================================\r\n// ERRORES ESPECFICOS\r\n// =============================================================================\r\n\r\n/** Error de autenticacin */\r\nexport class AuthenticationError extends AppError {\r\n  constructor(message?: string) {\r\n    super({\r\n      code: 'AUTHENTICATION_ERROR',\r\n      status: 401,\r\n      userTitle: 'Sesin expirada',\r\n      userMessage: message ?? 'Tu sesin expir. Por favor, inici sesin nuevamente.',\r\n      suggestedAction: 'Iniciar sesin',\r\n      retryable: false,\r\n    });\r\n    this.name = 'AuthenticationError';\r\n  }\r\n}\r\n\r\n/** Error de autorizacin */\r\nexport class AuthorizationError extends AppError {\r\n  constructor(message?: string) {\r\n    super({\r\n      code: 'AUTHORIZATION_ERROR',\r\n      status: 403,\r\n      userTitle: 'Sin permisos',\r\n      userMessage: message ?? 'No tens permisos para realizar esta accin.',\r\n      retryable: false,\r\n    });\r\n    this.name = 'AuthorizationError';\r\n  }\r\n}\r\n\r\n/** Recurso no encontrado */\r\nexport class NotFoundError extends AppError {\r\n  constructor(resource: string = 'recurso') {\r\n    super({\r\n      code: 'NOT_FOUND',\r\n      status: 404,\r\n      userTitle: 'No encontrado',\r\n      userMessage: `El ${resource} que buscs no existe o fue eliminado.`,\r\n      retryable: false,\r\n    });\r\n    this.name = 'NotFoundError';\r\n  }\r\n}\r\n\r\n/** Error de validacin */\r\nexport class ValidationError extends AppError {\r\n  public readonly fieldErrors: Record<string, string>;\r\n\r\n  constructor(message: string, fieldErrors: Record<string, string> = {}) {\r\n    super({\r\n      code: 'VALIDATION_ERROR',\r\n      status: 400,\r\n      userTitle: 'Datos invlidos',\r\n      userMessage: message,\r\n      retryable: false,\r\n      context: { fieldErrors },\r\n    });\r\n    this.name = 'ValidationError';\r\n    this.fieldErrors = fieldErrors;\r\n  }\r\n}\r\n\r\n/** Conflicto de estado */\r\nexport class ConflictError extends AppError {\r\n  constructor(message: string) {\r\n    super({\r\n      code: 'CONFLICT',\r\n      status: 409,\r\n      userTitle: 'Conflicto',\r\n      userMessage: message,\r\n      retryable: false,\r\n    });\r\n    this.name = 'ConflictError';\r\n  }\r\n}\r\n\r\n/** Rate limit excedido */\r\nexport class RateLimitError extends AppError {\r\n  public readonly retryAfter: number;\r\n\r\n  constructor(retryAfter: number = 60) {\r\n    super({\r\n      code: 'RATE_LIMIT',\r\n      status: 429,\r\n      userTitle: 'Demasiadas solicitudes',\r\n      userMessage: `Realizaste demasiadas solicitudes. Esper ${retryAfter} segundos.`,\r\n      retryable: true,\r\n      retryDelay: retryAfter * 1000,\r\n    });\r\n    this.name = 'RateLimitError';\r\n    this.retryAfter = retryAfter;\r\n  }\r\n}\r\n\r\n/** Error de red */\r\nexport class NetworkError extends AppError {\r\n  constructor() {\r\n    super({\r\n      code: 'NETWORK_ERROR',\r\n      status: 0,\r\n      userTitle: 'Sin conexin',\r\n      userMessage: 'No hay conexin a internet. Verific tu conexin y reintent.',\r\n      suggestedAction: 'Reintentar',\r\n      retryable: true,\r\n      retryDelay: 3000,\r\n    });\r\n    this.name = 'NetworkError';\r\n  }\r\n}\r\n\r\n/** Timeout */\r\nexport class TimeoutError extends AppError {\r\n  constructor() {\r\n    super({\r\n      code: 'TIMEOUT',\r\n      status: 408,\r\n      userTitle: 'Tiempo agotado',\r\n      userMessage: 'La solicitud tard demasiado. Por favor, intent de nuevo.',\r\n      suggestedAction: 'Reintentar',\r\n      retryable: true,\r\n      retryDelay: 2000,\r\n    });\r\n    this.name = 'TimeoutError';\r\n  }\r\n}\r\n\r\n/** Error del servidor */\r\nexport class ServerError extends AppError {\r\n  constructor(requestId?: string) {\r\n    super({\r\n      code: 'SERVER_ERROR',\r\n      status: 500,\r\n      userTitle: 'Error del servidor',\r\n      userMessage: 'Algo sali mal de nuestro lado. Estamos trabajando para solucionarlo.',\r\n      suggestedAction: 'Reintentar',\r\n      retryable: true,\r\n      retryDelay: 5000,\r\n      requestId,\r\n    });\r\n    this.name = 'ServerError';\r\n  }\r\n}\r\n\r\n/** Mantenimiento */\r\nexport class MaintenanceError extends AppError {\r\n  constructor() {\r\n    super({\r\n      code: 'MAINTENANCE',\r\n      status: 503,\r\n      userTitle: 'En mantenimiento',\r\n      userMessage: 'Estamos realizando mejoras. Volv en unos minutos.',\r\n      retryable: true,\r\n      retryDelay: 60000,\r\n    });\r\n    this.name = 'MaintenanceError';\r\n  }\r\n}\r\n\r\n// =============================================================================\r\n// FACTORY DESDE CDIGO\r\n// =============================================================================\r\n\r\nexport function errorFromCode(\r\n  code: string,\r\n  options: {\r\n    technicalMessage?: string;\r\n    requestId?: string;\r\n    retryAfter?: number;\r\n  } = {}\r\n): AppError {\r\n  switch (code) {\r\n    case 'UNAUTHORIZED':\r\n    case 'AUTHENTICATION_ERROR':\r\n      return new AuthenticationError(options.technicalMessage);\r\n\r\n    case 'FORBIDDEN':\r\n    case 'AUTHORIZATION_ERROR':\r\n      return new AuthorizationError(options.technicalMessage);\r\n\r\n    case 'NOT_FOUND':\r\n      return new NotFoundError();\r\n\r\n    case 'VALIDATION_ERROR':\r\n      return new ValidationError(options.technicalMessage ?? 'Datos invlidos');\r\n\r\n    case 'CONFLICT':\r\n      return new ConflictError(options.technicalMessage ?? 'Conflicto de estado');\r\n\r\n    case 'RATE_LIMIT':\r\n      return new RateLimitError(options.retryAfter);\r\n\r\n    case 'NETWORK_ERROR':\r\n      return new NetworkError();\r\n\r\n    case 'TIMEOUT':\r\n      return new TimeoutError();\r\n\r\n    case 'MAINTENANCE':\r\n      return new MaintenanceError();\r\n\r\n    case 'SERVER_ERROR':\r\n    case 'INTERNAL_ERROR':\r\n    default:\r\n      return new ServerError(options.requestId);\r\n  }\r\n}\r\n\r\n// =============================================================================\r\n// TYPE GUARDS\r\n// =============================================================================\r\n\r\nexport function isAppError(error: unknown): error is AppError {\r\n  return error instanceof AppError;\r\n}\r\n\r\nexport function isNetworkError(error: unknown): error is NetworkError {\r\n  return error instanceof NetworkError;\r\n}\r\n\r\nexport function isAuthError(error: unknown): error is AuthenticationError | AuthorizationError {\r\n  return error instanceof AuthenticationError || error instanceof AuthorizationError;\r\n}\r\n\r\nexport function isRetryableError(error: unknown): boolean {\r\n  if (isAppError(error)) {\r\n    return error.retryable;\r\n  }\r\n  return false;\r\n}\r\n\r\n","export var util;\n(function (util) {\n    util.assertEqual = (_) => { };\n    function assertIs(_arg) { }\n    util.assertIs = assertIs;\n    function assertNever(_x) {\n        throw new Error();\n    }\n    util.assertNever = assertNever;\n    util.arrayToEnum = (items) => {\n        const obj = {};\n        for (const item of items) {\n            obj[item] = item;\n        }\n        return obj;\n    };\n    util.getValidEnumValues = (obj) => {\n        const validKeys = util.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== \"number\");\n        const filtered = {};\n        for (const k of validKeys) {\n            filtered[k] = obj[k];\n        }\n        return util.objectValues(filtered);\n    };\n    util.objectValues = (obj) => {\n        return util.objectKeys(obj).map(function (e) {\n            return obj[e];\n        });\n    };\n    util.objectKeys = typeof Object.keys === \"function\" // eslint-disable-line ban/ban\n        ? (obj) => Object.keys(obj) // eslint-disable-line ban/ban\n        : (object) => {\n            const keys = [];\n            for (const key in object) {\n                if (Object.prototype.hasOwnProperty.call(object, key)) {\n                    keys.push(key);\n                }\n            }\n            return keys;\n        };\n    util.find = (arr, checker) => {\n        for (const item of arr) {\n            if (checker(item))\n                return item;\n        }\n        return undefined;\n    };\n    util.isInteger = typeof Number.isInteger === \"function\"\n        ? (val) => Number.isInteger(val) // eslint-disable-line ban/ban\n        : (val) => typeof val === \"number\" && Number.isFinite(val) && Math.floor(val) === val;\n    function joinValues(array, separator = \" | \") {\n        return array.map((val) => (typeof val === \"string\" ? `'${val}'` : val)).join(separator);\n    }\n    util.joinValues = joinValues;\n    util.jsonStringifyReplacer = (_, value) => {\n        if (typeof value === \"bigint\") {\n            return value.toString();\n        }\n        return value;\n    };\n})(util || (util = {}));\nexport var objectUtil;\n(function (objectUtil) {\n    objectUtil.mergeShapes = (first, second) => {\n        return {\n            ...first,\n            ...second, // second overwrites first\n        };\n    };\n})(objectUtil || (objectUtil = {}));\nexport const ZodParsedType = util.arrayToEnum([\n    \"string\",\n    \"nan\",\n    \"number\",\n    \"integer\",\n    \"float\",\n    \"boolean\",\n    \"date\",\n    \"bigint\",\n    \"symbol\",\n    \"function\",\n    \"undefined\",\n    \"null\",\n    \"array\",\n    \"object\",\n    \"unknown\",\n    \"promise\",\n    \"void\",\n    \"never\",\n    \"map\",\n    \"set\",\n]);\nexport const getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return ZodParsedType.undefined;\n        case \"string\":\n            return ZodParsedType.string;\n        case \"number\":\n            return Number.isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;\n        case \"boolean\":\n            return ZodParsedType.boolean;\n        case \"function\":\n            return ZodParsedType.function;\n        case \"bigint\":\n            return ZodParsedType.bigint;\n        case \"symbol\":\n            return ZodParsedType.symbol;\n        case \"object\":\n            if (Array.isArray(data)) {\n                return ZodParsedType.array;\n            }\n            if (data === null) {\n                return ZodParsedType.null;\n            }\n            if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n                return ZodParsedType.promise;\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return ZodParsedType.map;\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return ZodParsedType.set;\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return ZodParsedType.date;\n            }\n            return ZodParsedType.object;\n        default:\n            return ZodParsedType.unknown;\n    }\n};\n","import { util } from \"./helpers/util.js\";\nexport const ZodIssueCode = util.arrayToEnum([\n    \"invalid_type\",\n    \"invalid_literal\",\n    \"custom\",\n    \"invalid_union\",\n    \"invalid_union_discriminator\",\n    \"invalid_enum_value\",\n    \"unrecognized_keys\",\n    \"invalid_arguments\",\n    \"invalid_return_type\",\n    \"invalid_date\",\n    \"invalid_string\",\n    \"too_small\",\n    \"too_big\",\n    \"invalid_intersection_types\",\n    \"not_multiple_of\",\n    \"not_finite\",\n]);\nexport const quotelessJson = (obj) => {\n    const json = JSON.stringify(obj, null, 2);\n    return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n};\nexport class ZodError extends Error {\n    get errors() {\n        return this.issues;\n    }\n    constructor(issues) {\n        super();\n        this.issues = [];\n        this.addIssue = (sub) => {\n            this.issues = [...this.issues, sub];\n        };\n        this.addIssues = (subs = []) => {\n            this.issues = [...this.issues, ...subs];\n        };\n        const actualProto = new.target.prototype;\n        if (Object.setPrototypeOf) {\n            // eslint-disable-next-line ban/ban\n            Object.setPrototypeOf(this, actualProto);\n        }\n        else {\n            this.__proto__ = actualProto;\n        }\n        this.name = \"ZodError\";\n        this.issues = issues;\n    }\n    format(_mapper) {\n        const mapper = _mapper ||\n            function (issue) {\n                return issue.message;\n            };\n        const fieldErrors = { _errors: [] };\n        const processError = (error) => {\n            for (const issue of error.issues) {\n                if (issue.code === \"invalid_union\") {\n                    issue.unionErrors.map(processError);\n                }\n                else if (issue.code === \"invalid_return_type\") {\n                    processError(issue.returnTypeError);\n                }\n                else if (issue.code === \"invalid_arguments\") {\n                    processError(issue.argumentsError);\n                }\n                else if (issue.path.length === 0) {\n                    fieldErrors._errors.push(mapper(issue));\n                }\n                else {\n                    let curr = fieldErrors;\n                    let i = 0;\n                    while (i < issue.path.length) {\n                        const el = issue.path[i];\n                        const terminal = i === issue.path.length - 1;\n                        if (!terminal) {\n                            curr[el] = curr[el] || { _errors: [] };\n                            // if (typeof el === \"string\") {\n                            //   curr[el] = curr[el] || { _errors: [] };\n                            // } else if (typeof el === \"number\") {\n                            //   const errorArray: any = [];\n                            //   errorArray._errors = [];\n                            //   curr[el] = curr[el] || errorArray;\n                            // }\n                        }\n                        else {\n                            curr[el] = curr[el] || { _errors: [] };\n                            curr[el]._errors.push(mapper(issue));\n                        }\n                        curr = curr[el];\n                        i++;\n                    }\n                }\n            }\n        };\n        processError(this);\n        return fieldErrors;\n    }\n    static assert(value) {\n        if (!(value instanceof ZodError)) {\n            throw new Error(`Not a ZodError: ${value}`);\n        }\n    }\n    toString() {\n        return this.message;\n    }\n    get message() {\n        return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);\n    }\n    get isEmpty() {\n        return this.issues.length === 0;\n    }\n    flatten(mapper = (issue) => issue.message) {\n        const fieldErrors = {};\n        const formErrors = [];\n        for (const sub of this.issues) {\n            if (sub.path.length > 0) {\n                const firstEl = sub.path[0];\n                fieldErrors[firstEl] = fieldErrors[firstEl] || [];\n                fieldErrors[firstEl].push(mapper(sub));\n            }\n            else {\n                formErrors.push(mapper(sub));\n            }\n        }\n        return { formErrors, fieldErrors };\n    }\n    get formErrors() {\n        return this.flatten();\n    }\n}\nZodError.create = (issues) => {\n    const error = new ZodError(issues);\n    return error;\n};\n","import { ZodIssueCode } from \"../ZodError.js\";\nimport { util, ZodParsedType } from \"../helpers/util.js\";\nconst errorMap = (issue, _ctx) => {\n    let message;\n    switch (issue.code) {\n        case ZodIssueCode.invalid_type:\n            if (issue.received === ZodParsedType.undefined) {\n                message = \"Required\";\n            }\n            else {\n                message = `Expected ${issue.expected}, received ${issue.received}`;\n            }\n            break;\n        case ZodIssueCode.invalid_literal:\n            message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util.jsonStringifyReplacer)}`;\n            break;\n        case ZodIssueCode.unrecognized_keys:\n            message = `Unrecognized key(s) in object: ${util.joinValues(issue.keys, \", \")}`;\n            break;\n        case ZodIssueCode.invalid_union:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_union_discriminator:\n            message = `Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;\n            break;\n        case ZodIssueCode.invalid_enum_value:\n            message = `Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;\n            break;\n        case ZodIssueCode.invalid_arguments:\n            message = `Invalid function arguments`;\n            break;\n        case ZodIssueCode.invalid_return_type:\n            message = `Invalid function return type`;\n            break;\n        case ZodIssueCode.invalid_date:\n            message = `Invalid date`;\n            break;\n        case ZodIssueCode.invalid_string:\n            if (typeof issue.validation === \"object\") {\n                if (\"includes\" in issue.validation) {\n                    message = `Invalid input: must include \"${issue.validation.includes}\"`;\n                    if (typeof issue.validation.position === \"number\") {\n                        message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n                    }\n                }\n                else if (\"startsWith\" in issue.validation) {\n                    message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n                }\n                else if (\"endsWith\" in issue.validation) {\n                    message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n                }\n                else {\n                    util.assertNever(issue.validation);\n                }\n            }\n            else if (issue.validation !== \"regex\") {\n                message = `Invalid ${issue.validation}`;\n            }\n            else {\n                message = \"Invalid\";\n            }\n            break;\n        case ZodIssueCode.too_small:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"bigint\")\n                message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${new Date(Number(issue.minimum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.too_big:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"bigint\")\n                message = `BigInt must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact ? `exactly` : issue.inclusive ? `smaller than or equal to` : `smaller than`} ${new Date(Number(issue.maximum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.custom:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_intersection_types:\n            message = `Intersection results could not be merged`;\n            break;\n        case ZodIssueCode.not_multiple_of:\n            message = `Number must be a multiple of ${issue.multipleOf}`;\n            break;\n        case ZodIssueCode.not_finite:\n            message = \"Number must be finite\";\n            break;\n        default:\n            message = _ctx.defaultError;\n            util.assertNever(issue);\n    }\n    return { message };\n};\nexport default errorMap;\n","import defaultErrorMap from \"./locales/en.js\";\nlet overrideErrorMap = defaultErrorMap;\nexport { defaultErrorMap };\nexport function setErrorMap(map) {\n    overrideErrorMap = map;\n}\nexport function getErrorMap() {\n    return overrideErrorMap;\n}\n","import { getErrorMap } from \"../errors.js\";\nimport defaultErrorMap from \"../locales/en.js\";\nexport const makeIssue = (params) => {\n    const { data, path, errorMaps, issueData } = params;\n    const fullPath = [...path, ...(issueData.path || [])];\n    const fullIssue = {\n        ...issueData,\n        path: fullPath,\n    };\n    if (issueData.message !== undefined) {\n        return {\n            ...issueData,\n            path: fullPath,\n            message: issueData.message,\n        };\n    }\n    let errorMessage = \"\";\n    const maps = errorMaps\n        .filter((m) => !!m)\n        .slice()\n        .reverse();\n    for (const map of maps) {\n        errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n    }\n    return {\n        ...issueData,\n        path: fullPath,\n        message: errorMessage,\n    };\n};\nexport const EMPTY_PATH = [];\nexport function addIssueToContext(ctx, issueData) {\n    const overrideMap = getErrorMap();\n    const issue = makeIssue({\n        issueData: issueData,\n        data: ctx.data,\n        path: ctx.path,\n        errorMaps: [\n            ctx.common.contextualErrorMap, // contextual error map is first priority\n            ctx.schemaErrorMap, // then schema-bound map if available\n            overrideMap, // then global override map\n            overrideMap === defaultErrorMap ? undefined : defaultErrorMap, // then global default map\n        ].filter((x) => !!x),\n    });\n    ctx.common.issues.push(issue);\n}\nexport class ParseStatus {\n    constructor() {\n        this.value = \"valid\";\n    }\n    dirty() {\n        if (this.value === \"valid\")\n            this.value = \"dirty\";\n    }\n    abort() {\n        if (this.value !== \"aborted\")\n            this.value = \"aborted\";\n    }\n    static mergeArray(status, results) {\n        const arrayValue = [];\n        for (const s of results) {\n            if (s.status === \"aborted\")\n                return INVALID;\n            if (s.status === \"dirty\")\n                status.dirty();\n            arrayValue.push(s.value);\n        }\n        return { status: status.value, value: arrayValue };\n    }\n    static async mergeObjectAsync(status, pairs) {\n        const syncPairs = [];\n        for (const pair of pairs) {\n            const key = await pair.key;\n            const value = await pair.value;\n            syncPairs.push({\n                key,\n                value,\n            });\n        }\n        return ParseStatus.mergeObjectSync(status, syncPairs);\n    }\n    static mergeObjectSync(status, pairs) {\n        const finalObject = {};\n        for (const pair of pairs) {\n            const { key, value } = pair;\n            if (key.status === \"aborted\")\n                return INVALID;\n            if (value.status === \"aborted\")\n                return INVALID;\n            if (key.status === \"dirty\")\n                status.dirty();\n            if (value.status === \"dirty\")\n                status.dirty();\n            if (key.value !== \"__proto__\" && (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n                finalObject[key.value] = value.value;\n            }\n        }\n        return { status: status.value, value: finalObject };\n    }\n}\nexport const INVALID = Object.freeze({\n    status: \"aborted\",\n});\nexport const DIRTY = (value) => ({ status: \"dirty\", value });\nexport const OK = (value) => ({ status: \"valid\", value });\nexport const isAborted = (x) => x.status === \"aborted\";\nexport const isDirty = (x) => x.status === \"dirty\";\nexport const isValid = (x) => x.status === \"valid\";\nexport const isAsync = (x) => typeof Promise !== \"undefined\" && x instanceof Promise;\n","export var errorUtil;\n(function (errorUtil) {\n    errorUtil.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n    // biome-ignore lint:\n    errorUtil.toString = (message) => typeof message === \"string\" ? message : message?.message;\n})(errorUtil || (errorUtil = {}));\n","import { ZodError, ZodIssueCode, } from \"./ZodError.js\";\nimport { defaultErrorMap, getErrorMap } from \"./errors.js\";\nimport { errorUtil } from \"./helpers/errorUtil.js\";\nimport { DIRTY, INVALID, OK, ParseStatus, addIssueToContext, isAborted, isAsync, isDirty, isValid, makeIssue, } from \"./helpers/parseUtil.js\";\nimport { util, ZodParsedType, getParsedType } from \"./helpers/util.js\";\nclass ParseInputLazyPath {\n    constructor(parent, value, path, key) {\n        this._cachedPath = [];\n        this.parent = parent;\n        this.data = value;\n        this._path = path;\n        this._key = key;\n    }\n    get path() {\n        if (!this._cachedPath.length) {\n            if (Array.isArray(this._key)) {\n                this._cachedPath.push(...this._path, ...this._key);\n            }\n            else {\n                this._cachedPath.push(...this._path, this._key);\n            }\n        }\n        return this._cachedPath;\n    }\n}\nconst handleResult = (ctx, result) => {\n    if (isValid(result)) {\n        return { success: true, data: result.value };\n    }\n    else {\n        if (!ctx.common.issues.length) {\n            throw new Error(\"Validation failed but no issues detected.\");\n        }\n        return {\n            success: false,\n            get error() {\n                if (this._error)\n                    return this._error;\n                const error = new ZodError(ctx.common.issues);\n                this._error = error;\n                return this._error;\n            },\n        };\n    }\n};\nfunction processCreateParams(params) {\n    if (!params)\n        return {};\n    const { errorMap, invalid_type_error, required_error, description } = params;\n    if (errorMap && (invalid_type_error || required_error)) {\n        throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n    }\n    if (errorMap)\n        return { errorMap: errorMap, description };\n    const customMap = (iss, ctx) => {\n        const { message } = params;\n        if (iss.code === \"invalid_enum_value\") {\n            return { message: message ?? ctx.defaultError };\n        }\n        if (typeof ctx.data === \"undefined\") {\n            return { message: message ?? required_error ?? ctx.defaultError };\n        }\n        if (iss.code !== \"invalid_type\")\n            return { message: ctx.defaultError };\n        return { message: message ?? invalid_type_error ?? ctx.defaultError };\n    };\n    return { errorMap: customMap, description };\n}\nexport class ZodType {\n    get description() {\n        return this._def.description;\n    }\n    _getType(input) {\n        return getParsedType(input.data);\n    }\n    _getOrReturnCtx(input, ctx) {\n        return (ctx || {\n            common: input.parent.common,\n            data: input.data,\n            parsedType: getParsedType(input.data),\n            schemaErrorMap: this._def.errorMap,\n            path: input.path,\n            parent: input.parent,\n        });\n    }\n    _processInputParams(input) {\n        return {\n            status: new ParseStatus(),\n            ctx: {\n                common: input.parent.common,\n                data: input.data,\n                parsedType: getParsedType(input.data),\n                schemaErrorMap: this._def.errorMap,\n                path: input.path,\n                parent: input.parent,\n            },\n        };\n    }\n    _parseSync(input) {\n        const result = this._parse(input);\n        if (isAsync(result)) {\n            throw new Error(\"Synchronous parse encountered promise.\");\n        }\n        return result;\n    }\n    _parseAsync(input) {\n        const result = this._parse(input);\n        return Promise.resolve(result);\n    }\n    parse(data, params) {\n        const result = this.safeParse(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    safeParse(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                async: params?.async ?? false,\n                contextualErrorMap: params?.errorMap,\n            },\n            path: params?.path || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n        return handleResult(ctx, result);\n    }\n    \"~validate\"(data) {\n        const ctx = {\n            common: {\n                issues: [],\n                async: !!this[\"~standard\"].async,\n            },\n            path: [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        if (!this[\"~standard\"].async) {\n            try {\n                const result = this._parseSync({ data, path: [], parent: ctx });\n                return isValid(result)\n                    ? {\n                        value: result.value,\n                    }\n                    : {\n                        issues: ctx.common.issues,\n                    };\n            }\n            catch (err) {\n                if (err?.message?.toLowerCase()?.includes(\"encountered\")) {\n                    this[\"~standard\"].async = true;\n                }\n                ctx.common = {\n                    issues: [],\n                    async: true,\n                };\n            }\n        }\n        return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result)\n            ? {\n                value: result.value,\n            }\n            : {\n                issues: ctx.common.issues,\n            });\n    }\n    async parseAsync(data, params) {\n        const result = await this.safeParseAsync(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    async safeParseAsync(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                contextualErrorMap: params?.errorMap,\n                async: true,\n            },\n            path: params?.path || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n        const result = await (isAsync(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));\n        return handleResult(ctx, result);\n    }\n    refine(check, message) {\n        const getIssueProperties = (val) => {\n            if (typeof message === \"string\" || typeof message === \"undefined\") {\n                return { message };\n            }\n            else if (typeof message === \"function\") {\n                return message(val);\n            }\n            else {\n                return message;\n            }\n        };\n        return this._refinement((val, ctx) => {\n            const result = check(val);\n            const setError = () => ctx.addIssue({\n                code: ZodIssueCode.custom,\n                ...getIssueProperties(val),\n            });\n            if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n                return result.then((data) => {\n                    if (!data) {\n                        setError();\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                });\n            }\n            if (!result) {\n                setError();\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    refinement(check, refinementData) {\n        return this._refinement((val, ctx) => {\n            if (!check(val)) {\n                ctx.addIssue(typeof refinementData === \"function\" ? refinementData(val, ctx) : refinementData);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    _refinement(refinement) {\n        return new ZodEffects({\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"refinement\", refinement },\n        });\n    }\n    superRefine(refinement) {\n        return this._refinement(refinement);\n    }\n    constructor(def) {\n        /** Alias of safeParseAsync */\n        this.spa = this.safeParseAsync;\n        this._def = def;\n        this.parse = this.parse.bind(this);\n        this.safeParse = this.safeParse.bind(this);\n        this.parseAsync = this.parseAsync.bind(this);\n        this.safeParseAsync = this.safeParseAsync.bind(this);\n        this.spa = this.spa.bind(this);\n        this.refine = this.refine.bind(this);\n        this.refinement = this.refinement.bind(this);\n        this.superRefine = this.superRefine.bind(this);\n        this.optional = this.optional.bind(this);\n        this.nullable = this.nullable.bind(this);\n        this.nullish = this.nullish.bind(this);\n        this.array = this.array.bind(this);\n        this.promise = this.promise.bind(this);\n        this.or = this.or.bind(this);\n        this.and = this.and.bind(this);\n        this.transform = this.transform.bind(this);\n        this.brand = this.brand.bind(this);\n        this.default = this.default.bind(this);\n        this.catch = this.catch.bind(this);\n        this.describe = this.describe.bind(this);\n        this.pipe = this.pipe.bind(this);\n        this.readonly = this.readonly.bind(this);\n        this.isNullable = this.isNullable.bind(this);\n        this.isOptional = this.isOptional.bind(this);\n        this[\"~standard\"] = {\n            version: 1,\n            vendor: \"zod\",\n            validate: (data) => this[\"~validate\"](data),\n        };\n    }\n    optional() {\n        return ZodOptional.create(this, this._def);\n    }\n    nullable() {\n        return ZodNullable.create(this, this._def);\n    }\n    nullish() {\n        return this.nullable().optional();\n    }\n    array() {\n        return ZodArray.create(this);\n    }\n    promise() {\n        return ZodPromise.create(this, this._def);\n    }\n    or(option) {\n        return ZodUnion.create([this, option], this._def);\n    }\n    and(incoming) {\n        return ZodIntersection.create(this, incoming, this._def);\n    }\n    transform(transform) {\n        return new ZodEffects({\n            ...processCreateParams(this._def),\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"transform\", transform },\n        });\n    }\n    default(def) {\n        const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodDefault({\n            ...processCreateParams(this._def),\n            innerType: this,\n            defaultValue: defaultValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodDefault,\n        });\n    }\n    brand() {\n        return new ZodBranded({\n            typeName: ZodFirstPartyTypeKind.ZodBranded,\n            type: this,\n            ...processCreateParams(this._def),\n        });\n    }\n    catch(def) {\n        const catchValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodCatch({\n            ...processCreateParams(this._def),\n            innerType: this,\n            catchValue: catchValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodCatch,\n        });\n    }\n    describe(description) {\n        const This = this.constructor;\n        return new This({\n            ...this._def,\n            description,\n        });\n    }\n    pipe(target) {\n        return ZodPipeline.create(this, target);\n    }\n    readonly() {\n        return ZodReadonly.create(this);\n    }\n    isOptional() {\n        return this.safeParse(undefined).success;\n    }\n    isNullable() {\n        return this.safeParse(null).success;\n    }\n}\nconst cuidRegex = /^c[^\\s-]{8,}$/i;\nconst cuid2Regex = /^[0-9a-z]+$/;\nconst ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;\n// const uuidRegex =\n//   /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;\nconst uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\nconst nanoidRegex = /^[a-z0-9_-]{21}$/i;\nconst jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;\nconst durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n// from https://stackoverflow.com/a/46181/1550155\n// old version: too slow, didn't support unicode\n// const emailRegex = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i;\n//old email regex\n// const emailRegex = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@((?!-)([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{1,})[^-<>()[\\].,;:\\s@\"]$/i;\n// eslint-disable-next-line\n// const emailRegex =\n//   /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$/;\n// const emailRegex =\n//   /^[a-zA-Z0-9\\.\\!\\#\\$\\%\\&\\'\\*\\+\\/\\=\\?\\^\\_\\`\\{\\|\\}\\~\\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// const emailRegex =\n//   /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\nconst emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\n// const emailRegex =\n//   /^[a-z0-9.!#$%&*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\\.[a-z0-9\\-]+)*$/i;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nlet emojiRegex;\n// faster, simpler, safer\nconst ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nconst ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/;\n// const ipv6Regex =\n// /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;\nconst ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\nconst ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nconst base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;\n// https://base64.guru/standards/base64url\nconst base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;\n// simple\n// const dateRegexSource = `\\\\d{4}-\\\\d{2}-\\\\d{2}`;\n// no leap year validation\n// const dateRegexSource = `\\\\d{4}-((0[13578]|10|12)-31|(0[13-9]|1[0-2])-30|(0[1-9]|1[0-2])-(0[1-9]|1\\\\d|2\\\\d))`;\n// with leap year validation\nconst dateRegexSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateRegex = new RegExp(`^${dateRegexSource}$`);\nfunction timeRegexSource(args) {\n    let secondsRegexSource = `[0-5]\\\\d`;\n    if (args.precision) {\n        secondsRegexSource = `${secondsRegexSource}\\\\.\\\\d{${args.precision}}`;\n    }\n    else if (args.precision == null) {\n        secondsRegexSource = `${secondsRegexSource}(\\\\.\\\\d+)?`;\n    }\n    const secondsQuantifier = args.precision ? \"+\" : \"?\"; // require seconds if precision is nonzero\n    return `([01]\\\\d|2[0-3]):[0-5]\\\\d(:${secondsRegexSource})${secondsQuantifier}`;\n}\nfunction timeRegex(args) {\n    return new RegExp(`^${timeRegexSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nexport function datetimeRegex(args) {\n    let regex = `${dateRegexSource}T${timeRegexSource(args)}`;\n    const opts = [];\n    opts.push(args.local ? `Z?` : `Z`);\n    if (args.offset)\n        opts.push(`([+-]\\\\d{2}:?\\\\d{2})`);\n    regex = `${regex}(${opts.join(\"|\")})`;\n    return new RegExp(`^${regex}$`);\n}\nfunction isValidIP(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nfunction isValidJWT(jwt, alg) {\n    if (!jwtRegex.test(jwt))\n        return false;\n    try {\n        const [header] = jwt.split(\".\");\n        if (!header)\n            return false;\n        // Convert base64url to base64\n        const base64 = header\n            .replace(/-/g, \"+\")\n            .replace(/_/g, \"/\")\n            .padEnd(header.length + ((4 - (header.length % 4)) % 4), \"=\");\n        const decoded = JSON.parse(atob(base64));\n        if (typeof decoded !== \"object\" || decoded === null)\n            return false;\n        if (\"typ\" in decoded && decoded?.typ !== \"JWT\")\n            return false;\n        if (!decoded.alg)\n            return false;\n        if (alg && decoded.alg !== alg)\n            return false;\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nfunction isValidCidr(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4CidrRegex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6CidrRegex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nexport class ZodString extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = String(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.string) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.string,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.length < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.length > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"length\") {\n                const tooBig = input.data.length > check.value;\n                const tooSmall = input.data.length < check.value;\n                if (tooBig || tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    if (tooBig) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_big,\n                            maximum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    else if (tooSmall) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_small,\n                            minimum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"email\") {\n                if (!emailRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"email\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"emoji\") {\n                if (!emojiRegex) {\n                    emojiRegex = new RegExp(_emojiRegex, \"u\");\n                }\n                if (!emojiRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"emoji\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"uuid\") {\n                if (!uuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"uuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"nanoid\") {\n                if (!nanoidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"nanoid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid\") {\n                if (!cuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid2\") {\n                if (!cuid2Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid2\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ulid\") {\n                if (!ulidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ulid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"url\") {\n                try {\n                    new URL(input.data);\n                }\n                catch {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"regex\") {\n                check.regex.lastIndex = 0;\n                const testResult = check.regex.test(input.data);\n                if (!testResult) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"regex\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"trim\") {\n                input.data = input.data.trim();\n            }\n            else if (check.kind === \"includes\") {\n                if (!input.data.includes(check.value, check.position)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { includes: check.value, position: check.position },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"toLowerCase\") {\n                input.data = input.data.toLowerCase();\n            }\n            else if (check.kind === \"toUpperCase\") {\n                input.data = input.data.toUpperCase();\n            }\n            else if (check.kind === \"startsWith\") {\n                if (!input.data.startsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { startsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"endsWith\") {\n                if (!input.data.endsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { endsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"datetime\") {\n                const regex = datetimeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"datetime\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"date\") {\n                const regex = dateRegex;\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"date\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"time\") {\n                const regex = timeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"time\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"duration\") {\n                if (!durationRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"duration\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ip\") {\n                if (!isValidIP(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ip\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"jwt\") {\n                if (!isValidJWT(input.data, check.alg)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"jwt\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cidr\") {\n                if (!isValidCidr(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cidr\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64\") {\n                if (!base64Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64url\") {\n                if (!base64urlRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _regex(regex, validation, message) {\n        return this.refinement((data) => regex.test(data), {\n            validation,\n            code: ZodIssueCode.invalid_string,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    _addCheck(check) {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    email(message) {\n        return this._addCheck({ kind: \"email\", ...errorUtil.errToObj(message) });\n    }\n    url(message) {\n        return this._addCheck({ kind: \"url\", ...errorUtil.errToObj(message) });\n    }\n    emoji(message) {\n        return this._addCheck({ kind: \"emoji\", ...errorUtil.errToObj(message) });\n    }\n    uuid(message) {\n        return this._addCheck({ kind: \"uuid\", ...errorUtil.errToObj(message) });\n    }\n    nanoid(message) {\n        return this._addCheck({ kind: \"nanoid\", ...errorUtil.errToObj(message) });\n    }\n    cuid(message) {\n        return this._addCheck({ kind: \"cuid\", ...errorUtil.errToObj(message) });\n    }\n    cuid2(message) {\n        return this._addCheck({ kind: \"cuid2\", ...errorUtil.errToObj(message) });\n    }\n    ulid(message) {\n        return this._addCheck({ kind: \"ulid\", ...errorUtil.errToObj(message) });\n    }\n    base64(message) {\n        return this._addCheck({ kind: \"base64\", ...errorUtil.errToObj(message) });\n    }\n    base64url(message) {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return this._addCheck({\n            kind: \"base64url\",\n            ...errorUtil.errToObj(message),\n        });\n    }\n    jwt(options) {\n        return this._addCheck({ kind: \"jwt\", ...errorUtil.errToObj(options) });\n    }\n    ip(options) {\n        return this._addCheck({ kind: \"ip\", ...errorUtil.errToObj(options) });\n    }\n    cidr(options) {\n        return this._addCheck({ kind: \"cidr\", ...errorUtil.errToObj(options) });\n    }\n    datetime(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"datetime\",\n                precision: null,\n                offset: false,\n                local: false,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"datetime\",\n            precision: typeof options?.precision === \"undefined\" ? null : options?.precision,\n            offset: options?.offset ?? false,\n            local: options?.local ?? false,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    date(message) {\n        return this._addCheck({ kind: \"date\", message });\n    }\n    time(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"time\",\n                precision: null,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"time\",\n            precision: typeof options?.precision === \"undefined\" ? null : options?.precision,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    duration(message) {\n        return this._addCheck({ kind: \"duration\", ...errorUtil.errToObj(message) });\n    }\n    regex(regex, message) {\n        return this._addCheck({\n            kind: \"regex\",\n            regex: regex,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    includes(value, options) {\n        return this._addCheck({\n            kind: \"includes\",\n            value: value,\n            position: options?.position,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    startsWith(value, message) {\n        return this._addCheck({\n            kind: \"startsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    endsWith(value, message) {\n        return this._addCheck({\n            kind: \"endsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    min(minLength, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    max(maxLength, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    length(len, message) {\n        return this._addCheck({\n            kind: \"length\",\n            value: len,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    /**\n     * Equivalent to `.min(1)`\n     */\n    nonempty(message) {\n        return this.min(1, errorUtil.errToObj(message));\n    }\n    trim() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"trim\" }],\n        });\n    }\n    toLowerCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toLowerCase\" }],\n        });\n    }\n    toUpperCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toUpperCase\" }],\n        });\n    }\n    get isDatetime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n    }\n    get isDate() {\n        return !!this._def.checks.find((ch) => ch.kind === \"date\");\n    }\n    get isTime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"time\");\n    }\n    get isDuration() {\n        return !!this._def.checks.find((ch) => ch.kind === \"duration\");\n    }\n    get isEmail() {\n        return !!this._def.checks.find((ch) => ch.kind === \"email\");\n    }\n    get isURL() {\n        return !!this._def.checks.find((ch) => ch.kind === \"url\");\n    }\n    get isEmoji() {\n        return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n    }\n    get isUUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n    }\n    get isNANOID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"nanoid\");\n    }\n    get isCUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n    }\n    get isCUID2() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n    }\n    get isULID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n    }\n    get isIP() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n    }\n    get isCIDR() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cidr\");\n    }\n    get isBase64() {\n        return !!this._def.checks.find((ch) => ch.kind === \"base64\");\n    }\n    get isBase64url() {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return !!this._def.checks.find((ch) => ch.kind === \"base64url\");\n    }\n    get minLength() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxLength() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodString.create = (params) => {\n    return new ZodString({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodString,\n        coerce: params?.coerce ?? false,\n        ...processCreateParams(params),\n    });\n};\n// https://stackoverflow.com/questions/3966484/why-does-modulus-operator-return-fractional-number-in-javascript/31711034#31711034\nfunction floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = Number.parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = Number.parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / 10 ** decCount;\n}\nexport class ZodNumber extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n        this.step = this.multipleOf;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Number(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.number) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.number,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"int\") {\n                if (!util.isInteger(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_type,\n                        expected: \"integer\",\n                        received: \"float\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"min\") {\n                const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (floatSafeRemainder(input.data, check.value) !== 0) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"finite\") {\n                if (!Number.isFinite(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_finite,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    int(message) {\n        return this._addCheck({\n            kind: \"int\",\n            message: errorUtil.toString(message),\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value: value,\n            message: errorUtil.toString(message),\n        });\n    }\n    finite(message) {\n        return this._addCheck({\n            kind: \"finite\",\n            message: errorUtil.toString(message),\n        });\n    }\n    safe(message) {\n        return this._addCheck({\n            kind: \"min\",\n            inclusive: true,\n            value: Number.MIN_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        })._addCheck({\n            kind: \"max\",\n            inclusive: true,\n            value: Number.MAX_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n    get isInt() {\n        return !!this._def.checks.find((ch) => ch.kind === \"int\" || (ch.kind === \"multipleOf\" && util.isInteger(ch.value)));\n    }\n    get isFinite() {\n        let max = null;\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"finite\" || ch.kind === \"int\" || ch.kind === \"multipleOf\") {\n                return true;\n            }\n            else if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n            else if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return Number.isFinite(min) && Number.isFinite(max);\n    }\n}\nZodNumber.create = (params) => {\n    return new ZodNumber({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodNumber,\n        coerce: params?.coerce || false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodBigInt extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            try {\n                input.data = BigInt(input.data);\n            }\n            catch {\n                return this._getInvalidInput(input);\n            }\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.bigint) {\n            return this._getInvalidInput(input);\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        type: \"bigint\",\n                        minimum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        type: \"bigint\",\n                        maximum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (input.data % check.value !== BigInt(0)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _getInvalidInput(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.bigint,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodBigInt.create = (params) => {\n    return new ZodBigInt({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodBigInt,\n        coerce: params?.coerce ?? false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodBoolean extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Boolean(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.boolean) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.boolean,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodBoolean.create = (params) => {\n    return new ZodBoolean({\n        typeName: ZodFirstPartyTypeKind.ZodBoolean,\n        coerce: params?.coerce || false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodDate extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = new Date(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.date) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.date,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (Number.isNaN(input.data.getTime())) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_date,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.getTime() < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        minimum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.getTime() > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        maximum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return {\n            status: status.value,\n            value: new Date(input.data.getTime()),\n        };\n    }\n    _addCheck(check) {\n        return new ZodDate({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    min(minDate, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    max(maxDate, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    get minDate() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min != null ? new Date(min) : null;\n    }\n    get maxDate() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max != null ? new Date(max) : null;\n    }\n}\nZodDate.create = (params) => {\n    return new ZodDate({\n        checks: [],\n        coerce: params?.coerce || false,\n        typeName: ZodFirstPartyTypeKind.ZodDate,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodSymbol extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.symbol) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.symbol,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodSymbol.create = (params) => {\n    return new ZodSymbol({\n        typeName: ZodFirstPartyTypeKind.ZodSymbol,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUndefined extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.undefined,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodUndefined.create = (params) => {\n    return new ZodUndefined({\n        typeName: ZodFirstPartyTypeKind.ZodUndefined,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNull extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.null) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.null,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodNull.create = (params) => {\n    return new ZodNull({\n        typeName: ZodFirstPartyTypeKind.ZodNull,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodAny extends ZodType {\n    constructor() {\n        super(...arguments);\n        // to prevent instances of other classes from extending ZodAny. this causes issues with catchall in ZodObject.\n        this._any = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodAny.create = (params) => {\n    return new ZodAny({\n        typeName: ZodFirstPartyTypeKind.ZodAny,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUnknown extends ZodType {\n    constructor() {\n        super(...arguments);\n        // required\n        this._unknown = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodUnknown.create = (params) => {\n    return new ZodUnknown({\n        typeName: ZodFirstPartyTypeKind.ZodUnknown,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNever extends ZodType {\n    _parse(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.never,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n}\nZodNever.create = (params) => {\n    return new ZodNever({\n        typeName: ZodFirstPartyTypeKind.ZodNever,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodVoid extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.void,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodVoid.create = (params) => {\n    return new ZodVoid({\n        typeName: ZodFirstPartyTypeKind.ZodVoid,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodArray extends ZodType {\n    _parse(input) {\n        const { ctx, status } = this._processInputParams(input);\n        const def = this._def;\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (def.exactLength !== null) {\n            const tooBig = ctx.data.length > def.exactLength.value;\n            const tooSmall = ctx.data.length < def.exactLength.value;\n            if (tooBig || tooSmall) {\n                addIssueToContext(ctx, {\n                    code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,\n                    minimum: (tooSmall ? def.exactLength.value : undefined),\n                    maximum: (tooBig ? def.exactLength.value : undefined),\n                    type: \"array\",\n                    inclusive: true,\n                    exact: true,\n                    message: def.exactLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.minLength !== null) {\n            if (ctx.data.length < def.minLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxLength !== null) {\n            if (ctx.data.length > def.maxLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.all([...ctx.data].map((item, i) => {\n                return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n            })).then((result) => {\n                return ParseStatus.mergeArray(status, result);\n            });\n        }\n        const result = [...ctx.data].map((item, i) => {\n            return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n        });\n        return ParseStatus.mergeArray(status, result);\n    }\n    get element() {\n        return this._def.type;\n    }\n    min(minLength, message) {\n        return new ZodArray({\n            ...this._def,\n            minLength: { value: minLength, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxLength, message) {\n        return new ZodArray({\n            ...this._def,\n            maxLength: { value: maxLength, message: errorUtil.toString(message) },\n        });\n    }\n    length(len, message) {\n        return new ZodArray({\n            ...this._def,\n            exactLength: { value: len, message: errorUtil.toString(message) },\n        });\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodArray.create = (schema, params) => {\n    return new ZodArray({\n        type: schema,\n        minLength: null,\n        maxLength: null,\n        exactLength: null,\n        typeName: ZodFirstPartyTypeKind.ZodArray,\n        ...processCreateParams(params),\n    });\n};\nfunction deepPartialify(schema) {\n    if (schema instanceof ZodObject) {\n        const newShape = {};\n        for (const key in schema.shape) {\n            const fieldSchema = schema.shape[key];\n            newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n        }\n        return new ZodObject({\n            ...schema._def,\n            shape: () => newShape,\n        });\n    }\n    else if (schema instanceof ZodArray) {\n        return new ZodArray({\n            ...schema._def,\n            type: deepPartialify(schema.element),\n        });\n    }\n    else if (schema instanceof ZodOptional) {\n        return ZodOptional.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodNullable) {\n        return ZodNullable.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodTuple) {\n        return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n    }\n    else {\n        return schema;\n    }\n}\nexport class ZodObject extends ZodType {\n    constructor() {\n        super(...arguments);\n        this._cached = null;\n        /**\n         * @deprecated In most cases, this is no longer needed - unknown properties are now silently stripped.\n         * If you want to pass through unknown properties, use `.passthrough()` instead.\n         */\n        this.nonstrict = this.passthrough;\n        // extend<\n        //   Augmentation extends ZodRawShape,\n        //   NewOutput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_output\"]\n        //       : k extends keyof Output\n        //       ? Output[k]\n        //       : never;\n        //   }>,\n        //   NewInput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_input\"]\n        //       : k extends keyof Input\n        //       ? Input[k]\n        //       : never;\n        //   }>\n        // >(\n        //   augmentation: Augmentation\n        // ): ZodObject<\n        //   extendShape<T, Augmentation>,\n        //   UnknownKeys,\n        //   Catchall,\n        //   NewOutput,\n        //   NewInput\n        // > {\n        //   return new ZodObject({\n        //     ...this._def,\n        //     shape: () => ({\n        //       ...this._def.shape(),\n        //       ...augmentation,\n        //     }),\n        //   }) as any;\n        // }\n        /**\n         * @deprecated Use `.extend` instead\n         *  */\n        this.augment = this.extend;\n    }\n    _getCached() {\n        if (this._cached !== null)\n            return this._cached;\n        const shape = this._def.shape();\n        const keys = util.objectKeys(shape);\n        this._cached = { shape, keys };\n        return this._cached;\n    }\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.object) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const { status, ctx } = this._processInputParams(input);\n        const { shape, keys: shapeKeys } = this._getCached();\n        const extraKeys = [];\n        if (!(this._def.catchall instanceof ZodNever && this._def.unknownKeys === \"strip\")) {\n            for (const key in ctx.data) {\n                if (!shapeKeys.includes(key)) {\n                    extraKeys.push(key);\n                }\n            }\n        }\n        const pairs = [];\n        for (const key of shapeKeys) {\n            const keyValidator = shape[key];\n            const value = ctx.data[key];\n            pairs.push({\n                key: { status: \"valid\", value: key },\n                value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (this._def.catchall instanceof ZodNever) {\n            const unknownKeys = this._def.unknownKeys;\n            if (unknownKeys === \"passthrough\") {\n                for (const key of extraKeys) {\n                    pairs.push({\n                        key: { status: \"valid\", value: key },\n                        value: { status: \"valid\", value: ctx.data[key] },\n                    });\n                }\n            }\n            else if (unknownKeys === \"strict\") {\n                if (extraKeys.length > 0) {\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.unrecognized_keys,\n                        keys: extraKeys,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (unknownKeys === \"strip\") {\n            }\n            else {\n                throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n            }\n        }\n        else {\n            // run catchall validation\n            const catchall = this._def.catchall;\n            for (const key of extraKeys) {\n                const value = ctx.data[key];\n                pairs.push({\n                    key: { status: \"valid\", value: key },\n                    value: catchall._parse(new ParseInputLazyPath(ctx, value, ctx.path, key) //, ctx.child(key), value, getParsedType(value)\n                    ),\n                    alwaysSet: key in ctx.data,\n                });\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.resolve()\n                .then(async () => {\n                const syncPairs = [];\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    syncPairs.push({\n                        key,\n                        value,\n                        alwaysSet: pair.alwaysSet,\n                    });\n                }\n                return syncPairs;\n            })\n                .then((syncPairs) => {\n                return ParseStatus.mergeObjectSync(status, syncPairs);\n            });\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get shape() {\n        return this._def.shape();\n    }\n    strict(message) {\n        errorUtil.errToObj;\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strict\",\n            ...(message !== undefined\n                ? {\n                    errorMap: (issue, ctx) => {\n                        const defaultError = this._def.errorMap?.(issue, ctx).message ?? ctx.defaultError;\n                        if (issue.code === \"unrecognized_keys\")\n                            return {\n                                message: errorUtil.errToObj(message).message ?? defaultError,\n                            };\n                        return {\n                            message: defaultError,\n                        };\n                    },\n                }\n                : {}),\n        });\n    }\n    strip() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strip\",\n        });\n    }\n    passthrough() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"passthrough\",\n        });\n    }\n    // const AugmentFactory =\n    //   <Def extends ZodObjectDef>(def: Def) =>\n    //   <Augmentation extends ZodRawShape>(\n    //     augmentation: Augmentation\n    //   ): ZodObject<\n    //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n    //     Def[\"unknownKeys\"],\n    //     Def[\"catchall\"]\n    //   > => {\n    //     return new ZodObject({\n    //       ...def,\n    //       shape: () => ({\n    //         ...def.shape(),\n    //         ...augmentation,\n    //       }),\n    //     }) as any;\n    //   };\n    extend(augmentation) {\n        return new ZodObject({\n            ...this._def,\n            shape: () => ({\n                ...this._def.shape(),\n                ...augmentation,\n            }),\n        });\n    }\n    /**\n     * Prior to zod@1.0.12 there was a bug in the\n     * inferred type of merged objects. Please\n     * upgrade if you are experiencing issues.\n     */\n    merge(merging) {\n        const merged = new ZodObject({\n            unknownKeys: merging._def.unknownKeys,\n            catchall: merging._def.catchall,\n            shape: () => ({\n                ...this._def.shape(),\n                ...merging._def.shape(),\n            }),\n            typeName: ZodFirstPartyTypeKind.ZodObject,\n        });\n        return merged;\n    }\n    // merge<\n    //   Incoming extends AnyZodObject,\n    //   Augmentation extends Incoming[\"shape\"],\n    //   NewOutput extends {\n    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_output\"]\n    //       : k extends keyof Output\n    //       ? Output[k]\n    //       : never;\n    //   },\n    //   NewInput extends {\n    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_input\"]\n    //       : k extends keyof Input\n    //       ? Input[k]\n    //       : never;\n    //   }\n    // >(\n    //   merging: Incoming\n    // ): ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"],\n    //   NewOutput,\n    //   NewInput\n    // > {\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    setKey(key, schema) {\n        return this.augment({ [key]: schema });\n    }\n    // merge<Incoming extends AnyZodObject>(\n    //   merging: Incoming\n    // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n    // ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"]\n    // > {\n    //   // const mergedShape = objectUtil.mergeShapes(\n    //   //   this._def.shape(),\n    //   //   merging._def.shape()\n    //   // );\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    catchall(index) {\n        return new ZodObject({\n            ...this._def,\n            catchall: index,\n        });\n    }\n    pick(mask) {\n        const shape = {};\n        for (const key of util.objectKeys(mask)) {\n            if (mask[key] && this.shape[key]) {\n                shape[key] = this.shape[key];\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    omit(mask) {\n        const shape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            if (!mask[key]) {\n                shape[key] = this.shape[key];\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    /**\n     * @deprecated\n     */\n    deepPartial() {\n        return deepPartialify(this);\n    }\n    partial(mask) {\n        const newShape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            const fieldSchema = this.shape[key];\n            if (mask && !mask[key]) {\n                newShape[key] = fieldSchema;\n            }\n            else {\n                newShape[key] = fieldSchema.optional();\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    required(mask) {\n        const newShape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            if (mask && !mask[key]) {\n                newShape[key] = this.shape[key];\n            }\n            else {\n                const fieldSchema = this.shape[key];\n                let newField = fieldSchema;\n                while (newField instanceof ZodOptional) {\n                    newField = newField._def.innerType;\n                }\n                newShape[key] = newField;\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    keyof() {\n        return createZodEnum(util.objectKeys(this.shape));\n    }\n}\nZodObject.create = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.strictCreate = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strict\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.lazycreate = (shape, params) => {\n    return new ZodObject({\n        shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const options = this._def.options;\n        function handleResults(results) {\n            // return first issue-free validation if it exists\n            for (const result of results) {\n                if (result.result.status === \"valid\") {\n                    return result.result;\n                }\n            }\n            for (const result of results) {\n                if (result.result.status === \"dirty\") {\n                    // add issues from dirty option\n                    ctx.common.issues.push(...result.ctx.common.issues);\n                    return result.result;\n                }\n            }\n            // return invalid\n            const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return Promise.all(options.map(async (option) => {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                return {\n                    result: await option._parseAsync({\n                        data: ctx.data,\n                        path: ctx.path,\n                        parent: childCtx,\n                    }),\n                    ctx: childCtx,\n                };\n            })).then(handleResults);\n        }\n        else {\n            let dirty = undefined;\n            const issues = [];\n            for (const option of options) {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                const result = option._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: childCtx,\n                });\n                if (result.status === \"valid\") {\n                    return result;\n                }\n                else if (result.status === \"dirty\" && !dirty) {\n                    dirty = { result, ctx: childCtx };\n                }\n                if (childCtx.common.issues.length) {\n                    issues.push(childCtx.common.issues);\n                }\n            }\n            if (dirty) {\n                ctx.common.issues.push(...dirty.ctx.common.issues);\n                return dirty.result;\n            }\n            const unionErrors = issues.map((issues) => new ZodError(issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n    }\n    get options() {\n        return this._def.options;\n    }\n}\nZodUnion.create = (types, params) => {\n    return new ZodUnion({\n        options: types,\n        typeName: ZodFirstPartyTypeKind.ZodUnion,\n        ...processCreateParams(params),\n    });\n};\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\n//////////                                 //////////\n//////////      ZodDiscriminatedUnion      //////////\n//////////                                 //////////\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\nconst getDiscriminator = (type) => {\n    if (type instanceof ZodLazy) {\n        return getDiscriminator(type.schema);\n    }\n    else if (type instanceof ZodEffects) {\n        return getDiscriminator(type.innerType());\n    }\n    else if (type instanceof ZodLiteral) {\n        return [type.value];\n    }\n    else if (type instanceof ZodEnum) {\n        return type.options;\n    }\n    else if (type instanceof ZodNativeEnum) {\n        // eslint-disable-next-line ban/ban\n        return util.objectValues(type.enum);\n    }\n    else if (type instanceof ZodDefault) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else if (type instanceof ZodUndefined) {\n        return [undefined];\n    }\n    else if (type instanceof ZodNull) {\n        return [null];\n    }\n    else if (type instanceof ZodOptional) {\n        return [undefined, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodNullable) {\n        return [null, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodBranded) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodReadonly) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodCatch) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else {\n        return [];\n    }\n};\nexport class ZodDiscriminatedUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const discriminator = this.discriminator;\n        const discriminatorValue = ctx.data[discriminator];\n        const option = this.optionsMap.get(discriminatorValue);\n        if (!option) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union_discriminator,\n                options: Array.from(this.optionsMap.keys()),\n                path: [discriminator],\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return option._parseAsync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n        else {\n            return option._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n    }\n    get discriminator() {\n        return this._def.discriminator;\n    }\n    get options() {\n        return this._def.options;\n    }\n    get optionsMap() {\n        return this._def.optionsMap;\n    }\n    /**\n     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n     * have a different value for each object in the union.\n     * @param discriminator the name of the discriminator property\n     * @param types an array of object schemas\n     * @param params\n     */\n    static create(discriminator, options, params) {\n        // Get all the valid discriminator values\n        const optionsMap = new Map();\n        // try {\n        for (const type of options) {\n            const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n            if (!discriminatorValues.length) {\n                throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n            }\n            for (const value of discriminatorValues) {\n                if (optionsMap.has(value)) {\n                    throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n                }\n                optionsMap.set(value, type);\n            }\n        }\n        return new ZodDiscriminatedUnion({\n            typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n            discriminator,\n            options,\n            optionsMap,\n            ...processCreateParams(params),\n        });\n    }\n}\nfunction mergeValues(a, b) {\n    const aType = getParsedType(a);\n    const bType = getParsedType(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {\n        const bKeys = util.objectKeys(b);\n        const sharedKeys = util.objectKeys(a).filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {\n        if (a.length !== b.length) {\n            return { valid: false };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    else if (aType === ZodParsedType.date && bType === ZodParsedType.date && +a === +b) {\n        return { valid: true, data: a };\n    }\n    else {\n        return { valid: false };\n    }\n}\nexport class ZodIntersection extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const handleParsed = (parsedLeft, parsedRight) => {\n            if (isAborted(parsedLeft) || isAborted(parsedRight)) {\n                return INVALID;\n            }\n            const merged = mergeValues(parsedLeft.value, parsedRight.value);\n            if (!merged.valid) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.invalid_intersection_types,\n                });\n                return INVALID;\n            }\n            if (isDirty(parsedLeft) || isDirty(parsedRight)) {\n                status.dirty();\n            }\n            return { status: status.value, value: merged.data };\n        };\n        if (ctx.common.async) {\n            return Promise.all([\n                this._def.left._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n                this._def.right._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n            ]).then(([left, right]) => handleParsed(left, right));\n        }\n        else {\n            return handleParsed(this._def.left._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }), this._def.right._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }));\n        }\n    }\n}\nZodIntersection.create = (left, right, params) => {\n    return new ZodIntersection({\n        left: left,\n        right: right,\n        typeName: ZodFirstPartyTypeKind.ZodIntersection,\n        ...processCreateParams(params),\n    });\n};\n// type ZodTupleItems = [ZodTypeAny, ...ZodTypeAny[]];\nexport class ZodTuple extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (ctx.data.length < this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_small,\n                minimum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            return INVALID;\n        }\n        const rest = this._def.rest;\n        if (!rest && ctx.data.length > this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_big,\n                maximum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            status.dirty();\n        }\n        const items = [...ctx.data]\n            .map((item, itemIndex) => {\n            const schema = this._def.items[itemIndex] || this._def.rest;\n            if (!schema)\n                return null;\n            return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n        })\n            .filter((x) => !!x); // filter nulls\n        if (ctx.common.async) {\n            return Promise.all(items).then((results) => {\n                return ParseStatus.mergeArray(status, results);\n            });\n        }\n        else {\n            return ParseStatus.mergeArray(status, items);\n        }\n    }\n    get items() {\n        return this._def.items;\n    }\n    rest(rest) {\n        return new ZodTuple({\n            ...this._def,\n            rest,\n        });\n    }\n}\nZodTuple.create = (schemas, params) => {\n    if (!Array.isArray(schemas)) {\n        throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n    }\n    return new ZodTuple({\n        items: schemas,\n        typeName: ZodFirstPartyTypeKind.ZodTuple,\n        rest: null,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodRecord extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const pairs = [];\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        for (const key in ctx.data) {\n            pairs.push({\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n                value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (ctx.common.async) {\n            return ParseStatus.mergeObjectAsync(status, pairs);\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get element() {\n        return this._def.valueType;\n    }\n    static create(first, second, third) {\n        if (second instanceof ZodType) {\n            return new ZodRecord({\n                keyType: first,\n                valueType: second,\n                typeName: ZodFirstPartyTypeKind.ZodRecord,\n                ...processCreateParams(third),\n            });\n        }\n        return new ZodRecord({\n            keyType: ZodString.create(),\n            valueType: first,\n            typeName: ZodFirstPartyTypeKind.ZodRecord,\n            ...processCreateParams(second),\n        });\n    }\n}\nexport class ZodMap extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.map) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.map,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        const pairs = [...ctx.data.entries()].map(([key, value], index) => {\n            return {\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, \"key\"])),\n                value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, \"value\"])),\n            };\n        });\n        if (ctx.common.async) {\n            const finalMap = new Map();\n            return Promise.resolve().then(async () => {\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    if (key.status === \"aborted\" || value.status === \"aborted\") {\n                        return INVALID;\n                    }\n                    if (key.status === \"dirty\" || value.status === \"dirty\") {\n                        status.dirty();\n                    }\n                    finalMap.set(key.value, value.value);\n                }\n                return { status: status.value, value: finalMap };\n            });\n        }\n        else {\n            const finalMap = new Map();\n            for (const pair of pairs) {\n                const key = pair.key;\n                const value = pair.value;\n                if (key.status === \"aborted\" || value.status === \"aborted\") {\n                    return INVALID;\n                }\n                if (key.status === \"dirty\" || value.status === \"dirty\") {\n                    status.dirty();\n                }\n                finalMap.set(key.value, value.value);\n            }\n            return { status: status.value, value: finalMap };\n        }\n    }\n}\nZodMap.create = (keyType, valueType, params) => {\n    return new ZodMap({\n        valueType,\n        keyType,\n        typeName: ZodFirstPartyTypeKind.ZodMap,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodSet extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.set) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.set,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const def = this._def;\n        if (def.minSize !== null) {\n            if (ctx.data.size < def.minSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minSize.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxSize !== null) {\n            if (ctx.data.size > def.maxSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxSize.message,\n                });\n                status.dirty();\n            }\n        }\n        const valueType = this._def.valueType;\n        function finalizeSet(elements) {\n            const parsedSet = new Set();\n            for (const element of elements) {\n                if (element.status === \"aborted\")\n                    return INVALID;\n                if (element.status === \"dirty\")\n                    status.dirty();\n                parsedSet.add(element.value);\n            }\n            return { status: status.value, value: parsedSet };\n        }\n        const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));\n        if (ctx.common.async) {\n            return Promise.all(elements).then((elements) => finalizeSet(elements));\n        }\n        else {\n            return finalizeSet(elements);\n        }\n    }\n    min(minSize, message) {\n        return new ZodSet({\n            ...this._def,\n            minSize: { value: minSize, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxSize, message) {\n        return new ZodSet({\n            ...this._def,\n            maxSize: { value: maxSize, message: errorUtil.toString(message) },\n        });\n    }\n    size(size, message) {\n        return this.min(size, message).max(size, message);\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodSet.create = (valueType, params) => {\n    return new ZodSet({\n        valueType,\n        minSize: null,\n        maxSize: null,\n        typeName: ZodFirstPartyTypeKind.ZodSet,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodFunction extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.validate = this.implement;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.function) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.function,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        function makeArgsIssue(args, error) {\n            return makeIssue({\n                data: args,\n                path: ctx.path,\n                errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), defaultErrorMap].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_arguments,\n                    argumentsError: error,\n                },\n            });\n        }\n        function makeReturnsIssue(returns, error) {\n            return makeIssue({\n                data: returns,\n                path: ctx.path,\n                errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), defaultErrorMap].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_return_type,\n                    returnTypeError: error,\n                },\n            });\n        }\n        const params = { errorMap: ctx.common.contextualErrorMap };\n        const fn = ctx.data;\n        if (this._def.returns instanceof ZodPromise) {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(async function (...args) {\n                const error = new ZodError([]);\n                const parsedArgs = await me._def.args.parseAsync(args, params).catch((e) => {\n                    error.addIssue(makeArgsIssue(args, e));\n                    throw error;\n                });\n                const result = await Reflect.apply(fn, this, parsedArgs);\n                const parsedReturns = await me._def.returns._def.type\n                    .parseAsync(result, params)\n                    .catch((e) => {\n                    error.addIssue(makeReturnsIssue(result, e));\n                    throw error;\n                });\n                return parsedReturns;\n            });\n        }\n        else {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(function (...args) {\n                const parsedArgs = me._def.args.safeParse(args, params);\n                if (!parsedArgs.success) {\n                    throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);\n                }\n                const result = Reflect.apply(fn, this, parsedArgs.data);\n                const parsedReturns = me._def.returns.safeParse(result, params);\n                if (!parsedReturns.success) {\n                    throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n                }\n                return parsedReturns.data;\n            });\n        }\n    }\n    parameters() {\n        return this._def.args;\n    }\n    returnType() {\n        return this._def.returns;\n    }\n    args(...items) {\n        return new ZodFunction({\n            ...this._def,\n            args: ZodTuple.create(items).rest(ZodUnknown.create()),\n        });\n    }\n    returns(returnType) {\n        return new ZodFunction({\n            ...this._def,\n            returns: returnType,\n        });\n    }\n    implement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    strictImplement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    static create(args, returns, params) {\n        return new ZodFunction({\n            args: (args ? args : ZodTuple.create([]).rest(ZodUnknown.create())),\n            returns: returns || ZodUnknown.create(),\n            typeName: ZodFirstPartyTypeKind.ZodFunction,\n            ...processCreateParams(params),\n        });\n    }\n}\nexport class ZodLazy extends ZodType {\n    get schema() {\n        return this._def.getter();\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const lazySchema = this._def.getter();\n        return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n    }\n}\nZodLazy.create = (getter, params) => {\n    return new ZodLazy({\n        getter: getter,\n        typeName: ZodFirstPartyTypeKind.ZodLazy,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodLiteral extends ZodType {\n    _parse(input) {\n        if (input.data !== this._def.value) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_literal,\n                expected: this._def.value,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n    get value() {\n        return this._def.value;\n    }\n}\nZodLiteral.create = (value, params) => {\n    return new ZodLiteral({\n        value: value,\n        typeName: ZodFirstPartyTypeKind.ZodLiteral,\n        ...processCreateParams(params),\n    });\n};\nfunction createZodEnum(values, params) {\n    return new ZodEnum({\n        values,\n        typeName: ZodFirstPartyTypeKind.ZodEnum,\n        ...processCreateParams(params),\n    });\n}\nexport class ZodEnum extends ZodType {\n    _parse(input) {\n        if (typeof input.data !== \"string\") {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!this._cache) {\n            this._cache = new Set(this._def.values);\n        }\n        if (!this._cache.has(input.data)) {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get options() {\n        return this._def.values;\n    }\n    get enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Values() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    extract(values, newDef = this._def) {\n        return ZodEnum.create(values, {\n            ...this._def,\n            ...newDef,\n        });\n    }\n    exclude(values, newDef = this._def) {\n        return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {\n            ...this._def,\n            ...newDef,\n        });\n    }\n}\nZodEnum.create = createZodEnum;\nexport class ZodNativeEnum extends ZodType {\n    _parse(input) {\n        const nativeEnumValues = util.getValidEnumValues(this._def.values);\n        const ctx = this._getOrReturnCtx(input);\n        if (ctx.parsedType !== ZodParsedType.string && ctx.parsedType !== ZodParsedType.number) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!this._cache) {\n            this._cache = new Set(util.getValidEnumValues(this._def.values));\n        }\n        if (!this._cache.has(input.data)) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get enum() {\n        return this._def.values;\n    }\n}\nZodNativeEnum.create = (values, params) => {\n    return new ZodNativeEnum({\n        values: values,\n        typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodPromise extends ZodType {\n    unwrap() {\n        return this._def.type;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.promise && ctx.common.async === false) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.promise,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const promisified = ctx.parsedType === ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);\n        return OK(promisified.then((data) => {\n            return this._def.type.parseAsync(data, {\n                path: ctx.path,\n                errorMap: ctx.common.contextualErrorMap,\n            });\n        }));\n    }\n}\nZodPromise.create = (schema, params) => {\n    return new ZodPromise({\n        type: schema,\n        typeName: ZodFirstPartyTypeKind.ZodPromise,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodEffects extends ZodType {\n    innerType() {\n        return this._def.schema;\n    }\n    sourceType() {\n        return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects\n            ? this._def.schema.sourceType()\n            : this._def.schema;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const effect = this._def.effect || null;\n        const checkCtx = {\n            addIssue: (arg) => {\n                addIssueToContext(ctx, arg);\n                if (arg.fatal) {\n                    status.abort();\n                }\n                else {\n                    status.dirty();\n                }\n            },\n            get path() {\n                return ctx.path;\n            },\n        };\n        checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n        if (effect.type === \"preprocess\") {\n            const processed = effect.transform(ctx.data, checkCtx);\n            if (ctx.common.async) {\n                return Promise.resolve(processed).then(async (processed) => {\n                    if (status.value === \"aborted\")\n                        return INVALID;\n                    const result = await this._def.schema._parseAsync({\n                        data: processed,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                    if (result.status === \"aborted\")\n                        return INVALID;\n                    if (result.status === \"dirty\")\n                        return DIRTY(result.value);\n                    if (status.value === \"dirty\")\n                        return DIRTY(result.value);\n                    return result;\n                });\n            }\n            else {\n                if (status.value === \"aborted\")\n                    return INVALID;\n                const result = this._def.schema._parseSync({\n                    data: processed,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (result.status === \"aborted\")\n                    return INVALID;\n                if (result.status === \"dirty\")\n                    return DIRTY(result.value);\n                if (status.value === \"dirty\")\n                    return DIRTY(result.value);\n                return result;\n            }\n        }\n        if (effect.type === \"refinement\") {\n            const executeRefinement = (acc) => {\n                const result = effect.refinement(acc, checkCtx);\n                if (ctx.common.async) {\n                    return Promise.resolve(result);\n                }\n                if (result instanceof Promise) {\n                    throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n                }\n                return acc;\n            };\n            if (ctx.common.async === false) {\n                const inner = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inner.status === \"aborted\")\n                    return INVALID;\n                if (inner.status === \"dirty\")\n                    status.dirty();\n                // return value is ignored\n                executeRefinement(inner.value);\n                return { status: status.value, value: inner.value };\n            }\n            else {\n                return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner) => {\n                    if (inner.status === \"aborted\")\n                        return INVALID;\n                    if (inner.status === \"dirty\")\n                        status.dirty();\n                    return executeRefinement(inner.value).then(() => {\n                        return { status: status.value, value: inner.value };\n                    });\n                });\n            }\n        }\n        if (effect.type === \"transform\") {\n            if (ctx.common.async === false) {\n                const base = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (!isValid(base))\n                    return INVALID;\n                const result = effect.transform(base.value, checkCtx);\n                if (result instanceof Promise) {\n                    throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n                }\n                return { status: status.value, value: result };\n            }\n            else {\n                return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {\n                    if (!isValid(base))\n                        return INVALID;\n                    return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({\n                        status: status.value,\n                        value: result,\n                    }));\n                });\n            }\n        }\n        util.assertNever(effect);\n    }\n}\nZodEffects.create = (schema, effect, params) => {\n    return new ZodEffects({\n        schema,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect,\n        ...processCreateParams(params),\n    });\n};\nZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n    return new ZodEffects({\n        schema,\n        effect: { type: \"preprocess\", transform: preprocess },\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        ...processCreateParams(params),\n    });\n};\nexport { ZodEffects as ZodTransformer };\nexport class ZodOptional extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.undefined) {\n            return OK(undefined);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodOptional.create = (type, params) => {\n    return new ZodOptional({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodOptional,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNullable extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.null) {\n            return OK(null);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodNullable.create = (type, params) => {\n    return new ZodNullable({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodNullable,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodDefault extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        let data = ctx.data;\n        if (ctx.parsedType === ZodParsedType.undefined) {\n            data = this._def.defaultValue();\n        }\n        return this._def.innerType._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    removeDefault() {\n        return this._def.innerType;\n    }\n}\nZodDefault.create = (type, params) => {\n    return new ZodDefault({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodDefault,\n        defaultValue: typeof params.default === \"function\" ? params.default : () => params.default,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodCatch extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        // newCtx is used to not collect issues from inner types in ctx\n        const newCtx = {\n            ...ctx,\n            common: {\n                ...ctx.common,\n                issues: [],\n            },\n        };\n        const result = this._def.innerType._parse({\n            data: newCtx.data,\n            path: newCtx.path,\n            parent: {\n                ...newCtx,\n            },\n        });\n        if (isAsync(result)) {\n            return result.then((result) => {\n                return {\n                    status: \"valid\",\n                    value: result.status === \"valid\"\n                        ? result.value\n                        : this._def.catchValue({\n                            get error() {\n                                return new ZodError(newCtx.common.issues);\n                            },\n                            input: newCtx.data,\n                        }),\n                };\n            });\n        }\n        else {\n            return {\n                status: \"valid\",\n                value: result.status === \"valid\"\n                    ? result.value\n                    : this._def.catchValue({\n                        get error() {\n                            return new ZodError(newCtx.common.issues);\n                        },\n                        input: newCtx.data,\n                    }),\n            };\n        }\n    }\n    removeCatch() {\n        return this._def.innerType;\n    }\n}\nZodCatch.create = (type, params) => {\n    return new ZodCatch({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodCatch,\n        catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNaN extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.nan) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.nan,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n}\nZodNaN.create = (params) => {\n    return new ZodNaN({\n        typeName: ZodFirstPartyTypeKind.ZodNaN,\n        ...processCreateParams(params),\n    });\n};\nexport const BRAND = Symbol(\"zod_brand\");\nexport class ZodBranded extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const data = ctx.data;\n        return this._def.type._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    unwrap() {\n        return this._def.type;\n    }\n}\nexport class ZodPipeline extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.common.async) {\n            const handleAsync = async () => {\n                const inResult = await this._def.in._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inResult.status === \"aborted\")\n                    return INVALID;\n                if (inResult.status === \"dirty\") {\n                    status.dirty();\n                    return DIRTY(inResult.value);\n                }\n                else {\n                    return this._def.out._parseAsync({\n                        data: inResult.value,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                }\n            };\n            return handleAsync();\n        }\n        else {\n            const inResult = this._def.in._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n            if (inResult.status === \"aborted\")\n                return INVALID;\n            if (inResult.status === \"dirty\") {\n                status.dirty();\n                return {\n                    status: \"dirty\",\n                    value: inResult.value,\n                };\n            }\n            else {\n                return this._def.out._parseSync({\n                    data: inResult.value,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n            }\n        }\n    }\n    static create(a, b) {\n        return new ZodPipeline({\n            in: a,\n            out: b,\n            typeName: ZodFirstPartyTypeKind.ZodPipeline,\n        });\n    }\n}\nexport class ZodReadonly extends ZodType {\n    _parse(input) {\n        const result = this._def.innerType._parse(input);\n        const freeze = (data) => {\n            if (isValid(data)) {\n                data.value = Object.freeze(data.value);\n            }\n            return data;\n        };\n        return isAsync(result) ? result.then((data) => freeze(data)) : freeze(result);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodReadonly.create = (type, params) => {\n    return new ZodReadonly({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodReadonly,\n        ...processCreateParams(params),\n    });\n};\n////////////////////////////////////////\n////////////////////////////////////////\n//////////                    //////////\n//////////      z.custom      //////////\n//////////                    //////////\n////////////////////////////////////////\n////////////////////////////////////////\nfunction cleanParams(params, data) {\n    const p = typeof params === \"function\" ? params(data) : typeof params === \"string\" ? { message: params } : params;\n    const p2 = typeof p === \"string\" ? { message: p } : p;\n    return p2;\n}\nexport function custom(check, _params = {}, \n/**\n * @deprecated\n *\n * Pass `fatal` into the params object instead:\n *\n * ```ts\n * z.string().custom((val) => val.length > 5, { fatal: false })\n * ```\n *\n */\nfatal) {\n    if (check)\n        return ZodAny.create().superRefine((data, ctx) => {\n            const r = check(data);\n            if (r instanceof Promise) {\n                return r.then((r) => {\n                    if (!r) {\n                        const params = cleanParams(_params, data);\n                        const _fatal = params.fatal ?? fatal ?? true;\n                        ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n                    }\n                });\n            }\n            if (!r) {\n                const params = cleanParams(_params, data);\n                const _fatal = params.fatal ?? fatal ?? true;\n                ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n            }\n            return;\n        });\n    return ZodAny.create();\n}\nexport { ZodType as Schema, ZodType as ZodSchema };\nexport const late = {\n    object: ZodObject.lazycreate,\n};\nexport var ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n    ZodFirstPartyTypeKind[\"ZodString\"] = \"ZodString\";\n    ZodFirstPartyTypeKind[\"ZodNumber\"] = \"ZodNumber\";\n    ZodFirstPartyTypeKind[\"ZodNaN\"] = \"ZodNaN\";\n    ZodFirstPartyTypeKind[\"ZodBigInt\"] = \"ZodBigInt\";\n    ZodFirstPartyTypeKind[\"ZodBoolean\"] = \"ZodBoolean\";\n    ZodFirstPartyTypeKind[\"ZodDate\"] = \"ZodDate\";\n    ZodFirstPartyTypeKind[\"ZodSymbol\"] = \"ZodSymbol\";\n    ZodFirstPartyTypeKind[\"ZodUndefined\"] = \"ZodUndefined\";\n    ZodFirstPartyTypeKind[\"ZodNull\"] = \"ZodNull\";\n    ZodFirstPartyTypeKind[\"ZodAny\"] = \"ZodAny\";\n    ZodFirstPartyTypeKind[\"ZodUnknown\"] = \"ZodUnknown\";\n    ZodFirstPartyTypeKind[\"ZodNever\"] = \"ZodNever\";\n    ZodFirstPartyTypeKind[\"ZodVoid\"] = \"ZodVoid\";\n    ZodFirstPartyTypeKind[\"ZodArray\"] = \"ZodArray\";\n    ZodFirstPartyTypeKind[\"ZodObject\"] = \"ZodObject\";\n    ZodFirstPartyTypeKind[\"ZodUnion\"] = \"ZodUnion\";\n    ZodFirstPartyTypeKind[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n    ZodFirstPartyTypeKind[\"ZodIntersection\"] = \"ZodIntersection\";\n    ZodFirstPartyTypeKind[\"ZodTuple\"] = \"ZodTuple\";\n    ZodFirstPartyTypeKind[\"ZodRecord\"] = \"ZodRecord\";\n    ZodFirstPartyTypeKind[\"ZodMap\"] = \"ZodMap\";\n    ZodFirstPartyTypeKind[\"ZodSet\"] = \"ZodSet\";\n    ZodFirstPartyTypeKind[\"ZodFunction\"] = \"ZodFunction\";\n    ZodFirstPartyTypeKind[\"ZodLazy\"] = \"ZodLazy\";\n    ZodFirstPartyTypeKind[\"ZodLiteral\"] = \"ZodLiteral\";\n    ZodFirstPartyTypeKind[\"ZodEnum\"] = \"ZodEnum\";\n    ZodFirstPartyTypeKind[\"ZodEffects\"] = \"ZodEffects\";\n    ZodFirstPartyTypeKind[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n    ZodFirstPartyTypeKind[\"ZodOptional\"] = \"ZodOptional\";\n    ZodFirstPartyTypeKind[\"ZodNullable\"] = \"ZodNullable\";\n    ZodFirstPartyTypeKind[\"ZodDefault\"] = \"ZodDefault\";\n    ZodFirstPartyTypeKind[\"ZodCatch\"] = \"ZodCatch\";\n    ZodFirstPartyTypeKind[\"ZodPromise\"] = \"ZodPromise\";\n    ZodFirstPartyTypeKind[\"ZodBranded\"] = \"ZodBranded\";\n    ZodFirstPartyTypeKind[\"ZodPipeline\"] = \"ZodPipeline\";\n    ZodFirstPartyTypeKind[\"ZodReadonly\"] = \"ZodReadonly\";\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\n// requires TS 4.4+\nclass Class {\n    constructor(..._) { }\n}\nconst instanceOfType = (\n// const instanceOfType = <T extends new (...args: any[]) => any>(\ncls, params = {\n    message: `Input not instance of ${cls.name}`,\n}) => custom((data) => data instanceof cls, params);\nconst stringType = ZodString.create;\nconst numberType = ZodNumber.create;\nconst nanType = ZodNaN.create;\nconst bigIntType = ZodBigInt.create;\nconst booleanType = ZodBoolean.create;\nconst dateType = ZodDate.create;\nconst symbolType = ZodSymbol.create;\nconst undefinedType = ZodUndefined.create;\nconst nullType = ZodNull.create;\nconst anyType = ZodAny.create;\nconst unknownType = ZodUnknown.create;\nconst neverType = ZodNever.create;\nconst voidType = ZodVoid.create;\nconst arrayType = ZodArray.create;\nconst objectType = ZodObject.create;\nconst strictObjectType = ZodObject.strictCreate;\nconst unionType = ZodUnion.create;\nconst discriminatedUnionType = ZodDiscriminatedUnion.create;\nconst intersectionType = ZodIntersection.create;\nconst tupleType = ZodTuple.create;\nconst recordType = ZodRecord.create;\nconst mapType = ZodMap.create;\nconst setType = ZodSet.create;\nconst functionType = ZodFunction.create;\nconst lazyType = ZodLazy.create;\nconst literalType = ZodLiteral.create;\nconst enumType = ZodEnum.create;\nconst nativeEnumType = ZodNativeEnum.create;\nconst promiseType = ZodPromise.create;\nconst effectsType = ZodEffects.create;\nconst optionalType = ZodOptional.create;\nconst nullableType = ZodNullable.create;\nconst preprocessType = ZodEffects.createWithPreprocess;\nconst pipelineType = ZodPipeline.create;\nconst ostring = () => stringType().optional();\nconst onumber = () => numberType().optional();\nconst oboolean = () => booleanType().optional();\nexport const coerce = {\n    string: ((arg) => ZodString.create({ ...arg, coerce: true })),\n    number: ((arg) => ZodNumber.create({ ...arg, coerce: true })),\n    boolean: ((arg) => ZodBoolean.create({\n        ...arg,\n        coerce: true,\n    })),\n    bigint: ((arg) => ZodBigInt.create({ ...arg, coerce: true })),\n    date: ((arg) => ZodDate.create({ ...arg, coerce: true })),\n};\nexport { anyType as any, arrayType as array, bigIntType as bigint, booleanType as boolean, dateType as date, discriminatedUnionType as discriminatedUnion, effectsType as effect, enumType as enum, functionType as function, instanceOfType as instanceof, intersectionType as intersection, lazyType as lazy, literalType as literal, mapType as map, nanType as nan, nativeEnumType as nativeEnum, neverType as never, nullType as null, nullableType as nullable, numberType as number, objectType as object, oboolean, onumber, optionalType as optional, ostring, pipelineType as pipeline, preprocessType as preprocess, promiseType as promise, recordType as record, setType as set, strictObjectType as strictObject, stringType as string, symbolType as symbol, effectsType as transformer, tupleType as tuple, undefinedType as undefined, unionType as union, unknownType as unknown, voidType as void, };\nexport const NEVER = INVALID;\n","/**\r\n * =============================================================================\r\n * VALIDACIONES CON ZOD\r\n * =============================================================================\r\n * \r\n * Schemas de validacin para formularios de autenticacin y perfil.\r\n * Mensajes en espaol, claros y accionables.\r\n */\r\n\r\nimport { z } from 'zod';\r\n\r\n// =============================================================================\r\n// HELPERS\r\n// =============================================================================\r\n\r\n/** Regex para telfono argentino */\r\nconst phoneRegex = /^(\\+54)?[0-9]{10,11}$/;\r\n\r\n/** Normalizar telfono (remover espacios, guiones) */\r\nexport function normalizePhone(phone: string): string {\r\n  return phone.replace(/[\\s\\-()]/g, '');\r\n}\r\n\r\n// =============================================================================\r\n// AUTH SCHEMAS\r\n// =============================================================================\r\n\r\nexport const loginSchema = z.object({\r\n  email: z\r\n    .string()\r\n    .min(1, 'El email es requerido')\r\n    .email('Ingres un email vlido'),\r\n});\r\n\r\nexport const phoneLoginSchema = z.object({\r\n  phone: z\r\n    .string()\r\n    .min(1, 'El telfono es requerido')\r\n    .transform(normalizePhone)\r\n    .refine((val) => phoneRegex.test(val), {\r\n      message: 'Ingres un nmero de telfono vlido (ej: 1155667788)',\r\n    }),\r\n});\r\n\r\nexport const otpSchema = z.object({\r\n  otp: z\r\n    .string()\r\n    .length(6, 'El cdigo debe tener 6 dgitos')\r\n    .regex(/^[0-9]+$/, 'El cdigo solo puede contener nmeros'),\r\n});\r\n\r\n// =============================================================================\r\n// PROFILE SCHEMAS\r\n// =============================================================================\r\n\r\nexport const profileSchema = z.object({\r\n  name: z\r\n    .string()\r\n    .min(2, 'El nombre debe tener al menos 2 caracteres')\r\n    .max(100, 'El nombre no puede tener ms de 100 caracteres')\r\n    .regex(/^[a-zA-Z\\s]+$/, 'El nombre solo puede contener letras'),\r\n  \r\n  email: z\r\n    .string()\r\n    .email('Ingres un email vlido')\r\n    .optional()\r\n    .or(z.literal('')),\r\n  \r\n  phone: z\r\n    .string()\r\n    .optional()\r\n    .transform((val) => val ? normalizePhone(val) : val)\r\n    .refine((val) => !val || phoneRegex.test(val), {\r\n      message: 'Ingres un nmero de telfono vlido',\r\n    }),\r\n  \r\n  gender: z.enum(['male', 'female'], {\r\n    required_error: 'Seleccion tu gnero',\r\n    invalid_type_error: 'Gnero invlido',\r\n  }),\r\n  \r\n  birth_date: z\r\n    .string()\r\n    .optional()\r\n    .refine((val) => {\r\n      if (!val) return true;\r\n      const date = new Date(val);\r\n      const now = new Date();\r\n      const age = now.getFullYear() - date.getFullYear();\r\n      return age >= 12 && age <= 100;\r\n    }, {\r\n      message: 'La fecha de nacimiento no es vlida',\r\n    }),\r\n});\r\n\r\n/** Schema para completar perfil (campos mnimos requeridos) */\r\nexport const completeProfileSchema = z.object({\r\n  name: z\r\n    .string()\r\n    .min(2, 'El nombre debe tener al menos 2 caracteres')\r\n    .max(100, 'El nombre no puede tener ms de 100 caracteres'),\r\n  \r\n  gender: z.enum(['male', 'female'], {\r\n    required_error: 'Seleccion tu gnero para poder inscribirte a torneos',\r\n  }),\r\n});\r\n\r\n/** Schema para editar perfil (todos opcionales excepto name) */\r\nexport const editProfileSchema = profileSchema.partial().extend({\r\n  name: profileSchema.shape.name,\r\n});\r\n\r\n// =============================================================================\r\n// TYPES\r\n// =============================================================================\r\n\r\nexport type LoginInput = z.infer<typeof loginSchema>;\r\nexport type PhoneLoginInput = z.infer<typeof phoneLoginSchema>;\r\nexport type OtpInput = z.infer<typeof otpSchema>;\r\nexport type ProfileInput = z.infer<typeof profileSchema>;\r\nexport type CompleteProfileInput = z.infer<typeof completeProfileSchema>;\r\nexport type EditProfileInput = z.infer<typeof editProfileSchema>;\r\n\r\n// =============================================================================\r\n// VALIDATION HELPERS\r\n// =============================================================================\r\n\r\nexport interface ValidationResult<T> {\r\n  success: boolean;\r\n  data?: T;\r\n  errors?: Record<string, string>;\r\n}\r\n\r\n/** Validar datos con schema y retornar errores formateados */\r\nexport function validate<T>(\r\n  schema: z.ZodSchema<T>,\r\n  data: unknown\r\n): ValidationResult<T> {\r\n  const result = schema.safeParse(data);\r\n  \r\n  if (result.success) {\r\n    return { success: true, data: result.data };\r\n  }\r\n  \r\n  const errors: Record<string, string> = {};\r\n  for (const error of result.error.errors) {\r\n    const path = error.path.join('.');\r\n    if (!errors[path]) {\r\n      errors[path] = error.message;\r\n    }\r\n  }\r\n  \r\n  return { success: false, errors };\r\n}\r\n\r\n/** Hook-friendly validation */\r\nexport function useValidation<T>(schema: z.ZodSchema<T>) {\r\n  return {\r\n    validate: (data: unknown) => validate(schema, data),\r\n    validateField: (field: string, value: unknown) => {\r\n      const result = schema.safeParse({ [field]: value });\r\n      if (result.success) return null;\r\n      const fieldError = result.error.errors.find(\r\n        (e) => e.path[0] === field\r\n      );\r\n      return fieldError?.message ?? null;\r\n    },\r\n  };\r\n}\r\n\r\n","/**\r\n * =============================================================================\r\n * HOOK DE PERFIL DE USUARIO\r\n * =============================================================================\r\n */\r\n\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { supabase } from '@/lib/supabase';\r\nimport { useAuthStore } from '@/stores/authStore';\r\nimport { useToast } from '@/stores/uiStore';\r\nimport { AppError, ValidationError } from '@/lib/errors';\r\nimport { validate, editProfileSchema, type EditProfileInput } from '@/lib/validations';\r\n\r\n// =============================================================================\r\n// TYPES\r\n// =============================================================================\r\n\r\nexport interface Profile {\r\n  id: string;\r\n  name: string;\r\n  email: string | null;\r\n  phone: string | null;\r\n  gender: 'male' | 'female' | null;\r\n  birth_date: string | null;\r\n  avatar_url: string | null;\r\n  is_complete: boolean;\r\n  completion_missing: string[];\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\n// =============================================================================\r\n// QUERIES\r\n// =============================================================================\r\n\r\nasync function fetchProfile(userId: string): Promise<Profile> {\r\n  const client = supabase as any;\r\n  const { data, error } = await client\r\n    .from('profiles')\r\n    .select('*')\r\n    .eq('id', userId)\r\n    .single();\r\n\r\n  if (error) {\r\n    throw new AppError({\r\n      code: 'PROFILE_FETCH_ERROR',\r\n      status: 500,\r\n      userTitle: 'Error',\r\n      userMessage: 'No se pudo cargar tu perfil',\r\n      retryable: true,\r\n    });\r\n  }\r\n\r\n  return data as Profile;\r\n}\r\n\r\nasync function updateProfile(\r\n  userId: string,\r\n  updates: Partial<EditProfileInput>\r\n): Promise<Profile> {\r\n  // Validar datos\r\n  const validation = validate(editProfileSchema, updates);\r\n  if (!validation.success) {\r\n    const firstError = Object.values(validation.errors ?? {})[0];\r\n    throw new ValidationError(firstError ?? 'Datos invlidos', validation.errors);\r\n  }\r\n\r\n  const client = supabase as any;\r\n  const { data, error } = await client\r\n    .from('profiles')\r\n    .update({\r\n      ...validation.data,\r\n      updated_at: new Date().toISOString(),\r\n    })\r\n    .eq('id', userId)\r\n    .select()\r\n    .single();\r\n\r\n  if (error) {\r\n    throw new AppError({\r\n      code: 'PROFILE_UPDATE_ERROR',\r\n      status: 500,\r\n      userTitle: 'Error al guardar',\r\n      userMessage: 'No se pudieron guardar los cambios. Intent de nuevo.',\r\n      retryable: true,\r\n    });\r\n  }\r\n\r\n  return data as Profile;\r\n}\r\n\r\n// =============================================================================\r\n// HOOK\r\n// =============================================================================\r\n\r\nexport function useProfile() {\r\n  const { user } = useAuthStore();\r\n  const queryClient = useQueryClient();\r\n  const toast = useToast();\r\n\r\n  // Query para obtener perfil\r\n  const {\r\n    data: profile,\r\n    isLoading,\r\n    error,\r\n    refetch,\r\n  } = useQuery({\r\n    queryKey: ['profile', user?.id],\r\n    queryFn: () => fetchProfile(user!.id),\r\n    enabled: !!user?.id,\r\n    staleTime: 1000 * 60 * 5, // 5 minutos\r\n  });\r\n\r\n  // Mutation para actualizar perfil\r\n  const updateMutation = useMutation({\r\n    mutationFn: (updates: Partial<EditProfileInput>) =>\r\n      updateProfile(user!.id, updates),\r\n    onSuccess: (updatedProfile) => {\r\n      // Actualizar cache\r\n      queryClient.setQueryData(['profile', user?.id], updatedProfile);\r\n      toast.success('Perfil actualizado', 'Los cambios se guardaron correctamente');\r\n    },\r\n    onError: (err: AppError) => {\r\n      toast.error(err.userTitle, err.userMessage);\r\n    },\r\n  });\r\n\r\n  return {\r\n    profile,\r\n    isLoading,\r\n    error: error as AppError | null,\r\n    refetch,\r\n    \r\n    // Update\r\n    updateProfile: updateMutation.mutate,\r\n    isUpdating: updateMutation.isPending,\r\n    updateError: updateMutation.error as AppError | null,\r\n    \r\n    // Computed\r\n    isComplete: profile?.is_complete ?? false,\r\n    missingFields: profile?.completion_missing ?? [],\r\n  };\r\n}\r\n\r\n// =============================================================================\r\n// HELPER: Check if profile blocks action\r\n// =============================================================================\r\n\r\nexport function useProfileGate() {\r\n  const { profile, isComplete, missingFields } = useProfile();\r\n  const toast = useToast();\r\n\r\n  /**\r\n   * Verificar si el perfil permite realizar una accin\r\n   * @returns true si puede continuar, false si est bloqueado\r\n   */\r\n  const checkProfileComplete = (action: string = 'realizar esta accin'): boolean => {\r\n    if (isComplete) return true;\r\n\r\n    const missingLabels: Record<string, string> = {\r\n      name: 'nombre',\r\n      gender: 'gnero',\r\n      contact: 'telfono o email',\r\n    };\r\n\r\n    const missing = missingFields\r\n      .map((f) => missingLabels[f] ?? f)\r\n      .join(', ');\r\n\r\n    toast.warning(\r\n      'Complet tu perfil',\r\n      `Para ${action}, necesits completar: ${missing}`\r\n    );\r\n\r\n    return false;\r\n  };\r\n\r\n  return {\r\n    profile,\r\n    isComplete,\r\n    missingFields,\r\n    checkProfileComplete,\r\n  };\r\n}\r\n\r\n","import { cn } from '@/lib/utils';\r\n\r\n// =============================================================================\r\n// SPINNER\r\n// =============================================================================\r\n\r\ninterface SpinnerProps {\r\n  size?: 'sm' | 'md' | 'lg';\r\n  className?: string;\r\n}\r\n\r\nexport function Spinner({ size = 'md', className }: SpinnerProps) {\r\n  const sizeClasses = {\r\n    sm: 'w-4 h-4 border-2',\r\n    md: 'w-8 h-8 border-3',\r\n    lg: 'w-12 h-12 border-4',\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'rounded-full border-primary-600 border-t-transparent animate-spin',\r\n        sizeClasses[size],\r\n        className\r\n      )}\r\n      role=\"status\"\r\n      aria-label=\"Cargando\"\r\n    />\r\n  );\r\n}\r\n\r\n// =============================================================================\r\n// SKELETON\r\n// =============================================================================\r\n\r\ninterface SkeletonProps {\r\n  className?: string;\r\n  variant?: 'text' | 'circular' | 'rectangular';\r\n  width?: string | number;\r\n  height?: string | number;\r\n}\r\n\r\nexport function Skeleton({\r\n  className,\r\n  variant = 'text',\r\n  width,\r\n  height,\r\n}: SkeletonProps) {\r\n  const variantClasses = {\r\n    text: 'h-4 rounded',\r\n    circular: 'rounded-full',\r\n    rectangular: 'rounded-lg',\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'skeleton animate-pulse bg-surface-800',\r\n        variantClasses[variant],\r\n        className\r\n      )}\r\n      style={{\r\n        width: typeof width === 'number' ? `${width}px` : width,\r\n        height: typeof height === 'number' ? `${height}px` : height,\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\n// =============================================================================\r\n// LOADING OVERLAY\r\n// =============================================================================\r\n\r\ninterface LoadingOverlayProps {\r\n  visible: boolean;\r\n  message?: string;\r\n  blur?: boolean;\r\n}\r\n\r\nexport function LoadingOverlay({\r\n  visible,\r\n  message = 'Cargando...',\r\n  blur = true,\r\n}: LoadingOverlayProps) {\r\n  if (!visible) return null;\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'fixed inset-0 z-50 flex items-center justify-center',\r\n        'bg-surface-950/80',\r\n        blur && 'backdrop-blur-sm'\r\n      )}\r\n    >\r\n      <div className=\"flex flex-col items-center gap-4\">\r\n        <Spinner size=\"lg\" />\r\n        <p className=\"text-surface-300 text-sm\">{message}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// =============================================================================\r\n// PAGE LOADER\r\n// =============================================================================\r\n\r\nexport function PageLoader() {\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-[400px]\">\r\n      <div className=\"flex flex-col items-center gap-4\">\r\n        <Spinner size=\"lg\" />\r\n        <p className=\"text-surface-400 text-sm\">Cargando...</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// =============================================================================\r\n// BUTTON LOADER\r\n// =============================================================================\r\n\r\ninterface ButtonLoaderProps {\r\n  loading: boolean;\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport function ButtonLoader({ loading, children }: ButtonLoaderProps) {\r\n  if (loading) {\r\n    return (\r\n      <span className=\"flex items-center gap-2\">\r\n        <Spinner size=\"sm\" className=\"border-current border-t-transparent\" />\r\n        <span>Cargando...</span>\r\n      </span>\r\n    );\r\n  }\r\n  return <>{children}</>;\r\n}\r\n\r\n// =============================================================================\r\n// SKELETON PRESETS\r\n// =============================================================================\r\n\r\nexport function CardSkeleton() {\r\n  return (\r\n    <div className=\"card space-y-4\">\r\n      <Skeleton variant=\"text\" className=\"w-1/3 h-6\" />\r\n      <Skeleton variant=\"text\" className=\"w-full\" />\r\n      <Skeleton variant=\"text\" className=\"w-2/3\" />\r\n      <div className=\"flex gap-2 pt-2\">\r\n        <Skeleton variant=\"rectangular\" className=\"w-20 h-8\" />\r\n        <Skeleton variant=\"rectangular\" className=\"w-20 h-8\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function TableRowSkeleton({ columns = 4 }: { columns?: number }) {\r\n  return (\r\n    <tr className=\"border-b border-surface-800\">\r\n      {Array.from({ length: columns }).map((_, i) => (\r\n        <td key={i} className=\"px-4 py-3\">\r\n          <Skeleton variant=\"text\" className=\"w-full\" />\r\n        </td>\r\n      ))}\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport function ListItemSkeleton() {\r\n  return (\r\n    <div className=\"flex items-center gap-4 p-4 border-b border-surface-800\">\r\n      <Skeleton variant=\"circular\" width={40} height={40} />\r\n      <div className=\"flex-1 space-y-2\">\r\n        <Skeleton variant=\"text\" className=\"w-1/3\" />\r\n        <Skeleton variant=\"text\" className=\"w-1/2 h-3\" />\r\n      </div>\r\n      <Skeleton variant=\"rectangular\" className=\"w-16 h-6\" />\r\n    </div>\r\n  );\r\n}\r\n\r\n// =============================================================================\r\n// PROGRESS BAR\r\n// =============================================================================\r\n\r\ninterface ProgressBarProps {\r\n  progress: number; // 0-100\r\n  showLabel?: boolean;\r\n  size?: 'sm' | 'md';\r\n  className?: string;\r\n}\r\n\r\nexport function ProgressBar({\r\n  progress,\r\n  showLabel = false,\r\n  size = 'md',\r\n  className,\r\n}: ProgressBarProps) {\r\n  const clampedProgress = Math.min(100, Math.max(0, progress));\r\n  const heightClass = size === 'sm' ? 'h-1' : 'h-2';\r\n\r\n  return (\r\n    <div className={className}>\r\n      <div className={cn('w-full bg-surface-800 rounded-full overflow-hidden', heightClass)}>\r\n        <div\r\n          className={cn('bg-primary-500 rounded-full transition-all duration-300', heightClass)}\r\n          style={{ width: `${clampedProgress}%` }}\r\n        />\r\n      </div>\r\n      {showLabel && (\r\n        <p className=\"text-xs text-surface-400 mt-1 text-right\">{Math.round(clampedProgress)}%</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// =============================================================================\r\n// EMPTY STATE\r\n// =============================================================================\r\n\r\ninterface EmptyStateProps {\r\n  icon?: React.ReactNode;\r\n  title: string;\r\n  description?: string;\r\n  action?: React.ReactNode;\r\n}\r\n\r\nexport function EmptyState({ icon, title, description, action }: EmptyStateProps) {\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center py-12 px-4 text-center\">\r\n      {icon && <div className=\"text-surface-600 mb-4\">{icon}</div>}\r\n      <h3 className=\"text-lg font-medium text-surface-200\">{title}</h3>\r\n      {description && <p className=\"text-surface-400 mt-1 max-w-sm\">{description}</p>}\r\n      {action && <div className=\"mt-4\">{action}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\n","/**\r\n * =============================================================================\r\n * GUARD: REQUIRE COMPLETE PROFILE\r\n * =============================================================================\r\n * \r\n * HOC y componente para bloquear acceso a usuarios con perfil incompleto.\r\n * Redirige a la pgina de completar perfil con mensaje claro.\r\n */\r\n\r\nimport { Navigate, useLocation } from 'react-router-dom';\r\nimport { useProfile } from '@/hooks/useProfile';\r\nimport { Spinner } from '@/components/ui/LoadingStates';\r\n\r\ninterface RequireCompleteProfileProps {\r\n  children: React.ReactNode;\r\n  /** Mensaje personalizado para mostrar en la pgina de completar perfil */\r\n  reason?: string;\r\n}\r\n\r\n/**\r\n * Envuelve rutas que requieren perfil completo.\r\n * Si el perfil est incompleto, redirige a /complete-profile.\r\n */\r\nexport function RequireCompleteProfile({ \r\n  children, \r\n  reason \r\n}: RequireCompleteProfileProps) {\r\n  const location = useLocation();\r\n  const { profile, isLoading, isComplete } = useProfile();\r\n\r\n  // Mostrar loading mientras carga el perfil\r\n  if (isLoading || !profile) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-surface-950\">\r\n        <Spinner size=\"lg\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Redirigir si el perfil est incompleto\r\n  if (!isComplete) {\r\n    return (\r\n      <Navigate \r\n        to=\"/complete-profile\" \r\n        state={{ \r\n          from: location.pathname,\r\n          reason: reason ?? 'Complet tu perfil para continuar',\r\n        }}\r\n        replace \r\n      />\r\n    );\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n\r\n/**\r\n * HOC para envolver componentes que requieren perfil completo.\r\n */\r\nexport function withCompleteProfile<P extends object>(\r\n  Component: React.ComponentType<P>,\r\n  reason?: string\r\n) {\r\n  return function WrappedComponent(props: P) {\r\n    return (\r\n      <RequireCompleteProfile reason={reason}>\r\n        <Component {...props} />\r\n      </RequireCompleteProfile>\r\n    );\r\n  };\r\n}\r\n\r\n// =============================================================================\r\n// PROFILE INCOMPLETE MODAL\r\n// =============================================================================\r\n\r\ninterface ProfileIncompleteModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  action: string;\r\n  missingFields: string[];\r\n}\r\n\r\n/**\r\n * Modal que se muestra cuando el usuario intenta una accin\r\n * que requiere perfil completo.\r\n */\r\nexport function ProfileIncompleteModal({\r\n  isOpen,\r\n  onClose,\r\n  action,\r\n  missingFields,\r\n}: ProfileIncompleteModalProps) {\r\n  if (!isOpen) return null;\r\n\r\n  const fieldLabels: Record<string, string> = {\r\n    name: 'Nombre completo',\r\n    gender: 'Gnero',\r\n    contact: 'Email o telfono',\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n      {/* Backdrop */}\r\n      <div \r\n        className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\r\n        onClick={onClose}\r\n      />\r\n      \r\n      {/* Modal */}\r\n      <div className=\"relative bg-surface-900 border border-surface-700 rounded-2xl p-6 max-w-md w-full shadow-2xl animate-in fade-in zoom-in-95 duration-200\">\r\n        {/* Icon */}\r\n        <div className=\"flex justify-center mb-4\">\r\n          <div className=\"w-16 h-16 rounded-full bg-amber-500/20 flex items-center justify-center\">\r\n            <UserAlertIcon className=\"w-8 h-8 text-amber-400\" />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"text-center mb-6\">\r\n          <h2 className=\"text-xl font-bold text-white mb-2\">\r\n            Complet tu perfil\r\n          </h2>\r\n          <p className=\"text-surface-400\">\r\n            Para <strong className=\"text-surface-200\">{action}</strong>, necesits completar tu perfil primero.\r\n          </p>\r\n        </div>\r\n\r\n        {/* Missing fields */}\r\n        <div className=\"bg-surface-800/50 rounded-xl p-4 mb-6\">\r\n          <p className=\"text-sm text-surface-300 mb-2\">Campos faltantes:</p>\r\n          <ul className=\"space-y-1\">\r\n            {missingFields.map((field) => (\r\n              <li key={field} className=\"flex items-center gap-2 text-sm text-surface-400\">\r\n                <span className=\"w-1.5 h-1.5 rounded-full bg-amber-400\" />\r\n                {fieldLabels[field] ?? field}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex gap-3\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"flex-1 px-4 py-2.5 rounded-lg border border-surface-700 text-surface-300 hover:bg-surface-800 transition-colors\"\r\n          >\r\n            Cancelar\r\n          </button>\r\n          <a\r\n            href=\"/complete-profile\"\r\n            className=\"flex-1 px-4 py-2.5 rounded-lg bg-gradient-to-r from-primary-600 to-primary-500 text-white font-medium text-center hover:from-primary-500 hover:to-primary-400 transition-all\"\r\n          >\r\n            Completar ahora\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// =============================================================================\r\n// HOOK: useProfileGate\r\n// =============================================================================\r\n\r\nimport { useState, useCallback } from 'react';\r\n\r\ninterface UseProfileGateReturn {\r\n  /** Verificar si puede realizar accin. Muestra modal si no. */\r\n  checkAndProceed: (action: string, onAllowed: () => void) => void;\r\n  /** Modal component */\r\n  ProfileGateModal: React.FC;\r\n}\r\n\r\n/**\r\n * Hook para verificar perfil completo antes de acciones.\r\n * Muestra un modal si el perfil est incompleto.\r\n */\r\nexport function useProfileGate(): UseProfileGateReturn {\r\n  const { isComplete, missingFields } = useProfile();\r\n  const [modalState, setModalState] = useState<{\r\n    isOpen: boolean;\r\n    action: string;\r\n  }>({ isOpen: false, action: '' });\r\n\r\n  const checkAndProceed = useCallback((\r\n    action: string,\r\n    onAllowed: () => void\r\n  ) => {\r\n    if (isComplete) {\r\n      onAllowed();\r\n    } else {\r\n      setModalState({ isOpen: true, action });\r\n    }\r\n  }, [isComplete]);\r\n\r\n  const closeModal = useCallback(() => {\r\n    setModalState({ isOpen: false, action: '' });\r\n  }, []);\r\n\r\n  const ProfileGateModal = useCallback(() => (\r\n    <ProfileIncompleteModal\r\n      isOpen={modalState.isOpen}\r\n      onClose={closeModal}\r\n      action={modalState.action}\r\n      missingFields={missingFields}\r\n    />\r\n  ), [modalState, closeModal, missingFields]);\r\n\r\n  return {\r\n    checkAndProceed,\r\n    ProfileGateModal,\r\n  };\r\n}\r\n\r\n// =============================================================================\r\n// ICONS\r\n// =============================================================================\r\n\r\nfunction UserAlertIcon({ className }: { className?: string }) {\r\n  return (\r\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\n","import { Routes, Route, Navigate } from 'react-router-dom';\r\nimport { lazy, Suspense } from 'react';\r\nimport { useAuthStore } from '@/stores/authStore';\r\nimport { useTenantStore } from '@/stores/tenantStore';\r\nimport { MainLayout } from '@/components/layout/MainLayout';\r\nimport { LoadingScreen } from '@/components/ui/LoadingScreen';\r\nimport { RequireCompleteProfile } from '@/components/guards/RequireCompleteProfile';\r\n\r\n// Lazy load pages - Auth\r\nconst LoginPage = lazy(() => import('@/pages/auth/LoginPage'));\r\nconst VerifyOtpPage = lazy(() => import('@/pages/auth/VerifyOtpPage'));\r\nconst CompleteProfilePage = lazy(() => import('@/pages/auth/CompleteProfilePage'));\r\nconst AuthCallbackPage = lazy(() => import('@/pages/auth/AuthCallbackPage'));\r\n\r\n// Lazy load pages - Profile\r\nconst EditProfilePage = lazy(() => import('@/pages/profile/EditProfilePage'));\r\n\r\n// Lazy load pages - App\r\nconst DashboardPage = lazy(() => import('@/pages/dashboard/DashboardPage'));\r\nconst TournamentsPage = lazy(() => import('@/pages/tournaments/TournamentsPage'));\r\nconst TournamentDetailPage = lazy(() => import('@/pages/tournaments/TournamentDetailPage'));\r\nconst MatchesPage = lazy(() => import('@/pages/matches/MatchesPage'));\r\nconst RankingsPage = lazy(() => import('@/pages/rankings/RankingsPage'));\r\nconst SettingsPage = lazy(() => import('@/pages/settings/SettingsPage'));\r\nconst NotFoundPage = lazy(() => import('@/pages/NotFoundPage'));\r\n\r\n// =============================================================================\r\n// ROUTE GUARDS\r\n// =============================================================================\r\n\r\n/** Rutas pblicas - redirige a dashboard si ya est logueado */\r\nfunction PublicOnlyRoute({ children }: { children: React.ReactNode }) {\r\n  const { isAuthenticated, isLoading } = useAuthStore();\r\n\r\n  if (isLoading) {\r\n    return <LoadingScreen />;\r\n  }\r\n\r\n  if (isAuthenticated) {\r\n    return <Navigate to=\"/dashboard\" replace />;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n\r\n/** Rutas que requieren autenticacin */\r\nfunction ProtectedRoute({ children }: { children: React.ReactNode }) {\r\n  const { isAuthenticated, isLoading: authLoading } = useAuthStore();\r\n  const { currentTenant, isLoading: tenantLoading } = useTenantStore();\r\n\r\n  if (authLoading || tenantLoading) {\r\n    return <LoadingScreen />;\r\n  }\r\n\r\n  if (!isAuthenticated) {\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n\r\n  if (!currentTenant) {\r\n    return <Navigate to=\"/select-tenant\" replace />;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n\r\n/** Rutas que requieren autenticacin pero NO tenant (ej: completar perfil) */\r\nfunction AuthOnlyRoute({ children }: { children: React.ReactNode }) {\r\n  const { isAuthenticated, isLoading } = useAuthStore();\r\n\r\n  if (isLoading) {\r\n    return <LoadingScreen />;\r\n  }\r\n\r\n  if (!isAuthenticated) {\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n\r\n/** Rutas solo para admins */\r\nfunction AdminRoute({ children }: { children: React.ReactNode }) {\r\n  const { currentMembership } = useTenantStore();\r\n  const isAdmin = currentMembership?.role === 'admin' || currentMembership?.role === 'owner';\r\n\r\n  if (!isAdmin) {\r\n    return <Navigate to=\"/dashboard\" replace />;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n\r\n// =============================================================================\r\n// ROUTES\r\n// =============================================================================\r\n\r\nexport function AppRoutes() {\r\n  return (\r\n    <Suspense fallback={<LoadingScreen />}>\r\n      <Routes>\r\n        {/* ============================================\r\n            PUBLIC ROUTES (only for non-authenticated)\r\n            ============================================ */}\r\n        <Route\r\n          path=\"/login\"\r\n          element={\r\n            <PublicOnlyRoute>\r\n              <LoginPage />\r\n            </PublicOnlyRoute>\r\n          }\r\n        />\r\n        <Route\r\n          path=\"/auth/verify\"\r\n          element={\r\n            <PublicOnlyRoute>\r\n              <VerifyOtpPage />\r\n            </PublicOnlyRoute>\r\n          }\r\n        />\r\n        <Route path=\"/auth/callback\" element={<AuthCallbackPage />} />\r\n\r\n        {/* ============================================\r\n            AUTH-ONLY ROUTES (no tenant required)\r\n            ============================================ */}\r\n        <Route\r\n          path=\"/complete-profile\"\r\n          element={\r\n            <AuthOnlyRoute>\r\n              <CompleteProfilePage />\r\n            </AuthOnlyRoute>\r\n          }\r\n        />\r\n\r\n        {/* ============================================\r\n            PROTECTED ROUTES (auth + tenant required)\r\n            ============================================ */}\r\n        <Route\r\n          path=\"/\"\r\n          element={\r\n            <ProtectedRoute>\r\n              <MainLayout />\r\n            </ProtectedRoute>\r\n          }\r\n        >\r\n          <Route index element={<Navigate to=\"/dashboard\" replace />} />\r\n          \r\n          {/* Dashboard */}\r\n          <Route path=\"dashboard\" element={<DashboardPage />} />\r\n          \r\n          {/* Profile */}\r\n          <Route path=\"profile\" element={<EditProfilePage />} />\r\n          \r\n          {/* Tournaments - requiere perfil completo para inscribirse */}\r\n          <Route path=\"tournaments\" element={<TournamentsPage />} />\r\n          <Route\r\n            path=\"tournaments/:id\"\r\n            element={\r\n              <RequireCompleteProfile reason=\"inscribirte a torneos\">\r\n                <TournamentDetailPage />\r\n              </RequireCompleteProfile>\r\n            }\r\n          />\r\n          \r\n          {/* Matches - requiere perfil completo para reportar */}\r\n          <Route\r\n            path=\"matches\"\r\n            element={\r\n              <RequireCompleteProfile reason=\"ver y reportar partidos\">\r\n                <MatchesPage />\r\n              </RequireCompleteProfile>\r\n            }\r\n          />\r\n          \r\n          {/* Rankings */}\r\n          <Route path=\"rankings\" element={<RankingsPage />} />\r\n          \r\n          {/* Admin only */}\r\n          <Route\r\n            path=\"settings\"\r\n            element={\r\n              <AdminRoute>\r\n                <SettingsPage />\r\n              </AdminRoute>\r\n            }\r\n          />\r\n        </Route>\r\n\r\n        {/* ============================================\r\n            404\r\n            ============================================ */}\r\n        <Route path=\"*\" element={<NotFoundPage />} />\r\n      </Routes>\r\n    </Suspense>\r\n  );\r\n}\r\n","import { useEffect, type ReactNode } from 'react';\r\nimport { supabase } from '@/lib/supabase';\r\nimport { useAuthStore } from '@/stores/authStore';\r\n\r\ninterface AuthProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport function AuthProvider({ children }: AuthProviderProps) {\r\n  const { setSession, setLoading, logout } = useAuthStore();\r\n\r\n  useEffect(() => {\r\n    // Get initial session\r\n    supabase.auth.getSession().then(({ data: { session } }) => {\r\n      setSession(session);\r\n    });\r\n\r\n    // Listen for auth changes\r\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\r\n      async (event, session) => {\r\n        console.log('[Auth] State changed:', event);\r\n        \r\n        switch (event) {\r\n          case 'SIGNED_IN':\r\n          case 'TOKEN_REFRESHED':\r\n            setSession(session);\r\n            break;\r\n          case 'SIGNED_OUT':\r\n            logout();\r\n            break;\r\n          case 'USER_UPDATED':\r\n            setSession(session);\r\n            break;\r\n          default:\r\n            setLoading(false);\r\n        }\r\n      }\r\n    );\r\n\r\n    return () => {\r\n      subscription.unsubscribe();\r\n    };\r\n  }, [setSession, setLoading, logout]);\r\n\r\n  return <>{children}</>;\r\n}\r\n\r\n","import { useEffect, type ReactNode } from 'react';\r\nimport { useAuthStore } from '@/stores/authStore';\r\nimport { useTenantStore, type Tenant, type TenantMembership, type TenantRole } from '@/stores/tenantStore';\r\nimport { supabase } from '@/lib/supabase';\r\n\r\ninterface TenantProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport function TenantProvider({ children }: TenantProviderProps) {\r\n  const { user, isAuthenticated } = useAuthStore();\r\n  const { \r\n    setCurrentTenant, \r\n    setAvailableTenants, \r\n    setLoading,\r\n    currentTenant,\r\n    clear \r\n  } = useTenantStore();\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated || !user) {\r\n      clear();\r\n      return;\r\n    }\r\n\r\n    const userId = user.id;\r\n\r\n    async function loadTenants() {\r\n      setLoading(true);\r\n      \r\n      try {\r\n        // Get user's tenant memberships\r\n        const { data: memberships, error } = await (supabase as any)\r\n          .from('tenant_users')\r\n          .select(`\r\n            id,\r\n            role,\r\n            status,\r\n            tenant:tenants (\r\n              id,\r\n              name,\r\n              slug,\r\n              plan,\r\n              status,\r\n              logo_url\r\n            )\r\n          `)\r\n          .eq('profile_id', userId)\r\n          .eq('status', 'active');\r\n\r\n        if (error) {\r\n          console.error('[Tenant] Error loading memberships:', error);\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        const membershipList = (memberships ?? []) as Array<{\r\n          id: string;\r\n          role: string;\r\n          status: string;\r\n          tenant: {\r\n            id: string;\r\n            name: string;\r\n            slug: string;\r\n            plan: string;\r\n            status: string;\r\n            logo_url?: string | null;\r\n          } | null;\r\n        }>;\r\n\r\n        if (membershipList.length === 0) {\r\n          setAvailableTenants([]);\r\n          setCurrentTenant(null);\r\n          return;\r\n        }\r\n\r\n        // Transform to Tenant array\r\n        const tenants: Tenant[] = membershipList\r\n          .filter((m) => m.tenant)\r\n          .map((m) => ({\r\n            id: m.tenant!.id,\r\n            name: m.tenant!.name,\r\n            slug: m.tenant!.slug,\r\n            plan: (m.tenant!.plan ?? 'free') as Tenant['plan'],\r\n            status: (m.tenant!.status ?? 'active') as Tenant['status'],\r\n            logoUrl: m.tenant!.logo_url ?? undefined,\r\n          }));\r\n\r\n        setAvailableTenants(tenants);\r\n\r\n        // Set current tenant (first one or previously selected)\r\n        const savedTenantId = currentTenant?.id;\r\n        const targetTenant = savedTenantId \r\n          ? tenants.find(t => t.id === savedTenantId) ?? tenants[0]\r\n          : tenants[0];\r\n\r\n        if (targetTenant) {\r\n          const membership = membershipList.find(\r\n            (m) => m.tenant?.id === targetTenant.id\r\n          );\r\n          \r\n          const tenantMembership: TenantMembership | null = membership ? {\r\n            tenantId: targetTenant.id,\r\n            tenantUserId: membership.id,\r\n            role: (membership.role as TenantRole) ?? 'player',\r\n            status: (membership.status as TenantMembership['status']) ?? 'active',\r\n          } : null;\r\n\r\n          setCurrentTenant(targetTenant, tenantMembership);\r\n        }\r\n      } catch (err) {\r\n        console.error('[Tenant] Unexpected error:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    loadTenants();\r\n  }, [isAuthenticated, user, setCurrentTenant, setAvailableTenants, setLoading, clear, currentTenant?.id]);\r\n\r\n  return <>{children}</>;\r\n}\r\n\r\n","import { Component, type ReactNode } from 'react';\r\nimport * as Sentry from '@sentry/react';\r\nimport { AppError, isAuthError } from '@/lib/errors';\r\n\r\ninterface Props {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n  onError?: (error: Error, errorInfo: React.ErrorInfo) => void;\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean;\r\n  error: Error | null;\r\n}\r\n\r\n/**\r\n * Error Boundary global que captura errores de React\r\n * \r\n * Caractersticas:\r\n * - Captura errores de renderizado\r\n * - Reporta a Sentry\r\n * - Muestra UI de fallback amigable\r\n * - Permite recovery\r\n */\r\nexport class ErrorBoundaryProvider extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = { hasError: false, error: null };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error): State {\r\n    return { hasError: true, error };\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\r\n    // Log to console\r\n    console.error('[ErrorBoundary] Caught error:', error, errorInfo);\r\n\r\n    // Report to Sentry\r\n    Sentry.withScope((scope) => {\r\n      scope.setExtras({\r\n        componentStack: errorInfo.componentStack,\r\n      });\r\n      \r\n      if (error instanceof AppError) {\r\n        scope.setTag('error_code', error.code);\r\n        scope.setTag('error_status', error.status.toString());\r\n        scope.setExtra('requestId', error.requestId);\r\n      }\r\n\r\n      Sentry.captureException(error);\r\n    });\r\n\r\n    // Call custom handler\r\n    this.props.onError?.(error, errorInfo);\r\n\r\n    // If auth error, redirect to login\r\n    if (isAuthError(error)) {\r\n      window.location.href = '/login';\r\n    }\r\n  }\r\n\r\n  handleReset = () => {\r\n    this.setState({ hasError: false, error: null });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      if (this.props.fallback) {\r\n        return this.props.fallback;\r\n      }\r\n\r\n      return (\r\n        <ErrorFallback\r\n          error={this.state.error}\r\n          onReset={this.handleReset}\r\n        />\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\n// =============================================================================\r\n// FALLBACK UI\r\n// =============================================================================\r\n\r\ninterface ErrorFallbackProps {\r\n  error: Error | null;\r\n  onReset: () => void;\r\n}\r\n\r\nfunction ErrorFallback({ error, onReset }: ErrorFallbackProps) {\r\n  const isAppErr = error instanceof AppError;\r\n  const title = isAppErr ? error.userTitle : 'Algo sali mal';\r\n  const message = isAppErr\r\n    ? error.userMessage\r\n    : 'Ocurri un error inesperado. Por favor, recarg la pgina.';\r\n  const requestId = isAppErr ? error.requestId : undefined;\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-surface-950 p-4\">\r\n      <div className=\"max-w-md w-full\">\r\n        <div className=\"card text-center\">\r\n          {/* Icon */}\r\n          <div className=\"w-16 h-16 mx-auto mb-6 rounded-full bg-red-500/20 flex items-center justify-center\">\r\n            <svg\r\n              className=\"w-8 h-8 text-red-400\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\r\n              />\r\n            </svg>\r\n          </div>\r\n\r\n          {/* Title */}\r\n          <h1 className=\"text-2xl font-display font-bold text-surface-100 mb-2\">\r\n            {title}\r\n          </h1>\r\n\r\n          {/* Message */}\r\n          <p className=\"text-surface-400 mb-6\">{message}</p>\r\n\r\n          {/* Request ID */}\r\n          {requestId && (\r\n            <p className=\"text-xs text-surface-600 mb-6 font-mono\">\r\n              ID: {requestId}\r\n            </p>\r\n          )}\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex flex-col sm:flex-row gap-3 justify-center\">\r\n            <button onClick={onReset} className=\"btn-primary\">\r\n              Intentar de nuevo\r\n            </button>\r\n            <button\r\n              onClick={() => window.location.reload()}\r\n              className=\"btn-secondary\"\r\n            >\r\n              Recargar pgina\r\n            </button>\r\n          </div>\r\n\r\n          {/* Support link */}\r\n          <p className=\"text-xs text-surface-500 mt-6\">\r\n            Si el problema persiste,{' '}\r\n            <a href=\"mailto:soporte@padel.com\" className=\"text-primary-400 hover:underline\">\r\n              contact a soporte\r\n            </a>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// =============================================================================\r\n// HOC FOR FUNCTIONAL COMPONENTS\r\n// =============================================================================\r\n\r\nexport function withErrorBoundary<P extends object>(\r\n  Component: React.ComponentType<P>,\r\n  fallback?: ReactNode\r\n) {\r\n  return function WithErrorBoundary(props: P) {\r\n    return (\r\n      <ErrorBoundaryProvider fallback={fallback}>\r\n        <Component {...props} />\r\n      </ErrorBoundaryProvider>\r\n    );\r\n  };\r\n}\r\n\r\n","import { useUIStore, type Toast } from '@/stores/uiStore';\r\nimport { cn } from '@/lib/utils';\r\n\r\nexport function Toaster() {\r\n  const { toasts, removeToast } = useUIStore();\r\n\r\n  if (toasts.length === 0) return null;\r\n\r\n  return (\r\n    <div className=\"fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-sm\">\r\n      {toasts.map((toast) => (\r\n        <ToastItem key={toast.id} toast={toast} onClose={() => removeToast(toast.id)} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface ToastItemProps {\r\n  toast: Toast;\r\n  onClose: () => void;\r\n}\r\n\r\nfunction ToastItem({ toast, onClose }: ToastItemProps) {\r\n  const iconMap = {\r\n    success: '',\r\n    error: '',\r\n    warning: '',\r\n    info: '',\r\n  };\r\n\r\n  const colorMap = {\r\n    success: 'border-green-500 bg-green-500/10',\r\n    error: 'border-red-500 bg-red-500/10',\r\n    warning: 'border-yellow-500 bg-yellow-500/10',\r\n    info: 'border-blue-500 bg-blue-500/10',\r\n  };\r\n\r\n  const iconColorMap = {\r\n    success: 'text-green-400',\r\n    error: 'text-red-400',\r\n    warning: 'text-yellow-400',\r\n    info: 'text-blue-400',\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'flex items-start gap-3 p-4 rounded-lg border shadow-lg animate-slide-up',\r\n        'bg-surface-900',\r\n        colorMap[toast.type]\r\n      )}\r\n    >\r\n      <span className={cn('text-lg', iconColorMap[toast.type])}>\r\n        {iconMap[toast.type]}\r\n      </span>\r\n      <div className=\"flex-1 min-w-0\">\r\n        <p className=\"font-medium text-surface-100\">{toast.title}</p>\r\n        {toast.message && (\r\n          <p className=\"text-sm text-surface-400 mt-0.5\">{toast.message}</p>\r\n        )}\r\n      </div>\r\n      <button\r\n        onClick={onClose}\r\n        className=\"text-surface-500 hover:text-surface-300 transition-colors\"\r\n      >\r\n        \r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect, useCallback } from 'react';\r\n\r\ninterface OnlineStatus {\r\n  isOnline: boolean;\r\n  wasOffline: boolean;\r\n  lastOnline: Date | null;\r\n  checkConnection: () => Promise<boolean>;\r\n}\r\n\r\n/**\r\n * Hook para detectar estado de conexin\r\n * \r\n * Caractersticas:\r\n * - Detecta cambios de navigator.onLine\r\n * - Verifica conexin real con ping al servidor\r\n * - Trackea si estuvo offline (para mostrar \"reconectado\")\r\n */\r\nexport function useOnlineStatus(): OnlineStatus {\r\n  const [isOnline, setIsOnline] = useState(navigator.onLine);\r\n  const [wasOffline, setWasOffline] = useState(false);\r\n  const [lastOnline, setLastOnline] = useState<Date | null>(\r\n    navigator.onLine ? new Date() : null\r\n  );\r\n\r\n  // Verificar conexin real haciendo ping\r\n  const checkConnection = useCallback(async (): Promise<boolean> => {\r\n    try {\r\n      // Intentar hacer un request pequeo\r\n      const controller = new AbortController();\r\n      const timeoutId = setTimeout(() => controller.abort(), 5000);\r\n\r\n      const response = await fetch('/api/health', {\r\n        method: 'HEAD',\r\n        signal: controller.signal,\r\n        cache: 'no-store',\r\n      });\r\n\r\n      clearTimeout(timeoutId);\r\n      return response.ok;\r\n    } catch {\r\n      return false;\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleOnline = () => {\r\n      setIsOnline(true);\r\n      setLastOnline(new Date());\r\n      // Si estaba offline, marcar para mostrar \"reconectado\"\r\n      if (!isOnline) {\r\n        setWasOffline(true);\r\n        // Limpiar flag despus de 5 segundos\r\n        setTimeout(() => setWasOffline(false), 5000);\r\n      }\r\n    };\r\n\r\n    const handleOffline = () => {\r\n      setIsOnline(false);\r\n    };\r\n\r\n    window.addEventListener('online', handleOnline);\r\n    window.addEventListener('offline', handleOffline);\r\n\r\n    // Verificar estado inicial\r\n    if (navigator.onLine) {\r\n      checkConnection().then((connected) => {\r\n        if (!connected) {\r\n          setIsOnline(false);\r\n        }\r\n      });\r\n    }\r\n\r\n    return () => {\r\n      window.removeEventListener('online', handleOnline);\r\n      window.removeEventListener('offline', handleOffline);\r\n    };\r\n  }, [isOnline, checkConnection]);\r\n\r\n  return {\r\n    isOnline,\r\n    wasOffline,\r\n    lastOnline,\r\n    checkConnection,\r\n  };\r\n}\r\n\r\n","import { cn } from '@/lib/utils';\r\nimport { useOnlineStatus } from '@/hooks/useOnlineStatus';\r\n\r\n/**\r\n * Banner global que aparece cuando no hay conexin\r\n * \r\n * Caractersticas:\r\n * - Se muestra automticamente cuando est offline\r\n * - Muestra \"reconectado\" brevemente al volver online\r\n * - Sticky en la parte superior\r\n */\r\nexport function OfflineBanner() {\r\n  const { isOnline, wasOffline } = useOnlineStatus();\r\n\r\n  // No mostrar nada si est online y no estuvo offline recientemente\r\n  if (isOnline && !wasOffline) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'fixed top-0 left-0 right-0 z-50',\r\n        'px-4 py-2 text-center text-sm font-medium',\r\n        'transition-all duration-300 animate-slide-down',\r\n        isOnline\r\n          ? 'bg-green-600 text-white'\r\n          : 'bg-yellow-600 text-yellow-50'\r\n      )}\r\n      role=\"alert\"\r\n    >\r\n      {isOnline ? (\r\n        <span className=\"flex items-center justify-center gap-2\">\r\n          <CheckIcon className=\"w-4 h-4\" />\r\n          Conexin restablecida\r\n        </span>\r\n      ) : (\r\n        <span className=\"flex items-center justify-center gap-2\">\r\n          <WifiOffIcon className=\"w-4 h-4\" />\r\n          Sin conexin a internet\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n * Indicador compacto de estado de conexin\r\n */\r\nexport function ConnectionIndicator() {\r\n  const { isOnline } = useOnlineStatus();\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'flex items-center gap-1.5 text-xs',\r\n        isOnline ? 'text-green-400' : 'text-yellow-400'\r\n      )}\r\n    >\r\n      <span\r\n        className={cn(\r\n          'w-2 h-2 rounded-full',\r\n          isOnline ? 'bg-green-400' : 'bg-yellow-400 animate-pulse'\r\n        )}\r\n      />\r\n      {isOnline ? 'Conectado' : 'Sin conexin'}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction CheckIcon({ className }: { className?: string }) {\r\n  return (\r\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction WifiOffIcon({ className }: { className?: string }) {\r\n  return (\r\n    <svg className={className} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n      <path\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        strokeWidth={2}\r\n        d=\"M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n\r\n","/**\r\n * =============================================================================\r\n * CLIENTE API CON MANEJO DE ERRORES Y RETRY\r\n * =============================================================================\r\n * \r\n * Wrapper sobre fetch que:\r\n * - Transforma errores a AppError\r\n * - Retry automtico para errores transitorios\r\n * - Manejo de offline\r\n * - Headers de tenant automticos\r\n */\r\n\r\nimport { getSession } from './supabase';\r\nimport {\r\n  AppError,\r\n  NetworkError,\r\n  TimeoutError,\r\n  AuthenticationError,\r\n  errorFromCode,\r\n} from './errors';\r\nimport { useTenantStore } from '@/stores/tenantStore';\r\n\r\n// =============================================================================\r\n// TYPES\r\n// =============================================================================\r\n\r\ninterface ApiRequestConfig {\r\n  /** Timeout en ms (default: 30000) */\r\n  timeout?: number;\r\n  /** Nmero de reintentos (default: 3) */\r\n  retries?: number;\r\n  /** Headers adicionales */\r\n  headers?: Record<string, string>;\r\n  /** Idempotency key para POST/PUT/DELETE */\r\n  idempotencyKey?: string;\r\n  /** Skip retry (para operaciones no idempotentes) */\r\n  skipRetry?: boolean;\r\n}\r\n\r\ninterface ApiResponse<T> {\r\n  data: T;\r\n  headers: Headers;\r\n  status: number;\r\n}\r\n\r\n// =============================================================================\r\n// HELPERS\r\n// =============================================================================\r\n\r\nfunction sleep(ms: number): Promise<void> {\r\n  return new Promise((resolve) => setTimeout(resolve, ms));\r\n}\r\n\r\nfunction calculateBackoff(attempt: number, baseDelay = 1000): number {\r\n  const delay = baseDelay * Math.pow(2, attempt - 1);\r\n  const jitter = Math.random() * 0.3 * delay;\r\n  return Math.min(delay + jitter, 30000);\r\n}\r\n\r\n// =============================================================================\r\n// FETCH WITH TIMEOUT\r\n// =============================================================================\r\n\r\nasync function fetchWithTimeout(\r\n  url: string,\r\n  options: RequestInit,\r\n  timeout: number\r\n): Promise<Response> {\r\n  const controller = new AbortController();\r\n  const timeoutId = setTimeout(() => controller.abort(), timeout);\r\n\r\n  try {\r\n    const response = await fetch(url, {\r\n      ...options,\r\n      signal: controller.signal,\r\n    });\r\n    clearTimeout(timeoutId);\r\n    return response;\r\n  } catch (error) {\r\n    clearTimeout(timeoutId);\r\n    \r\n    if (error instanceof Error) {\r\n      if (error.name === 'AbortError') {\r\n        throw new TimeoutError();\r\n      }\r\n      if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError')) {\r\n        throw new NetworkError();\r\n      }\r\n    }\r\n    throw error;\r\n  }\r\n}\r\n\r\n// =============================================================================\r\n// API CLIENT\r\n// =============================================================================\r\n\r\nclass ApiClient {\r\n  private baseUrl: string;\r\n\r\n  constructor() {\r\n    this.baseUrl = import.meta.env.VITE_SUPABASE_URL;\r\n  }\r\n\r\n  private async getHeaders(config: ApiRequestConfig): Promise<Headers> {\r\n    const headers = new Headers({\r\n      'Content-Type': 'application/json',\r\n      ...config.headers,\r\n    });\r\n\r\n    // Auth token\r\n    const session = await getSession();\r\n    if (session?.access_token) {\r\n      headers.set('Authorization', `Bearer ${session.access_token}`);\r\n    }\r\n\r\n    // Tenant ID\r\n    const tenantId = useTenantStore.getState().currentTenant?.id;\r\n    if (tenantId) {\r\n      headers.set('X-Tenant-ID', tenantId);\r\n    }\r\n\r\n    // Idempotency key\r\n    if (config.idempotencyKey) {\r\n      headers.set('Idempotency-Key', config.idempotencyKey);\r\n    }\r\n\r\n    return headers;\r\n  }\r\n\r\n  private async handleResponse<T>(response: Response): Promise<ApiResponse<T>> {\r\n    // Handle no content\r\n    if (response.status === 204) {\r\n      return {\r\n        data: null as T,\r\n        headers: response.headers,\r\n        status: response.status,\r\n      };\r\n    }\r\n\r\n    const contentType = response.headers.get('content-type');\r\n    let data: unknown;\r\n\r\n    if (contentType?.includes('application/json')) {\r\n      data = await response.json();\r\n    } else {\r\n      data = await response.text();\r\n    }\r\n\r\n    // Handle errors\r\n    if (!response.ok) {\r\n      const errorData = data as { error?: { code?: string; message?: string; requestId?: string } };\r\n      throw errorFromCode(errorData.error?.code ?? 'UNKNOWN_ERROR', {\r\n        technicalMessage: errorData.error?.message,\r\n        requestId: errorData.error?.requestId,\r\n        retryAfter: response.headers.get('Retry-After')\r\n          ? parseInt(response.headers.get('Retry-After')!, 10)\r\n          : undefined,\r\n      });\r\n    }\r\n\r\n    return {\r\n      data: (data as { data: T }).data ?? (data as T),\r\n      headers: response.headers,\r\n      status: response.status,\r\n    };\r\n  }\r\n\r\n  async request<T>(\r\n    method: string,\r\n    endpoint: string,\r\n    body?: unknown,\r\n    config: ApiRequestConfig = {}\r\n  ): Promise<ApiResponse<T>> {\r\n    const {\r\n      timeout = 30000,\r\n      retries = 3,\r\n      skipRetry = false,\r\n    } = config;\r\n\r\n    const url = endpoint.startsWith('http')\r\n      ? endpoint\r\n      : `${this.baseUrl}/functions/v1/${endpoint}`;\r\n\r\n    const headers = await this.getHeaders(config);\r\n    const options: RequestInit = {\r\n      method,\r\n      headers,\r\n      body: body ? JSON.stringify(body) : undefined,\r\n    };\r\n\r\n    let lastError: AppError | null = null;\r\n    let attempt = 0;\r\n\r\n    while (attempt < retries) {\r\n      attempt++;\r\n\r\n      try {\r\n        const response = await fetchWithTimeout(url, options, timeout);\r\n        return await this.handleResponse<T>(response);\r\n      } catch (error) {\r\n        if (error instanceof AppError) {\r\n          lastError = error;\r\n\r\n          // No retry para ciertos errores\r\n          if (skipRetry || !error.retryable || error instanceof AuthenticationError) {\r\n            throw error;\r\n          }\r\n\r\n          // ltimo intento\r\n          if (attempt >= retries) {\r\n            throw error;\r\n          }\r\n\r\n          // Esperar antes de reintentar\r\n          const delay = error.retryDelay ?? calculateBackoff(attempt);\r\n          await sleep(delay);\r\n        } else {\r\n          // Error desconocido\r\n          throw AppError.fromNetworkError(error as Error);\r\n        }\r\n      }\r\n    }\r\n\r\n    throw lastError ?? new AppError({\r\n      code: 'UNKNOWN_ERROR',\r\n      status: 0,\r\n      userTitle: 'Error',\r\n      userMessage: 'Ocurri un error inesperado',\r\n      retryable: false,\r\n    });\r\n  }\r\n\r\n  // Convenience methods\r\n  async get<T>(endpoint: string, config?: ApiRequestConfig): Promise<T> {\r\n    const response = await this.request<T>('GET', endpoint, undefined, config);\r\n    return response.data;\r\n  }\r\n\r\n  async post<T>(endpoint: string, body?: unknown, config?: ApiRequestConfig): Promise<T> {\r\n    const response = await this.request<T>('POST', endpoint, body, {\r\n      ...config,\r\n      idempotencyKey: config?.idempotencyKey ?? crypto.randomUUID(),\r\n    });\r\n    return response.data;\r\n  }\r\n\r\n  async put<T>(endpoint: string, body?: unknown, config?: ApiRequestConfig): Promise<T> {\r\n    const response = await this.request<T>('PUT', endpoint, body, {\r\n      ...config,\r\n      idempotencyKey: config?.idempotencyKey ?? crypto.randomUUID(),\r\n    });\r\n    return response.data;\r\n  }\r\n\r\n  async patch<T>(endpoint: string, body?: unknown, config?: ApiRequestConfig): Promise<T> {\r\n    const response = await this.request<T>('PATCH', endpoint, body, config);\r\n    return response.data;\r\n  }\r\n\r\n  async delete<T>(endpoint: string, config?: ApiRequestConfig): Promise<T> {\r\n    const response = await this.request<T>('DELETE', endpoint, undefined, {\r\n      ...config,\r\n      idempotencyKey: config?.idempotencyKey ?? crypto.randomUUID(),\r\n    });\r\n    return response.data;\r\n  }\r\n}\r\n\r\n// Singleton\r\nexport const api = new ApiClient();\r\n\r\n// =============================================================================\r\n// REACT QUERY HELPERS\r\n// =============================================================================\r\n\r\n/**\r\n * Wrapper para usar con React Query que maneja errores correctamente\r\n */\r\nexport function queryFn<T>(fn: () => Promise<T>) {\r\n  return async (): Promise<T> => {\r\n    try {\r\n      return await fn();\r\n    } catch (error) {\r\n      if (error instanceof AppError) {\r\n        throw error;\r\n      }\r\n      throw AppError.fromNetworkError(error as Error);\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * Configuracin default para React Query\r\n */\r\nexport const defaultQueryConfig = {\r\n  retry: (failureCount: number, error: unknown) => {\r\n    if (error instanceof AppError) {\r\n      return error.retryable && failureCount < 3;\r\n    }\r\n    return failureCount < 3;\r\n  },\r\n  retryDelay: (attemptIndex: number, error: unknown) => {\r\n    if (error instanceof AppError && error.retryDelay) {\r\n      return error.retryDelay;\r\n    }\r\n    return calculateBackoff(attemptIndex + 1);\r\n  },\r\n};\r\n\r\n","import { QueryClient, QueryClientProvider } from '@tanstack/react-query';\r\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { useEffect } from 'react';\r\nimport * as Sentry from '@sentry/react';\r\nimport { AppRoutes } from './routes';\r\nimport { AuthProvider } from './providers/AuthProvider';\r\nimport { TenantProvider } from './providers/TenantProvider';\r\nimport { ErrorBoundaryProvider } from './providers/ErrorBoundaryProvider';\r\nimport { Toaster } from './components/ui/Toaster';\r\nimport { OfflineBanner } from './components/ui/OfflineBanner';\r\nimport { LoadingOverlay } from './components/ui/LoadingStates';\r\nimport { useUIStore } from './stores/uiStore';\r\nimport { AppError, isAppError } from './lib/errors';\r\nimport { defaultQueryConfig } from './lib/api';\r\n\r\n// Initialize Sentry\r\nif (import.meta.env.PROD && import.meta.env.VITE_SENTRY_DSN) {\r\n  Sentry.init({\r\n    dsn: import.meta.env.VITE_SENTRY_DSN,\r\n    integrations: [\r\n      Sentry.browserTracingIntegration(),\r\n      Sentry.replayIntegration(),\r\n    ],\r\n    tracesSampleRate: 0.1,\r\n    replaysSessionSampleRate: 0.1,\r\n    replaysOnErrorSampleRate: 1.0,\r\n    environment: import.meta.env.MODE,\r\n    beforeSend(event, hint) {\r\n      // Enrich error with AppError metadata\r\n      const error = hint.originalException;\r\n      if (isAppError(error)) {\r\n        event.tags = {\r\n          ...event.tags,\r\n          error_code: error.code,\r\n          error_status: error.status.toString(),\r\n        };\r\n        event.extra = {\r\n          ...event.extra,\r\n          requestId: error.requestId,\r\n          retryable: error.retryable,\r\n        };\r\n      }\r\n      return event;\r\n    },\r\n  });\r\n}\r\n\r\n// Configure React Query with AppError support\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      staleTime: 1000 * 60 * 5, // 5 minutes\r\n      gcTime: 1000 * 60 * 30, // 30 minutes\r\n      retry: defaultQueryConfig.retry,\r\n      retryDelay: defaultQueryConfig.retryDelay,\r\n      refetchOnWindowFocus: false,\r\n    },\r\n    mutations: {\r\n      retry: (failureCount, error) => {\r\n        // Solo retry para errores retryables\r\n        if (error instanceof AppError) {\r\n          return error.retryable && failureCount < 2;\r\n        }\r\n        return false;\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nexport function App() {\r\n  const globalLoading = useUIStore((state) => state.globalLoading);\r\n\r\n  useEffect(() => {\r\n    // Log app initialization\r\n    console.log('[App] Initialized', {\r\n      env: import.meta.env.MODE,\r\n      version: import.meta.env.VITE_APP_VERSION ?? 'dev',\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <ErrorBoundaryProvider\r\n      onError={(error, errorInfo) => {\r\n        console.error('[App] Error caught:', error, errorInfo);\r\n      }}\r\n    >\r\n      <QueryClientProvider client={queryClient}>\r\n        <BrowserRouter>\r\n          <AuthProvider>\r\n            <TenantProvider>\r\n              {/* Global UI states */}\r\n              <OfflineBanner />\r\n              <LoadingOverlay visible={globalLoading} />\r\n              \r\n              {/* Main app */}\r\n              <AppRoutes />\r\n              \r\n              {/* Toasts */}\r\n              <Toaster />\r\n            </TenantProvider>\r\n          </AuthProvider>\r\n        </BrowserRouter>\r\n        {import.meta.env.DEV && <ReactQueryDevtools initialIsOpen={false} />}\r\n      </QueryClientProvider>\r\n    </ErrorBoundaryProvider>\r\n  );\r\n}\r\n\r\n","import { StrictMode } from 'react';\r\nimport { createRoot } from 'react-dom/client';\r\nimport { App } from './App';\r\nimport './styles/globals.css';\r\n\r\nconst rootElement = document.getElementById('root');\r\n\r\nif (!rootElement) {\r\n  throw new Error('Root element not found');\r\n}\r\n\r\ncreateRoot(rootElement).render(\r\n  <StrictMode>\r\n    <App />\r\n  </StrictMode>\r\n);\r\n\r\n"],"file":"assets/index-QTZiQ_WQ.js"}